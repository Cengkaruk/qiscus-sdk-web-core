(function(e,t){'object'==typeof exports&&'object'==typeof module?module.exports=t():'function'==typeof define&&define.amd?define('QiscusSDKCore',[],t):'object'==typeof exports?exports.QiscusSDKCore=t():e.QiscusSDKCore=t()})(this,function(){var e=Math.PI,t=String.fromCharCode,n=Math.sqrt,o=Math.LN2,s=Math.log,r=Math.pow,l=Math.abs,a=Math.exp,i=Math.expm1,d=Math.max,c=Math.round,p=Math.floor,u=Math.ceil,m=Math.min;return function(e){function t(o){if(n[o])return n[o].exports;var s=n[o]={i:o,l:!1,exports:{}};return e[o].call(s.exports,s,s.exports,t),s.l=!0,s.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e['default']}:function(){return e};return t.d(n,'a',n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p='',t(t.s=188)}([function(e,t,n){var o=n(3),s=n(22),r=n(13),a=n(14),i=n(19),l='prototype',d=function(e,t,n){var c=e&d.F,p=e&d.G,u=e&d.S,m=e&d.P,g=e&d.B,_=p?o:u?o[t]||(o[t]={}):(o[t]||{})[l],y=p?s:s[t]||(s[t]={}),f=y[l]||(y[l]={}),h,v,T,b;for(h in p&&(n=t),n)v=!c&&_&&void 0!==_[h],T=(v?_:n)[h],b=g&&v?i(T,o):m&&'function'==typeof T?i(Function.call,T):T,_&&a(_,h,T,e&d.U),y[h]!=T&&r(y,h,b),m&&f[h]!=T&&(f[h]=T)};o.core=s,d.F=1,d.G=2,d.S=4,d.P=8,d.B=16,d.W=32,d.U=64,d.R=128,e.exports=d},function(e,t,n){function o(e){var t={},n=e.split(u),o;if(m.test(n[0])?(t.date=null,o=n[0]):(t.date=n[0],o=n[1]),o){var s=E.exec(o);s?(t.time=o.replace(s[1],''),t.timezone=s[1]):t.time=o}return t}function s(e,t){var n=_[t],o=f[t],s;if(s=y.exec(e)||o.exec(e),s){var r=s[1];return{year:parseInt(r,10),restDateString:e.slice(r.length)}}if(s=g.exec(e)||n.exec(e),s){var a=s[1];return{year:100*parseInt(a,10),restDateString:e.slice(a.length)}}return{year:null}}function r(e,t){if(null===t)return null;var n,o,s,r;if(0===e.length)return o=new Date(0),o.setUTCFullYear(t),o;if(n=h.exec(e),n)return o=new Date(0),s=parseInt(n[1],10)-1,o.setUTCFullYear(t,s),o;if(n=v.exec(e),n){o=new Date(0);var a=parseInt(n[1],10);return o.setUTCFullYear(t,0,a),o}if(n=T.exec(e),n){o=new Date(0),s=parseInt(n[1],10)-1;var i=parseInt(n[2],10);return o.setUTCFullYear(t,s,i),o}if(n=b.exec(e),n)return r=parseInt(n[1],10)-1,l(t,r);if(n=x.exec(e),n){r=parseInt(n[1],10)-1;var d=parseInt(n[2],10)-1;return l(t,r,d)}return null}function a(e){var t,n,o;if(t=S.exec(e),t)return n=parseFloat(t[1].replace(',','.')),n%24*c;if(t=k.exec(e),t)return n=parseInt(t[1],10),o=parseFloat(t[2].replace(',','.')),n%24*c+o*p;if(t=I.exec(e),t){n=parseInt(t[1],10),o=parseInt(t[2],10);var s=parseFloat(t[3].replace(',','.'));return n%24*c+o*p+1e3*s}return null}function i(e){var t,n;return(t=M.exec(e),t)?0:(t=O.exec(e),t)?(n=60*parseInt(t[2],10),'+'===t[1]?-n:n):(t=A.exec(e),t?(n=60*parseInt(t[2],10)+parseInt(t[3],10),'+'===t[1]?-n:n):0)}function l(e,t,n){t=t||0,n=n||0;var o=new Date(0);o.setUTCFullYear(e,0,4);var s=o.getUTCDay()||7,r=7*t+n+1-s;return o.setUTCDate(o.getUTCDate()+r),o}var d=n(101),c=3.6e6,p=6e4,u=/[T ]/,m=/:/,g=/^(\d{2})$/,_=[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],y=/^(\d{4})/,f=[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],h=/^-(\d{2})$/,v=/^-?(\d{3})$/,T=/^-?(\d{2})-?(\d{2})$/,b=/^-?W(\d{2})$/,x=/^-?W(\d{2})-?(\d{1})$/,S=/^(\d{2}([.,]\d*)?)$/,k=/^(\d{2}):?(\d{2}([.,]\d*)?)$/,I=/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,E=/([Z+-].*)$/,M=/^(Z)$/,O=/^([+-])(\d{2})$/,A=/^([+-])(\d{2}):?(\d{2})$/;e.exports=function(e,t){if(d(e))return new Date(e.getTime());if('string'!=typeof e)return new Date(e);var n=(t||{}).additionalDigits;n=null==n?2:+n;var l=o(e),c=s(l.date,n),u=c.year,m=c.restDateString,g=r(m,u);if(g){var _=g.getTime(),y=0,f;return l.time&&(y=a(l.time)),l.timezone?f=i(l.timezone):(f=new Date(_+y).getTimezoneOffset(),f=new Date(_+y+f*p).getTimezoneOffset()),new Date(_+y+f*p)}return new Date(e)}},function(e,t,n){var o=n(5);e.exports=function(e){if(!o(e))throw TypeError(e+' is not an object!');return e}},function(e){var t=e.exports='undefined'!=typeof window&&window.Math==Math?window:'undefined'!=typeof self&&self.Math==Math?self:Function('return this')();'number'==typeof __g&&(__g=t)},function(e){e.exports=function(e){try{return!!e()}catch(t){return!0}}},function(e){e.exports=function(e){return'object'==typeof e?null!==e:'function'==typeof e}},function(e,t,n){var o=n(57)('wks'),s=n(33),r=n(3).Symbol,a='function'==typeof r,i=e.exports=function(e){return o[e]||(o[e]=a&&r[e]||(a?r:s)('Symbol.'+e))};i.store=o},function(e,t,n){e.exports=!n(4)(function(){return 7!=Object.defineProperty({},'a',{get:function(){return 7}}).a})},function(e,t,n){var o=n(2),s=n(112),r=n(23),a=Object.defineProperty;t.f=n(7)?Object.defineProperty:function(e,t,n){if(o(e),t=r(t,!0),o(n),s)try{return a(e,t,n)}catch(t){}if('get'in n||'set'in n)throw TypeError('Accessors not supported!');return'value'in n&&(e[t]=n.value),e}},function(e,t,n){var o=n(25);e.exports=function(e){return 0<e?m(o(e),9007199254740991):0}},function(e,t,n){var o=n(24);e.exports=function(e){return Object(o(e))}},function(e){e.exports=function(e){if('function'!=typeof e)throw TypeError(e+' is not a function!');return e}},function(e){var t={}.hasOwnProperty;e.exports=function(e,n){return t.call(e,n)}},function(e,t,n){var o=n(8),s=n(32);e.exports=n(7)?function(e,t,n){return o.f(e,t,s(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var o=n(3),s=n(13),r=n(12),a=n(33)('src'),i='toString',l=Function[i],d=(''+l).split(i);n(22).inspectSource=function(e){return l.call(e)},(e.exports=function(e,t,n,i){var l='function'==typeof n;l&&(r(n,'name')||s(n,'name',t));e[t]===n||(l&&(r(n,a)||s(n,a,e[t]?''+e[t]:d.join(t+''))),e===o?e[t]=n:i?e[t]?e[t]=n:s(e,t,n):(delete e[t],s(e,t,n)))})(Function.prototype,i,function(){return'function'==typeof this&&this[a]||l.call(this)})},function(e,t,n){var o=n(0),s=n(4),r=n(24),a=/"/g,i=function(e,t,n,o){var s=r(e)+'',i='<'+t;return''!==n&&(i+=' '+n+'="'+(o+'').replace(a,'&quot;')+'"'),i+'>'+s+'</'+t+'>'};e.exports=function(e,t){var n={};n[e]=t(i),o(o.P+o.F*s(function(){var t=''[e]('"');return t!==t.toLowerCase()||3<t.split('"').length}),'String',n)}},function(e,t,n){var o=n(50),s=n(24);e.exports=function(e){return o(s(e))}},function(e,t,n){var o=n(51),s=n(32),r=n(16),a=n(23),i=n(12),l=n(112),d=Object.getOwnPropertyDescriptor;t.f=n(7)?d:function(e,t){if(e=r(e),t=a(t,!0),l)try{return d(e,t)}catch(t){}return i(e,t)?s(!o.f.call(e,t),e[t]):void 0}},function(e,t,n){var o=n(12),s=n(10),r=n(77)('IE_PROTO'),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=s(e),o(e,r)?e[r]:'function'==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){var o=n(11);e.exports=function(e,t,n){return(o(e),void 0===t)?e:1===n?function(n){return e.call(t,n)}:2===n?function(n,o){return e.call(t,n,o)}:3===n?function(n,o,s){return e.call(t,n,o,s)}:function(){return e.apply(t,arguments)}}},function(e){var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},function(e,t,n){'use strict';var o=n(4);e.exports=function(e,t){return!!e&&o(function(){t?e.call(null,function(){},1):e.call(null)})}},function(e){var t=e.exports={version:'2.5.1'};'number'==typeof __e&&(__e=t)},function(e,t,n){var o=n(5);e.exports=function(e,t){if(!o(e))return e;var n,s;if(t&&'function'==typeof(n=e.toString)&&!o(s=n.call(e)))return s;if('function'==typeof(n=e.valueOf)&&!o(s=n.call(e)))return s;if(!t&&'function'==typeof(n=e.toString)&&!o(s=n.call(e)))return s;throw TypeError('Can\'t convert object to primitive value')}},function(e){e.exports=function(e){if(e==void 0)throw TypeError('Can\'t call method on  '+e);return e}},function(e){e.exports=function(e){return isNaN(e=+e)?0:(0<e?p:u)(e)}},function(e,t,n){var o=n(0),s=n(22),r=n(4);e.exports=function(e,t){var n=(s.Object||{})[e]||Object[e],a={};a[e]=t(n),o(o.S+o.F*r(function(){n(1)}),'Object',a)}},function(e,t,n){var o=n(19),s=n(50),r=n(10),a=n(9),i=n(94);e.exports=function(e,t){var n=1==e,l=4==e,d=6==e,c=t||i;return function(t,i,p){for(var u=r(t),m=s(u),g=o(i,p,3),_=a(m.length),y=0,f=n?c(t,_):2==e?c(t,0):void 0,h,v;_>y;y++)if((5==e||d||y in m)&&(h=m[y],v=g(h,y,u),e))if(n)f[y]=v;else if(v)switch(e){case 3:return!0;case 5:return h;case 6:return y;case 2:f.push(h);}else if(l)return!1;return d?-1:3==e||l?l:f}}},function(e,t,n){'use strict';if(n(7)){var o=n(34),s=n(3),r=n(4),a=n(0),i=n(67),l=n(100),d=n(19),u=n(40),m=n(32),g=n(13),_=n(42),y=n(25),f=n(9),h=n(138),v=n(36),T=n(23),b=n(12),x=n(52),S=n(5),k=n(10),I=n(91),E=n(37),M=n(18),A=n(38).f,P=n(93),O=n(33),R=n(6),C=n(27),D=n(58),N=n(65),L=n(96),w=n(48),F=n(62),U=n(39),q=n(95),H=n(128),Y=n(8),B=n(17),j=Y.f,G=B.f,V=s.RangeError,W=s.TypeError,K=s.Uint8Array,Q='ArrayBuffer',z='Shared'+Q,X='BYTES_PER_ELEMENT',J='prototype',$=Array[J],Z=l.ArrayBuffer,ee=l.DataView,te=C(0),ne=C(2),oe=C(3),se=C(4),re=C(5),ae=C(6),ie=D(!0),le=D(!1),de=L.values,ce=L.keys,pe=L.entries,ue=$.lastIndexOf,me=$.reduce,ge=$.reduceRight,_e=$.join,ye=$.sort,fe=$.slice,he=$.toString,ve=$.toLocaleString,Te=R('iterator'),be=R('toStringTag'),xe=O('typed_constructor'),Se=O('def_constructor'),ke=i.CONSTR,Ie=i.TYPED,Ee=i.VIEW,Me='Wrong length!',Oe=C(1,function(e,t){return De(N(e,e[Se]),t)}),Ae=r(function(){return 1===new K(new Uint16Array([1]).buffer)[0]}),Pe=!!K&&!!K[J].set&&r(function(){new K(1).set({})}),Re=function(e,t){var n=y(e);if(0>n||n%t)throw V('Wrong offset!');return n},Ce=function(e){if(S(e)&&Ie in e)return e;throw W(e+' is not a typed array!')},De=function(e,t){if(!(S(e)&&xe in e))throw W('It is not a typed array constructor!');return new e(t)},Ne=function(e,t){return Le(N(e,e[Se]),t)},Le=function(e,t){for(var n=0,o=t.length,s=De(e,o);o>n;)s[n]=t[n++];return s},we=function(e,t,n){j(e,t,{get:function(){return this._d[n]}})},Fe=function(e){var t=k(e),n=arguments.length,o=1<n?arguments[1]:void 0,s=o!==void 0,r=P(t),a,i,l,c,p,u;if(r!=void 0&&!I(r)){for(u=r.call(t),l=[],a=0;!(p=u.next()).done;a++)l.push(p.value);t=l}for(s&&2<n&&(o=d(o,arguments[2],2)),a=0,i=f(t.length),c=De(this,i);i>a;a++)c[a]=s?o(t[a],a):t[a];return c},Ue=function(){for(var e=0,t=arguments.length,n=De(this,t);t>e;)n[e]=arguments[e++];return n},qe=!!K&&r(function(){ve.call(new K(1))}),He=function(){return ve.apply(qe?fe.call(Ce(this)):Ce(this),arguments)},Ye={copyWithin:function(e,t){return H.call(Ce(this),e,t,2<arguments.length?arguments[2]:void 0)},every:function(e){return se(Ce(this),e,1<arguments.length?arguments[1]:void 0)},fill:function(){return q.apply(Ce(this),arguments)},filter:function(e){return Ne(this,ne(Ce(this),e,1<arguments.length?arguments[1]:void 0))},find:function(e){return re(Ce(this),e,1<arguments.length?arguments[1]:void 0)},findIndex:function(e){return ae(Ce(this),e,1<arguments.length?arguments[1]:void 0)},forEach:function(e){te(Ce(this),e,1<arguments.length?arguments[1]:void 0)},indexOf:function(e){return le(Ce(this),e,1<arguments.length?arguments[1]:void 0)},includes:function(e){return ie(Ce(this),e,1<arguments.length?arguments[1]:void 0)},join:function(){return _e.apply(Ce(this),arguments)},lastIndexOf:function(){return ue.apply(Ce(this),arguments)},map:function(e){return Oe(Ce(this),e,1<arguments.length?arguments[1]:void 0)},reduce:function(){return me.apply(Ce(this),arguments)},reduceRight:function(){return ge.apply(Ce(this),arguments)},reverse:function(){for(var e=this,t=Ce(e).length,n=p(t/2),o=0,s;o<n;)s=e[o],e[o++]=e[--t],e[t]=s;return e},some:function(e){return oe(Ce(this),e,1<arguments.length?arguments[1]:void 0)},sort:function(e){return ye.call(Ce(this),e)},subarray:function(e,t){var n=Ce(this),o=n.length,s=v(e,o);return new(N(n,n[Se]))(n.buffer,n.byteOffset+s*n.BYTES_PER_ELEMENT,f((t===void 0?o:v(t,o))-s))}},Be=function(e,t){return Ne(this,fe.call(Ce(this),e,t))},je=function(e){Ce(this);var t=Re(arguments[1],1),n=this.length,o=k(e),s=f(o.length),r=0;if(s+t>n)throw V(Me);for(;r<s;)this[t+r]=o[r++]},Ge={entries:function(){return pe.call(Ce(this))},keys:function(){return ce.call(Ce(this))},values:function(){return de.call(Ce(this))}},Ve=function(e,t){return S(e)&&e[Ie]&&'symbol'!=typeof t&&t in e&&+t+''==t+''},We=function(e,t){return Ve(e,t=T(t,!0))?m(2,e[t]):G(e,t)},Ke=function(e,t,n){return Ve(e,t=T(t,!0))&&S(n)&&b(n,'value')&&!b(n,'get')&&!b(n,'set')&&!n.configurable&&(!b(n,'writable')||n.writable)&&(!b(n,'enumerable')||n.enumerable)?(e[t]=n.value,e):j(e,t,n)};ke||(B.f=We,Y.f=Ke),a(a.S+a.F*!ke,'Object',{getOwnPropertyDescriptor:We,defineProperty:Ke}),r(function(){he.call({})})&&(he=ve=function(){return _e.call(this)});var Qe=_({},Ye);_(Qe,Ge),g(Qe,Te,Ge.values),_(Qe,{slice:Be,set:je,constructor:function(){},toString:he,toLocaleString:He}),we(Qe,'buffer','b'),we(Qe,'byteOffset','o'),we(Qe,'byteLength','l'),we(Qe,'length','e'),j(Qe,be,{get:function(){return this[Ie]}}),e.exports=function(e,t,n,l){l=!!l;var d=e+(l?'Clamped':'')+'Array',p=s[d],m=p||{},_=p&&M(p),y=!p||!i.ABV,v={},T=p&&p[J],b=function(n,o){var s=n._d;return s.v['get'+e](o*t+s.o,Ae)},k=function(n,o,s){var r=n._d;l&&(s=0>(s=c(s))?0:255<s?255:255&s),r.v['set'+e](o*t+r.o,s,Ae)},I=function(e,t){j(e,t,{get:function(){return b(this,t)},set:function(e){return k(this,t,e)},enumerable:!0})};y?(p=n(function(e,n,o,s){u(e,p,d,'_d');var r=0,a=0,i,l,c,m;if(!S(n))c=h(n),l=c*t,i=new Z(l);else if(n instanceof Z||(m=x(n))==Q||m==z){i=n,a=Re(o,t);var _=n.byteLength;if(void 0===s){if(_%t)throw V(Me);if(l=_-a,0>l)throw V(Me)}else if(l=f(s)*t,l+a>_)throw V(Me);c=l/t}else return Ie in n?Le(p,n):Fe.call(p,n);for(g(e,'_d',{b:i,o:a,l:l,e:c,v:new ee(i)});r<c;)I(e,r++)}),T=p[J]=E(Qe),g(T,'constructor',p)):(!r(function(){p(1)})||!r(function(){new p(-1)})||!F(function(e){new p,new p(null),new p(1.5),new p(e)},!0))&&(p=n(function(e,n,o,s){u(e,p,d);var r;return S(n)?n instanceof Z||(r=x(n))==Q||r==z?void 0===s?void 0===o?new m(n):new m(n,Re(o,t)):new m(n,Re(o,t),s):Ie in n?Le(p,n):Fe.call(p,n):new m(h(n))}),te(_===Function.prototype?A(m):A(m).concat(A(_)),function(e){e in p||g(p,e,m[e])}),p[J]=T,!o&&(T.constructor=p));var O=T[Te],P=!!O&&('values'==O.name||O.name==void 0),R=Ge.values;g(p,xe,!0),g(T,Ie,d),g(T,Ee,!0),g(T,Se,p),(l?new p(1)[be]!=d:!(be in T))&&j(T,be,{get:function(){return d}}),v[d]=p,a(a.G+a.W+a.F*(p!=m),v),a(a.S,d,{BYTES_PER_ELEMENT:t}),a(a.S+a.F*r(function(){m.of.call(p,1)}),d,{from:Fe,of:Ue}),X in T||g(T,X,t),a(a.P,d,Ye),U(d),a(a.P+a.F*Pe,d,{set:je}),a(a.P+a.F*!P,d,Ge),o||T.toString==he||(T.toString=he),a(a.P+a.F*r(function(){new p(1).slice()}),d,{slice:Be}),a(a.P+a.F*(r(function(){return[1,2].toLocaleString()!=new p([1,2]).toLocaleString()})||!r(function(){T.toLocaleString.call([1,2])})),d,{toLocaleString:He}),w[d]=P?O:R,o||P||g(T,Te,R)}}else e.exports=function(){}},function(e,t,n){var o=n(133),s=n(0),r=n(57)('metadata'),a=r.store||(r.store=new(n(136))),i=function(e,t,n){var s=a.get(e);if(!s){if(!n)return;a.set(e,s=new o)}var r=s.get(t);if(!r){if(!n)return;s.set(t,r=new o)}return r};e.exports={store:a,map:i,has:function(e,t,n){var o=i(t,n,!1);return o!==void 0&&o.has(e)},get:function(e,t,n){var o=i(t,n,!1);return o===void 0?void 0:o.get(e)},set:function(e,t,n,o){i(n,o,!0).set(e,t)},keys:function(e,t){var n=i(e,t,!1),o=[];return n&&n.forEach(function(e,t){o.push(t)}),o},key:function(e){return e===void 0||'symbol'==typeof e?e:e+''},exp:function(e){s(s.S,'Reflect',e)}}},function(e,t,n){var o=n(33)('meta'),s=n(5),r=n(12),a=n(8).f,i=0,l=Object.isExtensible||function(){return!0},d=!n(4)(function(){return l(Object.preventExtensions({}))}),c=function(e){a(e,o,{value:{i:'O'+ ++i,w:{}}})},p=e.exports={KEY:o,NEED:!1,fastKey:function(e,t){if(!s(e))return'symbol'==typeof e?e:('string'==typeof e?'S':'P')+e;if(!r(e,o)){if(!l(e))return'F';if(!t)return'E';c(e)}return e[o].i},getWeak:function(e,t){if(!r(e,o)){if(!l(e))return!0;if(!t)return!1;c(e)}return e[o].w},onFreeze:function(e){return d&&p.NEED&&l(e)&&!r(e,o)&&c(e),e}}},function(e,t,n){var o=n(6)('unscopables'),s=Array.prototype;s[o]==void 0&&n(13)(s,o,{}),e.exports=function(e){s[o][e]=!0}},function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e){var t=0,n=Math.random();e.exports=function(e){return'Symbol('.concat(e===void 0?'':e,')_',(++t+n).toString(36))}},function(e){e.exports=!1},function(e,t,n){var o=n(114),s=n(78);e.exports=Object.keys||function(e){return o(e,s)}},function(e,t,n){var o=n(25);e.exports=function(e,t){return e=o(e),0>e?d(e+t,0):m(e,t)}},function(e,t,n){var o=n(2),s=n(115),r=n(78),a=n(77)('IE_PROTO'),i=function(){},l='prototype',d=function(){var e=n(75)('iframe'),t=r.length,o='<',s='>',a;for(e.style.display='none',n(79).appendChild(e),e.src='javascript:',a=e.contentWindow.document,a.open(),a.write(o+'script'+s+'document.F=Object'+o+'/script'+s),a.close(),d=a.F;t--;)delete d[l][r[t]];return d()};e.exports=Object.create||function(e,t){var n;return null===e?n=d():(i[l]=o(e),n=new i,i[l]=null,n[a]=e),void 0===t?n:s(n,t)}},function(e,t,n){var o=n(114),s=n(78).concat('length','prototype');t.f=Object.getOwnPropertyNames||function(e){return o(e,s)}},function(e,t,n){'use strict';var o=n(3),s=n(8),r=n(7),a=n(6)('species');e.exports=function(e){var t=o[e];r&&t&&!t[a]&&s.f(t,a,{configurable:!0,get:function(){return this}})}},function(e){e.exports=function(e,t,n,o){if(!(e instanceof t)||o!==void 0&&o in e)throw TypeError(n+': incorrect invocation!');return e}},function(e,t,n){var o=n(19),s=n(126),r=n(91),a=n(2),i=n(9),l=n(93),d={},c={},t=e.exports=function(e,t,n,p,u){var m=u?function(){return e}:l(e),g=o(n,p,t?2:1),_=0,y,f,h,v;if('function'!=typeof m)throw TypeError(e+' is not iterable!');if(r(m)){for(y=i(e.length);y>_;_++)if(v=t?g(a(f=e[_])[0],f[1]):g(e[_]),v===d||v===c)return v;}else for(h=m.call(e);!(f=h.next()).done;)if(v=s(h,g,f.value,t),v===d||v===c)return v};t.BREAK=d,t.RETURN=c},function(e,t,n){var o=n(14);e.exports=function(e,t,n){for(var s in t)o(e,s,t[s],n);return e}},function(e,t,n){var o=n(1);e.exports=function(e){var t=o(e);return t.setHours(0,0,0,0),t}},function(e,t,n){var o=n(72);e.exports=function(e){return o(e,{weekStartsOn:1})}},function(e,t,n){var o=n(1),s=n(44);e.exports=function(e){var t=o(e),n=t.getFullYear(),r=new Date(0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);var a=s(r),i=new Date(0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);var l=s(i);return t.getTime()>=a.getTime()?n+1:t.getTime()>=l.getTime()?n:n-1}},function(e,t,n){var o=n(8).f,s=n(12),r=n(6)('toStringTag');e.exports=function(e,t,n){e&&!s(e=n?e:e.prototype,r)&&o(e,r,{configurable:!0,value:t})}},function(e,t,n){var o=n(0),s=n(24),r=n(4),a=n(81),i='['+a+']',l='\u200B\x85',d=RegExp('^'+i+i+'*'),c=RegExp(i+i+'*$'),p=function(e,t,n){var s={},i=r(function(){return!!a[e]()||l[e]()!=l}),d=s[e]=i?t(u):a[e];n&&(s[n]=d),o(o.P+o.F*i,'String',s)},u=p.trim=function(e,t){return e=s(e)+'',1&t&&(e=e.replace(d,'')),2&t&&(e=e.replace(c,'')),e};e.exports=p},function(e){e.exports={}},function(e,t,n){var o=n(5);e.exports=function(e,t){if(!o(e)||e._t!==t)throw TypeError('Incompatible receiver, '+t+' required!');return e}},function(e,t,n){var o=n(20);e.exports=Object('z').propertyIsEnumerable(0)?Object:function(e){return'String'==o(e)?e.split(''):Object(e)}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var o=n(20),s=n(6)('toStringTag'),r='Arguments'==o(function(){return arguments}()),a=function(e,t){try{return e[t]}catch(t){}};e.exports=function(e){var t,n,i;return e===void 0?'Undefined':null===e?'Null':'string'==typeof(n=a(t=Object(e),s))?n:r?o(t):'Object'==(i=o(t))&&'function'==typeof t.callee?'Arguments':i}},function(e,t,n){var o=n(45),s=n(44);e.exports=function(e){var t=o(e),n=new Date(0);n.setFullYear(t,0,4),n.setHours(0,0,0,0);var r=s(n);return r}},function(e,t,n){var o=n(1);e.exports=function(e,t){var n=o(e),s=n.getTime(),r=o(t),a=r.getTime();return s<a?-1:s>a?1:0}},function(e,t,n){var o=n(1);e.exports=function(e,t){var n=o(e);return n.setDate(n.getDate()+ +t),n}},function(e,t,n){var o=n(1);e.exports=function(e,t){var n=o(e).getTime();return new Date(n+ +t)}},function(e,t,n){var o=n(3),s='__core-js_shared__',r=o[s]||(o[s]={});e.exports=function(e){return r[e]||(r[e]={})}},function(e,t,n){var o=n(16),s=n(9),r=n(36);e.exports=function(e){return function(t,n,a){var i=o(t),l=s(i.length),d=r(a,l),c;if(e&&n!=n){for(;l>d;)if(c=i[d++],c!=c)return!0;}else for(;l>d;d++)if((e||d in i)&&i[d]===n)return e||d||0;return!e&&-1}}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var o=n(20);e.exports=Array.isArray||function(e){return'Array'==o(e)}},function(e,t,n){var o=n(5),s=n(20),r=n(6)('match');e.exports=function(e){var t;return o(e)&&((t=e[r])===void 0?'RegExp'==s(e):!!t)}},function(e,t,n){var o=n(6)('iterator'),s=!1;try{var r=[7][o]();r['return']=function(){s=!0},Array.from(r,function(){throw 2})}catch(t){}e.exports=function(e,t){if(!t&&!s)return!1;var n=!1;try{var r=[7],a=r[o]();a.next=function(){return{done:n=!0}},r[o]=function(){return a},e(r)}catch(t){}return n}},function(e,t,n){'use strict';var o=n(2);e.exports=function(){var e=o(this),t='';return e.global&&(t+='g'),e.ignoreCase&&(t+='i'),e.multiline&&(t+='m'),e.unicode&&(t+='u'),e.sticky&&(t+='y'),t}},function(e,t,n){'use strict';var o=n(13),s=n(14),r=n(4),a=n(24),i=n(6);e.exports=function(e,t,n){var l=i(e),d=n(a,l,''[e]),c=d[0],p=d[1];r(function(){var t={};return t[l]=function(){return 7},7!=''[e](t)})&&(s(String.prototype,e,c),o(RegExp.prototype,l,2==t?function(e,t){return p.call(e,this,t)}:function(e){return p.call(e,this)}))}},function(e,t,n){var o=n(2),s=n(11),r=n(6)('species');e.exports=function(e,t){var n=o(e).constructor,a;return n===void 0||(a=o(n)[r])==void 0?t:s(a)}},function(e,t,n){'use strict';var o=n(3),s=n(0),r=n(14),a=n(42),i=n(30),l=n(41),d=n(40),c=n(5),p=n(4),u=n(62),m=n(46),g=n(82);e.exports=function(e,t,n,_,y,f){var h=o[e],v=h,T=y?'set':'add',b=v&&v.prototype,x={},S=function(e){var t=b[e];r(b,e,'delete'==e?function(e){return f&&!c(e)?!1:t.call(this,0===e?0:e)}:'has'==e?function(e){return f&&!c(e)?!1:t.call(this,0===e?0:e)}:'get'==e?function(e){return f&&!c(e)?void 0:t.call(this,0===e?0:e)}:'add'==e?function(e){return t.call(this,0===e?0:e),this}:function(e,n){return t.call(this,0===e?0:e,n),this})};if('function'!=typeof v||!(f||b.forEach&&!p(function(){new v().entries().next()})))v=_.getConstructor(t,e,y,T),a(v.prototype,n),i.NEED=!0;else{var k=new v,I=k[T](f?{}:-0,1)!=k,E=p(function(){k.has(1)}),M=u(function(e){new v(e)}),O=!f&&p(function(){for(var e=new v,t=5;t--;)e[T](t,t);return!e.has(-0)});M||(v=t(function(t,n){d(t,v,e);var o=g(new h,t,v);return void 0!=n&&l(n,y,o[T],o),o}),v.prototype=b,b.constructor=v),(E||O)&&(S('delete'),S('has'),y&&S('get')),(O||I)&&S(T),f&&b.clear&&delete b.clear}return m(v,e),x[e]=v,s(s.G+s.W+s.F*(v!=h),x),f||_.setStrong(v,e,y),v}},function(e,t,n){for(var o=n(3),s=n(13),r=n(33),a=r('typed_array'),l=r('view'),d=!!(o.ArrayBuffer&&o.DataView),c=d,p=0,i=['Int8Array','Uint8Array','Uint8ClampedArray','Int16Array','Uint16Array','Int32Array','Uint32Array','Float32Array','Float64Array'],u;p<9;)(u=o[i[p++]])?(s(u.prototype,a,!0),s(u.prototype,l,!0)):c=!1;e.exports={ABV:d,CONSTR:c,TYPED:a,VIEW:l}},function(e,t,n){'use strict';e.exports=n(34)||!n(4)(function(){var e=Math.random();__defineSetter__.call(null,e,function(){}),delete n(3)[e]})},function(e,t,n){'use strict';var o=n(0);e.exports=function(e){o(o.S,e,{of:function(){for(var e=arguments.length,t=Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},function(e,t,n){'use strict';var o=n(0),s=n(11),r=n(19),a=n(41);e.exports=function(e){o(o.S,e,{from:function(e){var t=arguments[1],o,i,l,n;return(s(this),o=void 0!==t,o&&s(t),void 0==e)?new this:(i=[],o?(l=0,n=r(t,arguments[2],2),a(e,!1,function(e){i.push(n(e,l++))})):a(e,!1,i.push,i),new this(i))}})}},function(e,t,n){var o=n(43),s=6e4;e.exports=function(e,t){var n=o(e),r=o(t),a=n.getTime()-n.getTimezoneOffset()*s,i=r.getTime()-r.getTimezoneOffset()*s;return c((a-i)/8.64e7)}},function(e,t,n){var o=n(1);e.exports=function(e,t){var n=t?+t.weekStartsOn||0:0,s=o(e),r=s.getDay(),a=(r<n?7:0)+r-n;return s.setDate(s.getDate()-a),s.setHours(0,0,0,0),s}},function(e,t,n){var o=n(1);e.exports=function(e,t){var n=o(e),s=o(t);return n.getTime()-s.getTime()}},function(e,t,n){var o=n(1),s=n(107);e.exports=function(e,t){var n=o(e),r=n.getMonth()+ +t,a=new Date(0);a.setFullYear(n.getFullYear(),r,1),a.setHours(0,0,0,0);var i=s(a);return n.setMonth(r,m(i,n.getDate())),n}},function(e,t,n){var o=n(5),s=n(3).document,r=o(s)&&o(s.createElement);e.exports=function(e){return r?s.createElement(e):{}}},function(e,t,n){var o=n(3),s=n(22),r=n(34),a=n(113),i=n(8).f;e.exports=function(e){var t=s.Symbol||(s.Symbol=r?{}:o.Symbol||{});'_'==e.charAt(0)||e in t||i(t,e,{value:a.f(e)})}},function(e,t,n){var o=n(57)('keys'),s=n(33);e.exports=function(e){return o[e]||(o[e]=s(e))}},function(e){e.exports=['constructor','hasOwnProperty','isPrototypeOf','propertyIsEnumerable','toLocaleString','toString','valueOf']},function(e,t,n){var o=n(3).document;e.exports=o&&o.documentElement},function(e,t,n){var o=n(5),s=n(2),r=function(e,t){if(s(e),!o(t)&&null!==t)throw TypeError(t+': can\'t set as prototype!')};e.exports={set:Object.setPrototypeOf||('__proto__'in{}?function(e,t,o){try{o=n(19)(Function.call,n(17).f(Object.prototype,'__proto__').set,2),o(e,[]),t=!(e instanceof Array)}catch(n){t=!0}return function(e,n){return r(e,n),t?e.__proto__=n:o(e,n),e}}({},!1):void 0),check:r}},function(e){e.exports='\t\n\x0B\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF'},function(e,t,n){var o=n(5),s=n(80).set;e.exports=function(e,t,n){var r=t.constructor,a;return r!==n&&'function'==typeof r&&(a=r.prototype)!==n.prototype&&o(a)&&s&&s(e,a),e}},function(e,t,n){'use strict';var o=n(25),s=n(24);e.exports=function(e){var t=s(this)+'',r='',a=o(e);if(0>a||a==Infinity)throw RangeError('Count can\'t be negative');for(;0<a;(a>>>=1)&&(t+=t))1&a&&(r+=t);return r}},function(e){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:0>e?-1:1}},function(e){var t=i;e.exports=!t||22025.465794806718<t(10)||22025.465794806718>t(10)||-2e-17!=t(-2e-17)?function(e){return 0==(e=+e)?e:-1e-6<e&&1e-6>e?e+e*e/2:a(e)-1}:t},function(e,t,n){var o=n(25),r=n(24);e.exports=function(e){return function(t,n){var d=r(t)+'',s=o(n),i=d.length,l,a;return 0>s||s>=i?e?'':void 0:(l=d.charCodeAt(s),55296>l||56319<l||s+1===i||56320>(a=d.charCodeAt(s+1))||57343<a?e?d.charAt(s):l:e?d.slice(s,s+2):(l-55296<<10)+(a-56320)+65536)}}},function(e,t,n){'use strict';var o=n(34),s=n(0),r=n(14),a=n(13),i=n(12),l=n(48),d=n(88),c=n(46),p=n(18),u=n(6)('iterator'),m=!([].keys&&'next'in[].keys()),g='keys',_='values',y=function(){return this};e.exports=function(e,t,n,f,h,v,T){d(n,t,f);var b=function(e){return!m&&e in I?I[e]:e===g?function(){return new n(this,e)}:e===_?function(){return new n(this,e)}:function(){return new n(this,e)}},x=t+' Iterator',S=h==_,k=!1,I=e.prototype,E=I[u]||I['@@iterator']||h&&I[h],M=E||b(h),O=h?S?b('entries'):M:void 0,A='Array'==t?I.entries||E:E,P,R,C;if(A&&(C=p(A.call(new e)),C!==Object.prototype&&C.next&&(c(C,x,!0),!o&&!i(C,u)&&a(C,u,y))),S&&E&&E.name!==_&&(k=!0,M=function(){return E.call(this)}),(!o||T)&&(m||k||!I[u])&&a(I,u,M),l[t]=M,l[x]=y,h)if(P={values:S?M:b(_),keys:v?M:b(g),entries:O},T)for(R in P)R in I||r(I,R,P[R]);else s(s.P+s.F*(m||k),t,P);return P}},function(e,t,n){'use strict';var o=n(37),s=n(32),r=n(46),a={};n(13)(a,n(6)('iterator'),function(){return this}),e.exports=function(e,t,n){e.prototype=o(a,{next:s(1,n)}),r(e,t+' Iterator')}},function(e,t,n){var o=n(61),s=n(24);e.exports=function(e,t,n){if(o(t))throw TypeError('String#'+n+' doesn\'t accept regex!');return s(e)+''}},function(e,t,n){var o=n(6)('match');e.exports=function(e){var t=/./;try{'/./'[e](t)}catch(n){try{return t[o]=!1,!'/./'[e](t)}catch(e){}}return!0}},function(e,t,n){var o=n(48),s=n(6)('iterator'),r=Array.prototype;e.exports=function(e){return e!==void 0&&(o.Array===e||r[s]===e)}},function(e,t,n){'use strict';var o=n(8),s=n(32);e.exports=function(e,t,n){t in e?o.f(e,t,s(0,n)):e[t]=n}},function(e,t,n){var o=n(52),s=n(6)('iterator'),r=n(48);e.exports=n(22).getIteratorMethod=function(e){if(e!=void 0)return e[s]||e['@@iterator']||r[o(e)]}},function(e,t,n){var o=n(281);e.exports=function(e,t){return new(o(e))(t)}},function(e,t,n){'use strict';var o=n(10),s=n(36),r=n(9);e.exports=function(e){for(var t=o(this),n=r(t.length),a=arguments.length,i=s(1<a?arguments[1]:void 0,n),l=2<a?arguments[2]:void 0,d=void 0===l?n:s(l,n);d>i;)t[i++]=e;return t}},function(e,t,n){'use strict';var o=n(31),s=n(129),r=n(48),a=n(16);e.exports=n(87)(Array,'Array',function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,s(1)):'keys'==t?s(0,n):'values'==t?s(0,e[n]):s(0,[n,e[n]])},'values'),r.Arguments=r.Array,o('keys'),o('values'),o('entries')},function(e,t,n){var o=n(19),s=n(119),r=n(79),a=n(75),i=n(3),l=i.process,d=i.setImmediate,c=i.clearImmediate,p=i.MessageChannel,u=i.Dispatch,m=0,g={},_='onreadystatechange',y=function(){var e=+this;if(g.hasOwnProperty(e)){var t=g[e];delete g[e],t()}},f=function(e){y.call(e.data)},h,v,T;d&&c||(d=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return g[++m]=function(){s('function'==typeof e?e:Function(e),t)},h(m),m},c=function(e){delete g[e]},'process'==n(20)(l)?h=function(e){l.nextTick(o(y,e,1))}:u&&u.now?h=function(e){u.now(o(y,e,1))}:p?(v=new p,T=v.port2,v.port1.onmessage=f,h=o(T.postMessage,T,1)):i.addEventListener&&'function'==typeof postMessage&&!i.importScripts?(h=function(e){i.postMessage(e+'','*')},i.addEventListener('message',f,!1)):_ in a('script')?h=function(e){r.appendChild(a('script'))[_]=function(){r.removeChild(this),y.call(e)}}:h=function(e){setTimeout(o(y,e,1),0)}),e.exports={set:d,clear:c}},function(e,t,n){var o=n(3),s=n(97).set,r=o.MutationObserver||o.WebKitMutationObserver,a=o.process,i=o.Promise,l='process'==n(20)(a);e.exports=function(){var e=function(){var e,o;for(l&&(e=a.domain)&&e.exit();t;){o=t.fn,t=t.next;try{o()}catch(o){throw t?d():n=void 0,o}}n=void 0,e&&e.enter()},t,n,d;if(l)d=function(){a.nextTick(e)};else if(r){var c=!0,p=document.createTextNode('');new r(e).observe(p,{characterData:!0}),d=function(){p.data=c=!c}}else if(i&&i.resolve){var u=i.resolve();d=function(){u.then(e)}}else d=function(){s.call(o,e)};return function(e){var o={fn:e,next:void 0};n&&(n.next=o),t||(t=o,d()),n=o}}},function(e,t,n){'use strict';function o(e){var t,n;this.promise=new e(function(e,o){if(t!=void 0||n!=void 0)throw TypeError('Bad Promise constructor');t=e,n=o}),this.resolve=s(t),this.reject=s(n)}var s=n(11);e.exports.f=function(e){return new o(e)}},function(e,t,n){'use strict';function a(t,n,o){var r=Array(o),a=8*o-n-1,l=(1<<a)-1,d=l>>1,p=23===n?W(2,-24)-W(2,-77):0,u=0,i=0>t||0===t&&0>1/t?1:0,s,g,m;for(t=V(t),t!=t||t===B?(g=t==t?0:1,s=l):(s=K(Q(t)/z),1>t*(m=W(2,-s))&&(s--,m*=2),t+=1<=s+d?p/m:p*W(2,1-d),2<=t*m&&(s++,m/=2),s+d>=l?(g=0,s=l):1<=s+d?(g=(t*m-1)*W(2,n),s+=d):(g=t*W(2,d-1)*W(2,n),s=0));8<=n;r[u++]=255&g,g/=256,n-=8);for(s=s<<n|g,a+=n;0<a;r[u++]=255&s,s/=256,a-=8);return r[--u]|=128*i,r}function i(t,n,o){var r=8*o-n-1,a=(1<<r)-1,l=a>>1,d=r-7,c=o-1,i=t[c--],s=127&i,e;for(i>>=7;0<d;s=256*s+t[c],c--,d-=8);for(e=s&(1<<-d)-1,s>>=-d,d+=n;0<d;e=256*e+t[c],c--,d-=8);if(0===s)s=1-l;else{if(s===a)return e?NaN:i?-B:B;e+=W(2,n),s-=l}return(i?-1:1)*e*W(2,s-n)}function d(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function c(e){return[255&e]}function u(e){return[255&e,255&e>>8]}function m(e){return[255&e,255&e>>8,255&e>>16,255&e>>24]}function g(e){return a(e,52,8)}function _(e){return a(e,23,4)}function y(e,t,n){R(e[w],t,{get:function(){return this[n]}})}function f(e,t,n,o){var s=A(+n);if(s+t>e[ee])throw Y(F);var r=e[Z]._b,a=s+e[te],i=r.slice(a,a+t);return o?i:i.reverse()}function h(e,t,n,o,s,r){var a=A(+n);if(a+t>e[ee])throw Y(F);for(var l=e[Z]._b,d=a+e[te],c=o(+s),p=0;p<t;p++)l[d+p]=c[r?p:t-p-1]}var v=n(3),T=n(7),b=n(34),x=n(67),S=n(13),k=n(42),I=n(4),E=n(40),M=n(25),O=n(9),A=n(138),P=n(38).f,R=n(8).f,C=n(95),D=n(46),N='ArrayBuffer',L='DataView',w='prototype',F='Wrong index!',U=v[N],q=v[L],H=v.Math,Y=v.RangeError,B=v.Infinity,G=U,V=l,W=r,K=p,Q=s,z=o,X='buffer',J='byteLength',$='byteOffset',Z=T?'_b':X,ee=T?'_l':J,te=T?'_o':$;if(!x.ABV)U=function(e){E(this,U,N);var t=A(e);this._b=C.call(Array(t),0),this[ee]=t},q=function(e,t,n){E(this,q,L),E(e,U,L);var o=e[ee],s=M(t);if(0>s||s>o)throw Y('Wrong offset!');if(n=void 0===n?o-s:O(n),s+n>o)throw Y('Wrong length!');this[Z]=e,this[te]=s,this[ee]=n},T&&(y(U,J,'_l'),y(q,X,'_b'),y(q,J,'_l'),y(q,$,'_o')),k(q[w],{getInt8:function(e){return f(this,1,e)[0]<<24>>24},getUint8:function(e){return f(this,1,e)[0]},getInt16:function(e){var t=f(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=f(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return d(f(this,4,e,arguments[1]))},getUint32:function(e){return d(f(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return i(f(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return i(f(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){h(this,1,e,c,t)},setUint8:function(e,t){h(this,1,e,c,t)},setInt16:function(e,t){h(this,2,e,u,t,arguments[2])},setUint16:function(e,t){h(this,2,e,u,t,arguments[2])},setInt32:function(e,t){h(this,4,e,m,t,arguments[2])},setUint32:function(e,t){h(this,4,e,m,t,arguments[2])},setFloat32:function(e,t){h(this,4,e,_,t,arguments[2])},setFloat64:function(e,t){h(this,8,e,g,t,arguments[2])}});else{if(!I(function(){U(1)})||!I(function(){new U(-1)})||I(function(){return new U,new U(1.5),new U(NaN),U.name!=N})){U=function(e){return E(this,U),new G(A(e))};for(var ne=U[w]=G[w],oe=P(G),se=0,j;oe.length>se;)(j=oe[se++])in U||S(U,j,G[j]);b||(ne.constructor=U)}var re=new q(new U(2)),ae=q[w].setInt8;re.setInt8(0,2147483648),re.setInt8(1,2147483649),(re.getInt8(0)||!re.getInt8(1))&&k(q[w],{setInt8:function(e,t){ae.call(this,e,t<<24>>24)},setUint8:function(e,t){ae.call(this,e,t<<24>>24)}},!0)}D(U,N),D(q,L),S(q[w],x.VIEW,!0),t[N]=U,t[L]=q},function(e){e.exports=function(e){return e instanceof Date}},function(e,t,n){var o=n(1),s=n(44),r=n(53);e.exports=function(e){var t=o(e),n=s(t).getTime()-r(t).getTime();return c(n/6.048e8)+1}},function(e,t,n){var o=n(398),s=n(399);e.exports={distanceInWords:o(),format:s()}},function(e,t,n){var o=n(1);e.exports=function(e,t){var n=o(e),s=n.getTime(),r=o(t),a=r.getTime();return s>a?-1:s<a?1:0}},function(e,t,n){var o=n(73);e.exports=function(e,t){var n=o(e,t)/1e3;return 0<n?p(n):u(n)}},function(e,t,n){var o=n(1),s=n(154),r=n(54);e.exports=function(e,t){var n=o(e),a=o(t),i=r(n,a),d=l(s(n,a));n.setMonth(n.getMonth()-i*d);var c=r(n,a)===-i;return i*(d-c)}},function(e,t,n){var o=n(1);e.exports=function(e){var t=o(e),n=t.getFullYear(),s=t.getMonth(),r=new Date(0);return r.setFullYear(n,s+1,0),r.setHours(0,0,0,0),r.getDate()}},function(e,t,n){var o=n(55);e.exports=function(e,t){return o(e,7*+t)}},function(e,t,n){var o=n(1);e.exports=function(e){var t=o(e);return t.setHours(23,59,59,999),t}},function(e,t,n){var o=n(72);e.exports=function(e,t,n){var s=o(e,n),r=o(t,n);return s.getTime()===r.getTime()}},function(e){var t=function(){return this}();try{t=t||Function('return this')()||(1,eval)('this')}catch(n){'object'==typeof window&&(t=window)}e.exports=t},function(e,t,n){e.exports=!n(7)&&!n(4)(function(){return 7!=Object.defineProperty(n(75)('div'),'a',{get:function(){return 7}}).a})},function(e,t,n){t.f=n(6)},function(e,t,n){var o=n(12),s=n(16),r=n(58)(!1),a=n(77)('IE_PROTO');e.exports=function(e,t){var n=s(e),l=0,i=[],d;for(d in n)d!=a&&o(n,d)&&i.push(d);for(;t.length>l;)o(n,d=t[l++])&&(~r(i,d)||i.push(d));return i}},function(e,t,n){var o=n(8),s=n(2),r=n(35);e.exports=n(7)?Object.defineProperties:function(e,t){s(e);for(var n=r(t),a=n.length,l=0,i;a>l;)o.f(e,i=n[l++],t[i]);return e}},function(e,t,n){var o=n(16),s=n(38).f,r={}.toString,a='object'==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],i=function(e){try{return s(e)}catch(t){return a.slice()}};e.exports.f=function(e){return a&&'[object Window]'==r.call(e)?i(e):s(o(e))}},function(e,t,n){'use strict';var o=n(35),s=n(59),r=n(51),a=n(10),i=n(50),l=Object.assign;e.exports=!l||n(4)(function(){var e={},t={},n=Symbol(),o='abcdefghijklmnopqrst';return e[n]=7,o.split('').forEach(function(e){t[e]=e}),7!=l({},e)[n]||Object.keys(l({},t)).join('')!=o})?function(e){for(var t=a(e),n=arguments.length,l=1,d=s.f,c=r.f;n>l;)for(var p=i(arguments[l++]),u=d?o(p).concat(d(p)):o(p),m=u.length,g=0,_;m>g;)c.call(p,_=u[g++])&&(t[_]=p[_]);return t}:l},function(e,t,n){'use strict';var o=n(11),s=n(5),r=n(119),a=[].slice,l={},i=function(e,t,o){if(!(t in l)){for(var s=[],n=0;n<t;n++)s[n]='a['+n+']';l[t]=Function('F,a','return new F('+s.join(',')+')')}return l[t](e,o)};e.exports=Function.bind||function(e){var t=o(this),n=a.call(arguments,1),l=function(){var o=n.concat(a.call(arguments));return this instanceof l?i(t,o.length,o):r(t,o,e)};return s(t.prototype)&&(l.prototype=t.prototype),l}},function(e){e.exports=function(e,t,n){var o=n===void 0;switch(t.length){case 0:return o?e():e.call(n);case 1:return o?e(t[0]):e.call(n,t[0]);case 2:return o?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return o?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return o?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3]);}return e.apply(n,t)}},function(e,t,n){var o=n(3).parseInt,s=n(47).trim,r=n(81),a=/^[-+]?0[xX]/;e.exports=8!==o(r+'08')||22!==o(r+'0x16')?function(e,t){var n=s(e+'',3);return o(n,t>>>0||(a.test(n)?16:10))}:o},function(e,t,n){var o=n(3).parseFloat,s=n(47).trim;e.exports=1/o(n(81)+'-0')==-Infinity?o:function(e){var t=s(e+'',3),n=o(t);return 0===n&&'-'==t.charAt(0)?-0:n}},function(e,t,n){var o=n(20);e.exports=function(e,t){if('number'!=typeof e&&'Number'!=o(e))throw TypeError(t);return+e}},function(e,t,n){var o=n(5);e.exports=function(e){return!o(e)&&isFinite(e)&&p(e)===e}},function(e){e.exports=Math.log1p||function(e){return-1e-8<(e=+e)&&1e-8>e?e-e*e/2:s(1+e)}},function(e,t,n){var o=n(84),s=r,i=s(2,-52),d=s(2,-23),c=s(2,127)*(2-d),p=s(2,-126),u=function(e){return e+1/i-1/i};e.exports=Math.fround||function(e){var t=l(e),n=o(e),s,r;return t<p?n*u(t/p/d)*p*d:(s=(1+d/i)*t,r=s-(s-t),r>c||r!=r?n*Infinity:n*r)}},function(e,t,n){var o=n(2);e.exports=function(t,e,n,s){try{return s?e(o(n)[0],n[1]):e(n)}catch(n){var r=t['return'];throw void 0!==r&&o(r.call(t)),n}}},function(e,t,n){var o=n(11),s=n(10),r=n(50),a=n(9);e.exports=function(e,t,n,l,d){o(t);var c=s(e),p=r(c),u=a(c.length),m=d?u-1:0,g=d?-1:1;if(2>n)for(;;){if(m in p){l=p[m],m+=g;break}if(m+=g,d?0>m:u<=m)throw TypeError('Reduce of empty array with no initial value')}for(;d?0<=m:u>m;m+=g)m in p&&(l=t(l,p[m],m,c));return l}},function(e,t,n){'use strict';var o=n(10),s=n(36),r=n(9);e.exports=[].copyWithin||function(e,t){var n=o(this),a=r(n.length),i=s(e,a),l=s(t,a),d=2<arguments.length?arguments[2]:void 0,c=m((d===void 0?a:s(d,a))-l,a-i),p=1;for(l<i&&i<l+c&&(p=-1,l+=c-1,i+=c-1);0<c--;)l in n?n[i]=n[l]:delete n[i],i+=p,l+=p;return n}},function(e){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){n(7)&&'g'!=/./g.flags&&n(8).f(RegExp.prototype,'flags',{configurable:!0,get:n(63)})},function(e){e.exports=function(e){try{return{e:!1,v:e()}}catch(t){return{e:!0,v:t}}}},function(e,t,n){var o=n(2),s=n(5),r=n(99);e.exports=function(e,t){if(o(e),s(t)&&t.constructor===e)return t;var n=r.f(e),a=n.resolve;return a(t),n.promise}},function(e,t,n){'use strict';var o=n(134),s=n(49),r='Map';e.exports=n(66)(r,function(e){return function(){return e(this,0<arguments.length?arguments[0]:void 0)}},{get:function(e){var t=o.getEntry(s(this,r),e);return t&&t.v},set:function(e,t){return o.def(s(this,r),0===e?0:e,t)}},o,!0)},function(e,t,n){'use strict';var o=n(8).f,s=n(37),r=n(42),a=n(19),i=n(40),l=n(41),d=n(87),c=n(129),p=n(39),u=n(7),m=n(30).fastKey,g=n(49),_=u?'_s':'size',y=function(e,t){var n=m(t),o;if('F'!==n)return e._i[n];for(o=e._f;o;o=o.n)if(o.k==t)return o};e.exports={getConstructor:function(e,t,n,d){var c=e(function(e,o){i(e,c,t,'_i'),e._t=t,e._i=s(null),e._f=void 0,e._l=void 0,e[_]=0,void 0!=o&&l(o,n,e[d],e)});return r(c.prototype,{clear:function(){for(var e=g(this,t),n=e._i,o=e._f;o;o=o.n)o.r=!0,o.p&&(o.p=o.p.n=void 0),delete n[o.i];e._f=e._l=void 0,e[_]=0},delete:function(e){var n=g(this,t),o=y(n,e);if(o){var s=o.n,r=o.p;delete n._i[o.i],o.r=!0,r&&(r.n=s),s&&(s.p=r),n._f==o&&(n._f=s),n._l==o&&(n._l=r),n[_]--}return!!o},forEach:function(e){g(this,t);for(var n=a(e,1<arguments.length?arguments[1]:void 0,3),o;o=o?o.n:this._f;)for(n(o.v,o.k,this);o&&o.r;)o=o.p},has:function(e){return!!y(g(this,t),e)}}),u&&o(c.prototype,'size',{get:function(){return g(this,t)[_]}}),c},def:function(e,t,n){var o=y(e,t),s,r;return o?o.v=n:(e._l=o={i:r=m(t,!0),k:t,v:n,p:s=e._l,n:void 0,r:!1},!e._f&&(e._f=o),s&&(s.n=o),e[_]++,'F'!==r&&(e._i[r]=o)),e},getEntry:y,setStrong:function(e,t,n){d(e,t,function(e,n){this._t=g(e,t),this._k=n,this._l=void 0},function(){for(var e=this,t=e._k,n=e._l;n&&n.r;)n=n.p;return e._t&&(e._l=n=n?n.n:e._t._f)?'keys'==t?c(0,n.k):'values'==t?c(0,n.v):c(0,[n.k,n.v]):(e._t=void 0,c(1))},n?'entries':'values',!n,!0),p(t)}}},function(e,t,n){'use strict';var o=n(134),s=n(49),r='Set';e.exports=n(66)(r,function(e){return function(){return e(this,0<arguments.length?arguments[0]:void 0)}},{add:function(e){return o.def(s(this,r),e=0===e?0:e,e)}},o)},function(e,t,n){'use strict';var o=n(27)(0),s=n(14),r=n(30),a=n(117),i=n(137),l=n(5),d=n(4),c=n(49),p='WeakMap',u=r.getWeak,m=Object.isExtensible,g=i.ufstore,_={},y=function(e){return function(){return e(this,0<arguments.length?arguments[0]:void 0)}},f={get:function(e){if(l(e)){var t=u(e);return!0===t?g(c(this,p)).get(e):t?t[this._i]:void 0}},set:function(e,t){return i.def(c(this,p),e,t)}},h=e.exports=n(66)(p,y,f,i,!0,!0),v;d(function(){return 7!=new h().set((Object.freeze||Object)(_),7).get(_)})&&(v=i.getConstructor(y,p),a(v.prototype,f),r.NEED=!0,o(['delete','has','get','set'],function(e){var t=h.prototype,n=t[e];s(t,e,function(t,o){if(l(t)&&!m(t)){this._f||(this._f=new v);var s=this._f[e](t,o);return'set'==e?this:s}return n.call(this,t,o)})}))},function(e,t,n){'use strict';var o=n(42),s=n(30).getWeak,r=n(2),a=n(5),i=n(40),l=n(41),d=n(27),c=n(12),p=n(49),u=d(5),m=d(6),g=0,_=function(e){return e._l||(e._l=new y)},y=function(){this.a=[]},f=function(e,t){return u(e.a,function(e){return e[0]===t})};y.prototype={get:function(e){var t=f(this,e);if(t)return t[1]},has:function(e){return!!f(this,e)},set:function(e,t){var n=f(this,e);n?n[1]=t:this.a.push([e,t])},delete:function(e){var t=m(this.a,function(t){return t[0]===e});return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,n,r){var d=e(function(e,o){i(e,d,t,'_i'),e._t=t,e._i=g++,e._l=void 0,void 0!=o&&l(o,n,e[r],e)});return o(d.prototype,{delete:function(e){if(!a(e))return!1;var n=s(e);return!0===n?_(p(this,t))['delete'](e):n&&c(n,this._i)&&delete n[this._i]},has:function(e){if(!a(e))return!1;var n=s(e);return!0===n?_(p(this,t)).has(e):n&&c(n,this._i)}}),d},def:function(e,t,n){var o=s(r(t),!0);return!0===o?_(e).set(t,n):o[e._i]=n,e},ufstore:_}},function(e,t,n){var o=n(25),s=n(9);e.exports=function(e){if(e===void 0)return 0;var t=o(e),n=s(t);if(t!==n)throw RangeError('Wrong length!');return n}},function(e,t,n){var o=n(38),s=n(59),r=n(2),a=n(3).Reflect;e.exports=a&&a.ownKeys||function(e){var t=o.f(r(e)),n=s.f;return n?t.concat(n(e)):t}},function(e,t,n){'use strict';function o(e,t,n,d,c,p,u,m){for(var g=c,_=0,y=!!u&&i(u,m,3),f,h;_<d;){if(_ in n){if(f=y?y(n[_],_,t):n[_],h=!1,r(f)&&(h=f[l],h=void 0===h?s(f):!!h),h&&0<p)g=o(e,t,f,a(f.length),g,p-1)-1;else{if(9007199254740991<=g)throw TypeError();e[g]=f}g++}_++}return g}var s=n(60),r=n(5),a=n(9),i=n(19),l=n(6)('isConcatSpreadable');e.exports=o},function(e,t,n){var o=n(9),s=n(83),r=n(24);e.exports=function(e,t,n,a){var i=r(e)+'',l=i.length,d=void 0===n?' ':n+'',c=o(t);if(c<=l||''==d)return i;var p=c-l,m=s.call(d,u(p/d.length));return m.length>p&&(m=m.slice(0,p)),a?m+i:i+m}},function(e,t,n){var o=n(35),s=n(16),r=n(51).f;e.exports=function(e){return function(t){for(var n=s(t),a=o(n),l=a.length,d=0,i=[],c;l>d;)r.call(n,c=a[d++])&&i.push(e?[c,n[c]]:n[c]);return i}}},function(e,t,n){var o=n(52),s=n(144);e.exports=function(e){return function(){if(o(this)!=e)throw TypeError(e+'#toJSON isn\'t generic');return s(this)}}},function(e,t,n){var o=n(41);e.exports=function(e,t){var n=[];return o(e,!1,n.push,n,t),n}},function(e){e.exports=Math.scale||function(e,t,n,o,s){return 0===arguments.length||e!=e||t!=t||n!=n||o!=o||s!=s?NaN:e===Infinity||e===-Infinity?e:(e-t)*(s-o)/(n-t)+o}},function(e,t,n){function o(){}function s(e){if(!_(e))return e;var t=[];for(var n in e)r(t,n,e[n]);return t.join('&')}function r(e,t,n){if(!(null!=n))null===n&&e.push(encodeURIComponent(t));else if(Array.isArray(n))n.forEach(function(n){r(e,t,n)});else if(_(n))for(var o in n)r(e,t+'['+o+']',n[o]);else e.push(encodeURIComponent(t)+'='+encodeURIComponent(n))}function a(e){for(var t={},n=e.split('&'),o=0,s=n.length,r,a;o<s;++o)r=n[o],a=r.indexOf('='),-1==a?t[decodeURIComponent(r)]='':t[decodeURIComponent(r.slice(0,a))]=decodeURIComponent(r.slice(a+1));return t}function i(e){var t=e.split(/\r?\n/),n={},o,s,r,a;t.pop();for(var l=0,i=t.length;l<i;++l)s=t[l],o=s.indexOf(':'),r=s.slice(0,o).toLowerCase(),a=v(s.slice(o+1)),n[r]=a;return n}function l(e){return /[\/+]json\b/.test(e)}function d(e){this.req=e,this.xhr=this.req.xhr,this.text='HEAD'!=this.req.method&&(''===this.xhr.responseType||'text'===this.xhr.responseType)||'undefined'==typeof this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var t=this.xhr.status;1223===t&&(t=204),this._setStatusProperties(t),this.header=this.headers=i(this.xhr.getAllResponseHeaders()),this.header['content-type']=this.xhr.getResponseHeader('content-type'),this._setHeaderProperties(this.header),this.body=null===this.text&&e._responseType?this.xhr.response:'HEAD'==this.req.method?null:this._parseBody(this.text?this.text:this.xhr.response)}function c(e,t){var n=this;this._query=this._query||[],this.method=e,this.url=t,this.header={},this._header={},this.on('end',function(){var t=null,e=null;try{e=new d(n)}catch(o){return t=new Error('Parser is unable to parse the response'),t.parse=!0,t.original=o,n.xhr?(t.rawResponse='undefined'==typeof n.xhr.responseType?n.xhr.responseText:n.xhr.response,t.status=n.xhr.status?n.xhr.status:null,t.statusCode=t.status):(t.rawResponse=null,t.status=null),n.callback(t)}n.emit('response',e);var o;try{n._isResponseOK(e)||(o=new Error(e.statusText||'Unsuccessful HTTP response'),o.original=t,o.response=e,o.status=e.status)}catch(t){o=t}o?n.callback(o,e):n.callback(null,e)})}function p(e,t,n){var o=h('DELETE',e);return'function'==typeof t&&(n=t,t=null),t&&o.send(t),n&&o.end(n),o}var u;'undefined'==typeof window?'undefined'==typeof self?(console.warn('Using browser-only version of superagent in non-browser environment'),u=this):u=self:u=window;var m=n(392),g=n(393),_=n(147),y=n(394),f=n(396);var h=t=e.exports=function(e,n){return'function'==typeof n?new t.Request('GET',e).end(n):1==arguments.length?new t.Request('GET',e):new t.Request(e,n)};t.Request=c,h.getXHR=function(){if(u.XMLHttpRequest&&(!u.location||'file:'!=u.location.protocol||!u.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject('Microsoft.XMLHTTP')}catch(t){}try{return new ActiveXObject('Msxml2.XMLHTTP.6.0')}catch(t){}try{return new ActiveXObject('Msxml2.XMLHTTP.3.0')}catch(t){}try{return new ActiveXObject('Msxml2.XMLHTTP')}catch(t){}throw Error('Browser-only version of superagent could not find XHR')};var v=function(e){return e.trim()};h.serializeObject=s,h.parseString=a,h.types={html:'text/html',json:'application/json',xml:'text/xml',urlencoded:'application/x-www-form-urlencoded',form:'application/x-www-form-urlencoded',"form-data":'application/x-www-form-urlencoded'},h.serialize={"application/x-www-form-urlencoded":s,"application/json":JSON.stringify},h.parse={"application/x-www-form-urlencoded":a,"application/json":JSON.parse},y(d.prototype),d.prototype._parseBody=function(e){var t=h.parse[this.type];return this.req._parser?this.req._parser(this,e):(!t&&l(this.type)&&(t=h.parse['application/json']),t&&e&&(e.length||e instanceof Object)?t(e):null)},d.prototype.toError=function(){var e=this.req,t=e.method,n=e.url,o='cannot '+t+' '+n+' ('+this.status+')',s=new Error(o);return s.status=this.status,s.method=t,s.url=n,s},h.Response=d,m(c.prototype),g(c.prototype),c.prototype.type=function(e){return this.set('Content-Type',h.types[e]||e),this},c.prototype.accept=function(e){return this.set('Accept',h.types[e]||e),this},c.prototype.auth=function(e,t,n){switch('object'==typeof t&&null!==t&&(n=t),n||(n={type:'function'==typeof btoa?'basic':'auto'}),n.type){case'basic':this.set('Authorization','Basic '+btoa(e+':'+t));break;case'auto':this.username=e,this.password=t;break;case'bearer':this.set('Authorization','Bearer '+e);}return this},c.prototype.query=function(e){return'string'!=typeof e&&(e=s(e)),e&&this._query.push(e),this},c.prototype.attach=function(e,t,n){if(t){if(this._data)throw Error('superagent can\'t mix .send() and .attach()');this._getFormData().append(e,t,n||t.name)}return this},c.prototype._getFormData=function(){return this._formData||(this._formData=new u.FormData),this._formData},c.prototype.callback=function(e,t){if(this._maxRetries&&this._retries++<this._maxRetries&&f(e,t))return this._retry();var n=this._callback;this.clearTimeout(),e&&(this._maxRetries&&(e.retries=this._retries-1),this.emit('error',e)),n(e,t)},c.prototype.crossDomainError=function(){var e=new Error('Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.');e.crossDomain=!0,e.status=this.status,e.method=this.method,e.url=this.url,this.callback(e)},c.prototype.buffer=c.prototype.ca=c.prototype.agent=function(){return console.warn('This is not supported in browser version of superagent'),this},c.prototype.pipe=c.prototype.write=function(){throw Error('Streaming is not supported in browser version of superagent')},c.prototype._isHost=function(e){return e&&'object'==typeof e&&!Array.isArray(e)&&'[object Object]'!==Object.prototype.toString.call(e)},c.prototype.end=function(e){return this._endCalled&&console.warn('Warning: .end() was called twice. This is not supported in superagent'),this._endCalled=!0,this._callback=e||o,this._finalizeQueryString(),this._end()},c.prototype._end=function(){var t=this,e=this.xhr=h.getXHR(),n=this._formData||this._data;this._setTimeouts(),e.onreadystatechange=function(){var n=e.readyState;if(2<=n&&t._responseTimeoutTimer&&clearTimeout(t._responseTimeoutTimer),4==n){var o;try{o=e.status}catch(t){o=0}return o?void t.emit('end'):t.timedout||t._aborted?void 0:t.crossDomainError()}};var o=function(n,o){0<o.total&&(o.percent=100*(o.loaded/o.total)),o.direction=n,t.emit('progress',o)};if(this.hasListeners('progress'))try{e.onprogress=o.bind(null,'download'),e.upload&&(e.upload.onprogress=o.bind(null,'upload'))}catch(t){}try{this.username&&this.password?e.open(this.method,this.url,!0,this.username,this.password):e.open(this.method,this.url,!0)}catch(e){return this.callback(e)}if(this._withCredentials&&(e.withCredentials=!0),!this._formData&&'GET'!=this.method&&'HEAD'!=this.method&&'string'!=typeof n&&!this._isHost(n)){var s=this._header['content-type'],r=this._serializer||h.serialize[s?s.split(';')[0]:''];!r&&l(s)&&(r=h.serialize['application/json']),r&&(n=r(n))}for(var a in this.header)null!=this.header[a]&&this.header.hasOwnProperty(a)&&e.setRequestHeader(a,this.header[a]);return this._responseType&&(e.responseType=this._responseType),this.emit('request',this),e.send('undefined'==typeof n?null:n),this},h.get=function(e,t,n){var o=h('GET',e);return'function'==typeof t&&(n=t,t=null),t&&o.query(t),n&&o.end(n),o},h.head=function(e,t,n){var o=h('HEAD',e);return'function'==typeof t&&(n=t,t=null),t&&o.query(t),n&&o.end(n),o},h.options=function(e,t,n){var o=h('OPTIONS',e);return'function'==typeof t&&(n=t,t=null),t&&o.send(t),n&&o.end(n),o};h.del=p,h['delete']=p,h.patch=function(e,t,n){var o=h('PATCH',e);return'function'==typeof t&&(n=t,t=null),t&&o.send(t),n&&o.end(n),o},h.post=function(e,t,n){var o=h('POST',e);return'function'==typeof t&&(n=t,t=null),t&&o.send(t),n&&o.end(n),o},h.put=function(e,t,n){var o=h('PUT',e);return'function'==typeof t&&(n=t,t=null),t&&o.send(t),n&&o.end(n),o}},function(e){e.exports=function(e){return null!==e&&'object'==typeof e}},function(e,t,n){function o(e,t,n){var o=e.match(n),r=o.length,a,i;for(a=0;a<r;a++)i=t[o[a]]||y[o[a]],o[a]=i?i:s(o[a]);return function(e){for(var t='',n=0;n<r;n++)t+=o[n]instanceof Function?o[n](e,y):o[n];return t}}function s(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|]$/g,''):e.replace(/\\/g,'')}function r(e,t){t=t||'';var n=0<e?'-':'+',o=l(e),s=p(o/60);return n+a(s,2)+t+a(o%60,2)}function a(e,t){for(var n=l(e).toString();n.length<t;)n='0'+n;return n}var i=n(149),d=n(102),c=n(45),m=n(1),g=n(151),_=n(103),y={M:function(e){return e.getMonth()+1},MM:function(e){return a(e.getMonth()+1,2)},Q:function(e){return u((e.getMonth()+1)/3)},D:function(e){return e.getDate()},DD:function(e){return a(e.getDate(),2)},DDD:function(e){return i(e)},DDDD:function(e){return a(i(e),3)},d:function(e){return e.getDay()},E:function(e){return e.getDay()||7},W:function(e){return d(e)},WW:function(e){return a(d(e),2)},YY:function(e){return a(e.getFullYear(),4).substr(2)},YYYY:function(e){return a(e.getFullYear(),4)},GG:function(e){return(c(e)+'').substr(2)},GGGG:function(e){return c(e)},H:function(e){return e.getHours()},HH:function(e){return a(e.getHours(),2)},h:function(e){var t=e.getHours();return 0===t?12:12<t?t%12:t},hh:function(e){return a(y.h(e),2)},m:function(e){return e.getMinutes()},mm:function(e){return a(e.getMinutes(),2)},s:function(e){return e.getSeconds()},ss:function(e){return a(e.getSeconds(),2)},S:function(e){return p(e.getMilliseconds()/100)},SS:function(e){return a(p(e.getMilliseconds()/10),2)},SSS:function(e){return a(e.getMilliseconds(),3)},Z:function(e){return r(e.getTimezoneOffset(),':')},ZZ:function(e){return r(e.getTimezoneOffset())},X:function(e){return p(e.getTime()/1e3)},x:function(e){return e.getTime()}};e.exports=function(e,t,n){var s=t?t+'':'YYYY-MM-DDTHH:mm:ss.SSSZ',r=(n||{}).locale,a=_.format.formatters,i=_.format.formattingTokensRegExp;r&&r.format&&r.format.formatters&&(a=r.format.formatters,r.format.formattingTokensRegExp&&(i=r.format.formattingTokensRegExp));var l=m(e);if(!g(l))return'Invalid Date';var d=o(s,a,i);return d(l)}},function(e,t,n){var o=n(1),s=n(150),r=n(71);e.exports=function(e){var t=o(e),n=r(t,s(t));return n+1}},function(e,t,n){var o=n(1);e.exports=function(e){var t=o(e),n=new Date(0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}},function(e,t,n){var o=n(101);e.exports=function(e){if(o(e))return!isNaN(e);throw new TypeError(toString.call(e)+' is not an instance of Date')}},function(e,t,n){var o=n(153);e.exports=function(e,t){return o(Date.now(),e,t)}},function(e,t,n){var o=n(104),s=n(1),r=n(105),a=n(106),i=n(103),l=1440,d=43200;e.exports=function(e,t,n){var u=n||{},m=o(e,t),g=u.locale,_=i.distanceInWords.localize;g&&g.distanceInWords&&g.distanceInWords.localize&&(_=g.distanceInWords.localize);var y={addSuffix:!!u.addSuffix,comparison:m},f,h;0<m?(f=s(e),h=s(t)):(f=s(t),h=s(e));var v=r(h,f),T=h.getTimezoneOffset()-f.getTimezoneOffset(),b=c(v/60)-T,x;if(2>b)return u.includeSeconds?5>v?_('lessThanXSeconds',5,y):10>v?_('lessThanXSeconds',10,y):20>v?_('lessThanXSeconds',20,y):40>v?_('halfAMinute',null,y):60>v?_('lessThanXMinutes',1,y):_('xMinutes',1,y):0==b?_('lessThanXMinutes',1,y):_('xMinutes',b,y);if(45>b)return _('xMinutes',b,y);if(90>b)return _('aboutXHours',1,y);if(b<l){var S=c(b/60);return _('aboutXHours',S,y)}if(b<2520)return _('xDays',1,y);if(b<d){var k=c(b/l);return _('xDays',k,y)}if(b<86400)return x=c(b/d),_('aboutXMonths',x,y);if(x=a(h,f),12>x){var I=c(b/d);return _('xMonths',I,y)}var E=x%12,M=p(x/12);return 3>E?_('aboutXYears',M,y):9>E?_('overXYears',M,y):_('almostXYears',M+1,y)}},function(e,t,n){var o=n(1);e.exports=function(e,t){var n=o(e),s=o(t),r=n.getFullYear()-s.getFullYear(),a=n.getMonth()-s.getMonth();return 12*r+a}},function(e,t,n){'use strict';function o(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var s=function(){function e(e,t){for(var n=0,o;n<t.length;n++)o=t[n],o.enumerable=o.enumerable||!1,o.configurable=!0,'value'in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=n(156),a=n(187),i=function(){function e(t){o(this,e),this.id=t.id,this.before_id=t.comment_before_id,this.message=(0,a.escapeHTML)(t.message),this.username_as=t.username_as||t.username,this.username_real=t.username_real||t.email,this.date=(0,r.format)(t.timestamp,'YYYY-MM-DD'),this.time=(0,r.format)(t.timestamp,'HH:mm'),this.timestamp=t.timestamp,this.unique_id=t.unique_temp_id||t.unique_id,this.avatar=t.user_avatar_url,this.room_id=t.room_id,this.isChannel=t.is_public_channel,this.unix_timestamp=t.unix_timestamp,this.is_deleted=t.is_deleted,this.isPending=!1,this.isFailed=!1,this.isDelivered=!1,this.isRead=!1,this.isSent=!1,this.attachment=null,this.payload=t.payload,this.status=t.status,'reply'===t.type&&(t.payload.replied_comment_message=(0,a.escapeHTML)(t.payload.replied_comment_message),t.payload.text=(0,a.escapeHTML)(t.payload.text)),this.type=t.type,this.subtype='custom'===t.type?t.payload.type:null,'sent'==t.status?this.markAsSent():'delivered'==t.status?this.markAsDelivered():'read'==t.status&&this.markAsRead()}return s(e,[{key:'isAttachment',value:function(e){return'[file]'==e.substring(0,6)}},{key:'isImageAttachment',value:function(e){return this.isAttachment(e)&&null!=e.match(/\.(jpg|jpeg|gif|png)/i)}},{key:'attachUniqueId',value:function(e){this.unique_id=e}},{key:'getAttachmentURI',value:function(e){if(this.isAttachment(e)){var t=e.length;return e.substring(6,t-7).trim()}}},{key:'setAttachment',value:function(e){this.attachment=e}},{key:'markAsPending',value:function(){this.isPending=!0,this.isDelivered=!1,this.status='pending'}},{key:'markAsSent',value:function(){this.isSent=!0,this.isPending=!1,this.isFailed=!1,this.status='sent'}},{key:'markAsDelivered',value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(0==Object.keys(t).length)return this.isSent=!0,this.isRead=!1,this.isDelivered=!0,void(this.status='delivered');var n=t.participants.filter(function(e){return e.email==t.actor});n[0]&&(n[0].last_comment_received_id=t.comment_id,n[0].last_comment_received_id_str=t.comment_id.toString());var o=t.participants.filter(function(t){return t.last_comment_received_id<e.id});(1==o.length&&o[0].email==this.username_real||0==o.length)&&(this.isSent=!0,this.isRead=!1,this.isDelivered=!0,this.status='delivered')}},{key:'markAsRead',value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(0==Object.keys(t).length)return this.isPending=!1,this.isSent=!0,this.isDelivered=!0,this.isRead=!0,void(this.status='read');var n=t.participants,o=t.actor,s=t.comment_id,r=n.find(function(e){return e.email===o});null!=r&&(r.last_comment_read_id=s,r.last_comment_read_id_str=s.toString(),r.last_comment_received_id=s,r.last_comment_received_id_str=s.toString());var a=n.filter(function(t){return t.last_comment_read_id<e.id}),i=a.includes(this.username_real);(1<a.length&&i||0===a.length)&&(this.isPending=!1,this.isSent=!0,this.isDelivered=!0,this.isRead=!0,this.status='read')}},{key:'markAsFailed',value:function(){this.isFailed=!0,this.isPending=!1,this.isStatus='failed'}},{key:'update',value:function(e){this.id=e.id,this.before_id=e.comment_before_id,this.message=(0,a.escapeHTML)(e.message),e.payload&&(this.payload=e.payload),e.status&&(this.status=e.status),'reply'===e.type&&(this.payload.replied_comment_message=(0,a.escapeHTML)(e.payload.replied_comment_message),this.payload.text=(0,a.escapeHTML)(comment.payload.text)),'sent'==e.status?this.markAsSent():'delivered'==e.status?this.markAsDelivered():'read'==e.status&&this.markAsRead()}}]),e}();t.default=i},function(e,t,n){e.exports={addDays:n(55),addHours:n(157),addISOYears:n(158),addMilliseconds:n(56),addMinutes:n(160),addMonths:n(74),addQuarters:n(161),addSeconds:n(162),addWeeks:n(108),addYears:n(163),areRangesOverlapping:n(401),closestIndexTo:n(402),closestTo:n(403),compareAsc:n(54),compareDesc:n(104),differenceInCalendarDays:n(71),differenceInCalendarISOWeeks:n(404),differenceInCalendarISOYears:n(164),differenceInCalendarMonths:n(154),differenceInCalendarQuarters:n(405),differenceInCalendarWeeks:n(406),differenceInCalendarYears:n(166),differenceInDays:n(167),differenceInHours:n(407),differenceInISOYears:n(408),differenceInMilliseconds:n(73),differenceInMinutes:n(409),differenceInMonths:n(106),differenceInQuarters:n(410),differenceInSeconds:n(105),differenceInWeeks:n(411),differenceInYears:n(412),distanceInWords:n(153),distanceInWordsStrict:n(413),distanceInWordsToNow:n(152),eachDay:n(414),endOfDay:n(109),endOfHour:n(415),endOfISOWeek:n(416),endOfISOYear:n(417),endOfMinute:n(418),endOfMonth:n(170),endOfQuarter:n(419),endOfSecond:n(420),endOfToday:n(421),endOfTomorrow:n(422),endOfWeek:n(169),endOfYear:n(423),endOfYesterday:n(424),format:n(148),getDate:n(425),getDay:n(426),getDayOfYear:n(149),getDaysInMonth:n(107),getDaysInYear:n(427),getHours:n(428),getISODay:n(172),getISOWeek:n(102),getISOWeeksInYear:n(429),getISOYear:n(45),getMilliseconds:n(430),getMinutes:n(431),getMonth:n(432),getOverlappingDaysInRanges:n(433),getQuarter:n(165),getSeconds:n(434),getTime:n(435),getYear:n(436),isAfter:n(437),isBefore:n(438),isDate:n(101),isEqual:n(439),isFirstDayOfMonth:n(440),isFriday:n(441),isFuture:n(442),isLastDayOfMonth:n(443),isLeapYear:n(171),isMonday:n(444),isPast:n(445),isSameDay:n(446),isSameHour:n(173),isSameISOWeek:n(175),isSameISOYear:n(176),isSameMinute:n(177),isSameMonth:n(179),isSameQuarter:n(180),isSameSecond:n(182),isSameWeek:n(110),isSameYear:n(184),isSaturday:n(447),isSunday:n(448),isThisHour:n(449),isThisISOWeek:n(450),isThisISOYear:n(451),isThisMinute:n(452),isThisMonth:n(453),isThisQuarter:n(454),isThisSecond:n(455),isThisWeek:n(456),isThisYear:n(457),isThursday:n(458),isToday:n(459),isTomorrow:n(460),isTuesday:n(461),isValid:n(151),isWednesday:n(462),isWeekend:n(463),isWithinRange:n(464),isYesterday:n(465),lastDayOfISOWeek:n(466),lastDayOfISOYear:n(467),lastDayOfMonth:n(468),lastDayOfQuarter:n(469),lastDayOfWeek:n(185),lastDayOfYear:n(470),max:n(471),min:n(472),parse:n(1),setDate:n(473),setDay:n(474),setDayOfYear:n(475),setHours:n(476),setISODay:n(477),setISOWeek:n(478),setISOYear:n(159),setMilliseconds:n(479),setMinutes:n(480),setMonth:n(186),setQuarter:n(481),setSeconds:n(482),setYear:n(483),startOfDay:n(43),startOfHour:n(174),startOfISOWeek:n(44),startOfISOYear:n(53),startOfMinute:n(178),startOfMonth:n(484),startOfQuarter:n(181),startOfSecond:n(183),startOfToday:n(485),startOfTomorrow:n(486),startOfWeek:n(72),startOfYear:n(150),startOfYesterday:n(487),subDays:n(488),subHours:n(489),subISOYears:n(168),subMilliseconds:n(490),subMinutes:n(491),subMonths:n(492),subQuarters:n(493),subSeconds:n(494),subWeeks:n(495),subYears:n(496)}},function(e,t,n){var o=n(56);e.exports=function(e,t){return o(e,+t*3.6e6)}},function(e,t,n){var o=n(45),s=n(159);e.exports=function(e,t){return s(e,o(e)+ +t)}},function(e,t,n){var o=n(1),s=n(53),r=n(71);e.exports=function(e,t){var n=o(e),a=r(n,s(n)),i=new Date(0);return i.setFullYear(+t,0,4),i.setHours(0,0,0,0),n=s(i),n.setDate(n.getDate()+a),n}},function(e,t,n){var o=n(56);e.exports=function(e,t){return o(e,+t*6e4)}},function(e,t,n){var o=n(74);e.exports=function(e,t){return o(e,3*+t)}},function(e,t,n){var o=n(56);e.exports=function(e,t){return o(e,1e3*+t)}},function(e,t,n){var o=n(74);e.exports=function(e,t){return o(e,12*+t)}},function(e,t,n){var o=n(45);e.exports=function(e,t){return o(e)-o(t)}},function(e,t,n){var o=n(1);e.exports=function(e){var t=o(e),n=p(t.getMonth()/3)+1;return n}},function(e,t,n){var o=n(1);e.exports=function(e,t){var n=o(e),s=o(t);return n.getFullYear()-s.getFullYear()}},function(e,t,n){var o=n(1),s=n(71),r=n(54);e.exports=function(e,t){var n=o(e),a=o(t),i=r(n,a),d=l(s(n,a));n.setDate(n.getDate()-i*d);var c=r(n,a)===-i;return i*(d-c)}},function(e,t,n){var o=n(158);e.exports=function(e,t){return o(e,-+t)}},function(e,t,n){var o=n(1);e.exports=function(e,t){var n=t?+t.weekStartsOn||0:0,s=o(e),r=s.getDay(),a=(r<n?-7:0)+6-(r-n);return s.setDate(s.getDate()+a),s.setHours(23,59,59,999),s}},function(e,t,n){var o=n(1);e.exports=function(e){var t=o(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}},function(e,t,n){var o=n(1);e.exports=function(e){var t=o(e),n=t.getFullYear();return 0==n%400||0==n%4&&0!=n%100}},function(e,t,n){var o=n(1);e.exports=function(e){var t=o(e),n=t.getDay();return 0===n&&(n=7),n}},function(e,t,n){var o=n(174);e.exports=function(e,t){var n=o(e),s=o(t);return n.getTime()===s.getTime()}},function(e,t,n){var o=n(1);e.exports=function(e){var t=o(e);return t.setMinutes(0,0,0),t}},function(e,t,n){var o=n(110);e.exports=function(e,t){return o(e,t,{weekStartsOn:1})}},function(e,t,n){var o=n(53);e.exports=function(e,t){var n=o(e),s=o(t);return n.getTime()===s.getTime()}},function(e,t,n){var o=n(178);e.exports=function(e,t){var n=o(e),s=o(t);return n.getTime()===s.getTime()}},function(e,t,n){var o=n(1);e.exports=function(e){var t=o(e);return t.setSeconds(0,0),t}},function(e,t,n){var o=n(1);e.exports=function(e,t){var n=o(e),s=o(t);return n.getFullYear()===s.getFullYear()&&n.getMonth()===s.getMonth()}},function(e,t,n){var o=n(181);e.exports=function(e,t){var n=o(e),s=o(t);return n.getTime()===s.getTime()}},function(e,t,n){var o=n(1);e.exports=function(e){var t=o(e),n=t.getMonth();return t.setMonth(n-n%3,1),t.setHours(0,0,0,0),t}},function(e,t,n){var o=n(183);e.exports=function(e,t){var n=o(e),s=o(t);return n.getTime()===s.getTime()}},function(e,t,n){var o=n(1);e.exports=function(e){var t=o(e);return t.setMilliseconds(0),t}},function(e,t,n){var o=n(1);e.exports=function(e,t){var n=o(e),s=o(t);return n.getFullYear()===s.getFullYear()}},function(e,t,n){var o=n(1);e.exports=function(e,t){var n=t?+t.weekStartsOn||0:0,s=o(e),r=s.getDay(),a=(r<n?-7:0)+6-(r-n);return s.setHours(0,0,0,0),s.setDate(s.getDate()+a),s}},function(e,t,n){var o=n(1),s=n(107);e.exports=function(e,t){var n=o(e),r=+t,a=n.getFullYear(),i=n.getDate(),l=new Date(0);l.setFullYear(a,r,15),l.setHours(0,0,0,0);var d=s(l);return n.setMonth(r,m(i,d)),n}},function(e,t){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function o(e,t,n){return e.split(t).join(n)}Object.defineProperty(t,'__esModule',{value:!0});var s=function(){function e(e,t){for(var n=0,o;n<t.length;n++)o=t[n],o.enumerable=o.enumerable||!1,o.configurable=!0,'value'in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();t.searchAndReplace=o,t.escapeHTML=function(e){var t;return t=o(e,'<','&lt;'),t=o(t,'>','&gt;'),t},t.scrollToBottom=function(e){requestAnimationFrame(function(){if(0<e){var t=document.getElementById(e);if(!t)return!1;t.scrollIntoView({block:'end',behavior:'smooth'})}document.getElementsByClassName('qcw-comment-form').item(0).getElementsByTagName('textarea').item(0).focus()})};t.GroupChatBuilder=function(){function e(t){n(this,e),this.roomAdapter=t,this.name=null,this.emails=[],this.options={}}return s(e,[{key:'withName',value:function(e){return this.name=e,this}},{key:'withOptions',value:function(e){return this.options=e,this}},{key:'addParticipants',value:function(){for(var e=arguments.length,t=Array(e),n=0,o;n<e;n++)t[n]=arguments[n];return this.emails=(o=this.emails.filter(function(e){return-1===t.indexOf(e)})).concat.apply(o,t),this}},{key:'create',value:function(){var e=this.name,t=this.emails,n=this.options;return this.roomAdapter.createRoom(e,t,n)}}]),e}()},function(e,t,n){n(189),e.exports=n(391)},function(e,t,n){'use strict';(function(e){function t(e,t,n){e[t]||Object[o](e,t,{writable:!0,configurable:!0,value:n})}if(n(190),n(387),n(388),e._babelPolyfill)throw new Error('only one instance of babel-polyfill is allowed');e._babelPolyfill=!0;var o='defineProperty';t(String.prototype,'padLeft',''.padStart),t(String.prototype,'padRight',''.padEnd),['pop','reverse','shift','keys','values','entries','indexOf','every','some','forEach','map','filter','find','findIndex','includes','join','slice','concat','push','splice','unshift','sort','lastIndexOf','reduce','reduceRight','copyWithin','fill'].forEach(function(e){[][e]&&t(Array,e,Function.call.bind([][e]))})}).call(t,n(111))},function(e,t,n){n(191),n(193),n(194),n(195),n(196),n(197),n(198),n(199),n(200),n(201),n(202),n(203),n(204),n(205),n(206),n(207),n(209),n(210),n(211),n(212),n(213),n(214),n(215),n(216),n(217),n(218),n(219),n(220),n(221),n(222),n(223),n(224),n(225),n(226),n(227),n(228),n(229),n(230),n(231),n(232),n(233),n(234),n(235),n(236),n(237),n(238),n(239),n(240),n(241),n(242),n(243),n(244),n(245),n(246),n(247),n(248),n(249),n(250),n(251),n(252),n(253),n(254),n(255),n(256),n(257),n(258),n(259),n(260),n(261),n(262),n(263),n(264),n(265),n(266),n(267),n(268),n(269),n(271),n(272),n(274),n(275),n(276),n(277),n(278),n(279),n(280),n(282),n(283),n(284),n(285),n(286),n(287),n(288),n(289),n(290),n(291),n(292),n(293),n(294),n(96),n(295),n(296),n(130),n(297),n(298),n(299),n(300),n(301),n(133),n(135),n(136),n(302),n(303),n(304),n(305),n(306),n(307),n(308),n(309),n(310),n(311),n(312),n(313),n(314),n(315),n(316),n(317),n(318),n(319),n(320),n(321),n(322),n(323),n(324),n(325),n(326),n(327),n(328),n(329),n(330),n(331),n(332),n(333),n(334),n(335),n(336),n(337),n(338),n(339),n(340),n(341),n(342),n(343),n(344),n(345),n(346),n(347),n(348),n(349),n(350),n(351),n(352),n(353),n(354),n(355),n(356),n(357),n(358),n(359),n(360),n(361),n(362),n(363),n(364),n(365),n(366),n(367),n(368),n(369),n(370),n(371),n(372),n(373),n(374),n(375),n(376),n(377),n(378),n(379),n(380),n(381),n(382),n(383),n(384),n(385),n(386),e.exports=n(22)},function(e,t,n){'use strict';var o=n(3),s=n(12),r=n(7),a=n(0),i=n(14),l=n(30).KEY,d=n(4),c=n(57),p=n(46),u=n(33),m=n(6),g=n(113),_=n(76),y=n(192),f=n(60),h=n(2),v=n(16),T=n(23),b=n(32),x=n(37),S=n(116),I=n(17),E=n(8),M=n(35),O=I.f,A=E.f,P=S.f,R=o.Symbol,C=o.JSON,D=C&&C.stringify,N='prototype',L=m('_hidden'),w=m('toPrimitive'),F={}.propertyIsEnumerable,U=c('symbol-registry'),q=c('symbols'),H=c('op-symbols'),Y=Object[N],B='function'==typeof R,G=o.QObject,V=!G||!G[N]||!G[N].findChild,W=r&&d(function(){return 7!=x(A({},'a',{get:function(){return A(this,'a',{value:7}).a}})).a})?function(e,t,n){var o=O(Y,t);o&&delete Y[t],A(e,t,n),o&&e!==Y&&A(Y,t,o)}:A,K=function(e){var t=q[e]=x(R[N]);return t._k=e,t},Q=B&&'symbol'==typeof R.iterator?function(e){return'symbol'==typeof e}:function(e){return e instanceof R},z=function(e,t,n){return e===Y&&z(H,t,n),h(e),t=T(t,!0),h(n),s(q,t)?(n.enumerable?(s(e,L)&&e[L][t]&&(e[L][t]=!1),n=x(n,{enumerable:b(0,!1)})):(!s(e,L)&&A(e,L,b(1,{})),e[L][t]=!0),W(e,t,n)):A(e,t,n)},X=function(e,t){h(e);for(var n=y(t=v(t)),o=0,s=n.length,r;s>o;)z(e,r=n[o++],t[r]);return e},J=function(e){var t=F.call(this,e=T(e,!0));return this===Y&&s(q,e)&&!s(H,e)?!1:t||!s(this,e)||!s(q,e)||s(this,L)&&this[L][e]?t:!0},$=function(e,t){if(e=v(e),t=T(t,!0),e!==Y||!s(q,t)||s(H,t)){var n=O(e,t);return n&&s(q,t)&&!(s(e,L)&&e[L][t])&&(n.enumerable=!0),n}},Z=function(e){for(var t=P(v(e)),n=[],o=0,r;t.length>o;)s(q,r=t[o++])||r==L||r==l||n.push(r);return n},ee=function(e){for(var t=e===Y,n=P(t?H:v(e)),o=[],r=0,a;n.length>r;)s(q,a=n[r++])&&(!t||s(Y,a))&&o.push(q[a]);return o};B||(R=function(){if(this instanceof R)throw TypeError('Symbol is not a constructor!');var e=u(0<arguments.length?arguments[0]:void 0),t=function(n){this===Y&&t.call(H,n),s(this,L)&&s(this[L],e)&&(this[L][e]=!1),W(this,e,b(1,n))};return r&&V&&W(Y,e,{configurable:!0,set:t}),K(e)},i(R[N],'toString',function(){return this._k}),I.f=$,E.f=z,n(38).f=S.f=Z,n(51).f=J,n(59).f=ee,r&&!n(34)&&i(Y,'propertyIsEnumerable',J,!0),g.f=function(e){return K(m(e))}),a(a.G+a.W+a.F*!B,{Symbol:R});for(var te=['hasInstance','isConcatSpreadable','iterator','match','replace','search','species','split','toPrimitive','toStringTag','unscopables'],ne=0;te.length>ne;)m(te[ne++]);for(var j=M(m.store),oe=0;j.length>oe;)_(j[oe++]);a(a.S+a.F*!B,'Symbol',{for:function(e){return s(U,e+='')?U[e]:U[e]=R(e)},keyFor:function(e){if(!Q(e))throw TypeError(e+' is not a symbol!');for(var t in U)if(U[t]===e)return t},useSetter:function(){V=!0},useSimple:function(){V=!1}}),a(a.S+a.F*!B,'Object',{create:function(e,t){return t===void 0?x(e):X(x(e),t)},defineProperty:z,defineProperties:X,getOwnPropertyDescriptor:$,getOwnPropertyNames:Z,getOwnPropertySymbols:ee}),C&&a(a.S+a.F*(!B||d(function(){var e=R();return'[null]'!=D([e])||'{}'!=D({a:e})||'{}'!=D(Object(e))})),'JSON',{stringify:function(e){if(!(void 0===e||Q(e))){for(var t=[e],n=1,o,s;arguments.length>n;)t.push(arguments[n++]);return o=t[1],'function'==typeof o&&(s=o),(s||!f(o))&&(o=function(e,t){if(s&&(t=s.call(this,e,t)),!Q(t))return t}),t[1]=o,D.apply(C,t)}}}),R[N][w]||n(13)(R[N],w,R[N].valueOf),p(R,'Symbol'),p(Math,'Math',!0),p(o.JSON,'JSON',!0)},function(e,t,n){var o=n(35),s=n(59),r=n(51);e.exports=function(e){var t=o(e),n=s.f;if(n)for(var a=n(e),l=r.f,d=0,i;a.length>d;)l.call(e,i=a[d++])&&t.push(i);return t}},function(e,t,n){var o=n(0);o(o.S,'Object',{create:n(37)})},function(e,t,n){var o=n(0);o(o.S+o.F*!n(7),'Object',{defineProperty:n(8).f})},function(e,t,n){var o=n(0);o(o.S+o.F*!n(7),'Object',{defineProperties:n(115)})},function(e,t,n){var o=n(16),s=n(17).f;n(26)('getOwnPropertyDescriptor',function(){return function(e,t){return s(o(e),t)}})},function(e,t,n){var o=n(10),s=n(18);n(26)('getPrototypeOf',function(){return function(e){return s(o(e))}})},function(e,t,n){var o=n(10),s=n(35);n(26)('keys',function(){return function(e){return s(o(e))}})},function(e,t,n){n(26)('getOwnPropertyNames',function(){return n(116).f})},function(e,t,n){var o=n(5),s=n(30).onFreeze;n(26)('freeze',function(e){return function(t){return e&&o(t)?e(s(t)):t}})},function(e,t,n){var o=n(5),s=n(30).onFreeze;n(26)('seal',function(e){return function(t){return e&&o(t)?e(s(t)):t}})},function(e,t,n){var o=n(5),s=n(30).onFreeze;n(26)('preventExtensions',function(e){return function(t){return e&&o(t)?e(s(t)):t}})},function(e,t,n){var o=n(5);n(26)('isFrozen',function(e){return function(t){return!o(t)||!!e&&e(t)}})},function(e,t,n){var o=n(5);n(26)('isSealed',function(e){return function(t){return!o(t)||!!e&&e(t)}})},function(e,t,n){var o=n(5);n(26)('isExtensible',function(e){return function(t){return!!o(t)&&(!e||e(t))}})},function(e,t,n){var o=n(0);o(o.S+o.F,'Object',{assign:n(117)})},function(e,t,n){var o=n(0);o(o.S,'Object',{is:n(208)})},function(e){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,t,n){var o=n(0);o(o.S,'Object',{setPrototypeOf:n(80).set})},function(e,t,n){'use strict';var o=n(52);({})[n(6)('toStringTag')]='z',n(14)(Object.prototype,'toString',function(){return'[object '+o(this)+']'},!0)},function(e,t,n){var o=n(0);o(o.P,'Function',{bind:n(118)})},function(e,t,n){var o=n(8).f,s=Function.prototype,r=/^\s*function ([^ (]*)/,a='name';a in s||n(7)&&o(s,a,{configurable:!0,get:function(){try{return(''+this).match(r)[1]}catch(t){return''}}})},function(e,t,n){'use strict';var o=n(5),s=n(18),r=n(6)('hasInstance'),a=Function.prototype;r in a||n(8).f(a,r,{value:function(e){if('function'!=typeof this||!o(e))return!1;if(!o(this.prototype))return e instanceof this;for(;e=s(e);)if(this.prototype===e)return!0;return!1}})},function(e,t,n){var o=n(0),s=n(120);o(o.G+o.F*(parseInt!=s),{parseInt:s})},function(e,t,n){var o=n(0),s=n(121);o(o.G+o.F*(parseFloat!=s),{parseFloat:s})},function(e,t,n){'use strict';var o=n(3),s=n(12),r=n(20),a=n(82),d=n(23),i=n(4),l=n(38).f,c=n(17).f,p=n(8).f,u=n(47).trim,m='Number',g=o[m],_=g,y=g.prototype,f=r(n(37)(y))==m,h='trim'in String.prototype,v=function(e){var t=d(e,!1);if('string'==typeof t&&2<t.length){t=h?t.trim():u(t,3);var n=t.charCodeAt(0),o,s,r;if(43===n||45===n){if(o=t.charCodeAt(2),88===o||120===o)return NaN;}else if(48===n){switch(t.charCodeAt(1)){case 66:case 98:s=2,r=49;break;case 79:case 111:s=8,r=55;break;default:return+t;}for(var a=t.slice(2),c=0,i=a.length,l;c<i;c++)if(l=a.charCodeAt(c),48>l||l>r)return NaN;return parseInt(a,s)}}return+t};if(!g(' 0o1')||!g('0b1')||g('+0x1')){g=function(e){var t=1>arguments.length?0:e,n=this;return n instanceof g&&(f?i(function(){y.valueOf.call(n)}):r(n)!=m)?a(new _(v(t)),n,g):v(t)};for(var T=n(7)?l(_):'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger'.split(','),b=0,x;T.length>b;b++)s(_,x=T[b])&&!s(g,x)&&p(g,x,c(_,x));g.prototype=y,y.constructor=g,n(14)(o,m,g)}},function(e,t,n){'use strict';var o=n(0),r=n(25),a=n(122),l=n(83),s=1 .toFixed,d=p,u=[0,0,0,0,0,0],i='Number.toFixed: incorrect invocation!',c='0',g=function(e,t){for(var n=-1,o=t;6>++n;)o+=e*u[n],u[n]=o%1e7,o=d(o/1e7)},_=function(e){for(var t=6,n=0;0<=--t;)n+=u[t],u[t]=d(n/e),n=1e7*(n%e)},y=function(){for(var e=6,n='';0<=--e;)if(''!=n||0==e||0!==u[e]){var o=u[e]+'';n=''==n?o:n+l.call(c,7-o.length)+o}return n},h=function(e,t,n){return 0===t?n:1==t%2?h(e,t-1,n*e):h(e*e,t/2,n)},v=function(e){for(var t=0,n=e;4096<=n;)t+=12,n/=4096;for(;2<=n;)t+=1,n/=2;return t};o(o.P+o.F*('0.000'!==8e-5.toFixed(3)||'1'!==0.9.toFixed(0)||'1.25'!==1.255.toFixed(2)||'1000000000000000128'!==1000000000000000100 .toFixed(0)||!n(4)(function(){s.call({})})),'Number',{toFixed:function(t){var n=a(this,i),o=r(t),d='',s=c,p,u,m,f;if(0>o||20<o)throw RangeError(i);if(n!=n)return'NaN';if(-1e21>=n||1e21<=n)return n+'';if(0>n&&(d='-',n=-n),1e-21<n)if(p=v(n*h(2,69,1))-69,u=0>p?n*h(2,-p,1):n/h(2,p,1),u*=4503599627370496,p=52-p,0<p){for(g(0,u),m=o;7<=m;)g(1e7,0),m-=7;for(g(h(10,m,1),0),m=p-1;23<=m;)_(8388608),m-=23;_(1<<m),g(1,1),_(2),s=y()}else g(0,u),g(1<<-p,0),s=y()+l.call(c,o);return 0<o?(f=s.length,s=d+(f<=o?'0.'+l.call(c,o-f)+s:s.slice(0,f-o)+'.'+s.slice(f-o))):s=d+s,s}})},function(e,t,n){'use strict';var o=n(0),s=n(4),r=n(122),a=1 .toPrecision;o(o.P+o.F*(s(function(){return'1'!==a.call(1,void 0)})||!s(function(){a.call({})})),'Number',{toPrecision:function(e){var t=r(this,'Number#toPrecision: incorrect invocation!');return e===void 0?a.call(t):a.call(t,e)}})},function(e,t,n){var o=n(0);o(o.S,'Number',{EPSILON:2.220446049250313e-16})},function(e,t,n){var o=n(0),s=n(3).isFinite;o(o.S,'Number',{isFinite:function(e){return'number'==typeof e&&s(e)}})},function(e,t,n){var o=n(0);o(o.S,'Number',{isInteger:n(123)})},function(e,t,n){var o=n(0);o(o.S,'Number',{isNaN:function(e){return e!=e}})},function(e,t,n){var o=n(0),s=n(123);o(o.S,'Number',{isSafeInteger:function(e){return s(e)&&9007199254740991>=l(e)}})},function(e,t,n){var o=n(0);o(o.S,'Number',{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,n){var o=n(0);o(o.S,'Number',{MIN_SAFE_INTEGER:-9007199254740991})},function(e,t,n){var o=n(0),s=n(121);o(o.S+o.F*(Number.parseFloat!=s),'Number',{parseFloat:s})},function(e,t,n){var o=n(0),s=n(120);o(o.S+o.F*(Number.parseInt!=s),'Number',{parseInt:s})},function(e,t,r){var a=r(0),i=r(124),l=n,d=Math.acosh;a(a.S+a.F*!(d&&710==p(d(Number.MAX_VALUE))&&d(Infinity)==Infinity),'Math',{acosh:function(e){return 1>(e=+e)?NaN:94906265.62425156<e?s(e)+o:i(e-1+l(e-1)*l(e+1))}})},function(e,t,o){function r(e){return isFinite(e=+e)&&0!=e?0>e?-r(-e):s(e+n(e*e+1)):e}var a=o(0),i=Math.asinh;a(a.S+a.F*!(i&&0<1/i(0)),'Math',{asinh:r})},function(e,t,n){var o=n(0),r=Math.atanh;o(o.S+o.F*!(r&&0>1/r(-0)),'Math',{atanh:function(e){return 0==(e=+e)?e:s((1+e)/(1-e))/2}})},function(e,t,n){var o=n(0),s=n(84);o(o.S,'Math',{cbrt:function(e){return s(e=+e)*r(l(e),1/3)}})},function(e,t,n){var o=n(0);o(o.S,'Math',{clz32:function(e){return(e>>>=0)?31-p(s(e+0.5)*Math.LOG2E):32}})},function(e,t,n){var o=n(0),s=a;o(o.S,'Math',{cosh:function(e){return(s(e=+e)+s(-e))/2}})},function(e,t,n){var o=n(0),s=n(85);o(o.S+o.F*(s!=i),'Math',{expm1:s})},function(e,t,n){var o=n(0);o(o.S,'Math',{fround:n(125)})},function(e,t,o){var s=o(0);s(s.S,'Math',{hypot:function(){for(var e=0,t=0,o=arguments.length,s=0,r,a;t<o;)r=l(arguments[t++]),s<r?(a=s/r,e=e*a*a+1,s=r):0<r?(a=r/s,e+=a*a):e+=r;return s==Infinity?Infinity:s*n(e)}})},function(e,t,n){var o=n(0),s=Math.imul;o(o.S+o.F*n(4)(function(){return-5!=s(4294967295,5)||2!=s.length}),'Math',{imul:function(e,t){var n=65535,o=+e,s=+t,r=n&o,a=n&s;return 0|r*a+((n&o>>>16)*a+r*(n&s>>>16)<<16>>>0)}})},function(e,t,n){var o=n(0);o(o.S,'Math',{log10:function(e){return s(e)*Math.LOG10E}})},function(e,t,n){var o=n(0);o(o.S,'Math',{log1p:n(124)})},function(e,t,n){var r=n(0);r(r.S,'Math',{log2:function(e){return s(e)/o}})},function(e,t,n){var o=n(0);o(o.S,'Math',{sign:n(84)})},function(e,t,n){var o=n(0),s=n(85),r=a;o(o.S+o.F*n(4)(function(){return!0}),'Math',{sinh:function(e){return 1>l(e=+e)?(s(e)-s(-e))/2:(r(e-1)-r(-e-1))*(Math.E/2)}})},function(e,t,n){var o=n(0),s=n(85),r=a;o(o.S,'Math',{tanh:function(e){var t=s(e=+e),n=s(-e);return t==Infinity?1:n==Infinity?-1:(t-n)/(r(e)+r(-e))}})},function(e,t,n){var o=n(0);o(o.S,'Math',{trunc:function(e){return(0<e?p:u)(e)}})},function(e,n,o){var s=o(0),r=o(36),a=t,i=String.fromCodePoint;s(s.S+s.F*(!!i&&1!=i.length),'String',{fromCodePoint:function(){for(var e=[],t=arguments.length,n=0,o;t>n;){if(o=+arguments[n++],r(o,1114111)!==o)throw RangeError(o+' is not a valid code point');e.push(65536>o?a(o):a(((o-=65536)>>10)+55296,o%1024+56320))}return e.join('')}})},function(e,t,n){var o=n(0),s=n(16),r=n(9);o(o.S,'String',{raw:function(e){for(var t=s(e.raw),n=r(t.length),o=arguments.length,a=[],l=0;n>l;)a.push(t[l++]+''),l<o&&a.push(arguments[l]+'');return a.join('')}})},function(e,t,n){'use strict';n(47)('trim',function(e){return function(){return e(this,3)}})},function(e,t,n){'use strict';var o=n(86)(!0);n(87)(String,'String',function(e){this._t=e+'',this._i=0},function(){var e=this._t,t=this._i,n;return t>=e.length?{value:void 0,done:!0}:(n=o(e,t),this._i+=n.length,{value:n,done:!1})})},function(e,t,n){'use strict';var o=n(0),s=n(86)(!1);o(o.P,'String',{codePointAt:function(e){return s(this,e)}})},function(e,t,n){'use strict';var o=n(0),s=n(9),r=n(89),a='endsWith',i=''[a];o(o.P+o.F*n(90)(a),'String',{endsWith:function(e){var t=r(this,e,a),n=1<arguments.length?arguments[1]:void 0,o=s(t.length),i=n===void 0?o:m(s(n),o),l=e+'';return t.slice(i-l.length,i)===l}})},function(e,t,n){'use strict';var o=n(0),s=n(89),r='includes';o(o.P+o.F*n(90)(r),'String',{includes:function(e){return!!~s(this,e,r).indexOf(e,1<arguments.length?arguments[1]:void 0)}})},function(e,t,n){var o=n(0);o(o.P,'String',{repeat:n(83)})},function(e,t,n){'use strict';var o=n(0),s=n(9),r=n(89),a='startsWith',i=''[a];o(o.P+o.F*n(90)(a),'String',{startsWith:function(e){var t=r(this,e,a),n=s(m(1<arguments.length?arguments[1]:void 0,t.length)),o=e+'';return t.slice(n,n+o.length)===o}})},function(e,t,n){'use strict';n(15)('anchor',function(e){return function(t){return e(this,'a','name',t)}})},function(e,t,n){'use strict';n(15)('big',function(e){return function(){return e(this,'big','','')}})},function(e,t,n){'use strict';n(15)('blink',function(e){return function(){return e(this,'blink','','')}})},function(e,t,n){'use strict';n(15)('bold',function(e){return function(){return e(this,'b','','')}})},function(e,t,n){'use strict';n(15)('fixed',function(e){return function(){return e(this,'tt','','')}})},function(e,t,n){'use strict';n(15)('fontcolor',function(e){return function(t){return e(this,'font','color',t)}})},function(e,t,n){'use strict';n(15)('fontsize',function(e){return function(t){return e(this,'font','size',t)}})},function(e,t,n){'use strict';n(15)('italics',function(e){return function(){return e(this,'i','','')}})},function(e,t,n){'use strict';n(15)('link',function(e){return function(t){return e(this,'a','href',t)}})},function(e,t,n){'use strict';n(15)('small',function(e){return function(){return e(this,'small','','')}})},function(e,t,n){'use strict';n(15)('strike',function(e){return function(){return e(this,'strike','','')}})},function(e,t,n){'use strict';n(15)('sub',function(e){return function(){return e(this,'sub','','')}})},function(e,t,n){'use strict';n(15)('sup',function(e){return function(){return e(this,'sup','','')}})},function(e,t,n){var o=n(0);o(o.S,'Date',{now:function(){return new Date().getTime()}})},function(e,t,n){'use strict';var o=n(0),s=n(10),r=n(23);o(o.P+o.F*n(4)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),'Date',{toJSON:function(){var e=s(this),t=r(e);return'number'!=typeof t||isFinite(t)?e.toISOString():null}})},function(e,t,n){var o=n(0),s=n(270);o(o.P+o.F*(Date.prototype.toISOString!==s),'Date',{toISOString:s})},function(e,t,n){'use strict';var o=n(4),r=Date.prototype.getTime,s=Date.prototype.toISOString,a=function(e){return 9<e?e:'0'+e};e.exports=o(function(){return'0385-07-25T07:06:39.999Z'!=s.call(new Date(-50000000000001))})||!o(function(){s.call(new Date(NaN))})?function(){if(!isFinite(r.call(this)))throw RangeError('Invalid time value');var e=this,t=e.getUTCFullYear(),n=e.getUTCMilliseconds(),o=0>t?'-':9999<t?'+':'';return o+('00000'+l(t)).slice(o?-6:-4)+'-'+a(e.getUTCMonth()+1)+'-'+a(e.getUTCDate())+'T'+a(e.getUTCHours())+':'+a(e.getUTCMinutes())+':'+a(e.getUTCSeconds())+'.'+(99<n?n:'0'+a(n))+'Z'}:s},function(e,t,n){var o=Date.prototype,s='Invalid Date',r='toString',a=o[r],i=o.getTime;new Date(NaN)+''!=s&&n(14)(o,r,function(){var e=i.call(this);return e===e?a.call(this):s})},function(e,t,n){var o=n(6)('toPrimitive'),s=Date.prototype;o in s||n(13)(s,o,n(273))},function(e,t,n){'use strict';var o=n(2),s=n(23),r='number';e.exports=function(e){if('string'!==e&&e!==r&&'default'!==e)throw TypeError('Incorrect hint');return s(o(this),e!=r)}},function(e,t,n){var o=n(0);o(o.S,'Array',{isArray:n(60)})},function(e,t,n){'use strict';var o=n(19),s=n(0),r=n(10),a=n(126),i=n(91),l=n(9),d=n(92),c=n(93);s(s.S+s.F*!n(62)(function(e){Array.from(e)}),'Array',{from:function(e){var t=r(e),n='function'==typeof this?this:Array,s=arguments.length,p=1<s?arguments[1]:void 0,u=void 0!==p,m=0,g=c(t),_,y,f,h;if(u&&(p=o(p,2<s?arguments[2]:void 0,2)),void 0!=g&&!(n==Array&&i(g)))for(h=g.call(t),y=new n;!(f=h.next()).done;m++)d(y,m,u?a(h,p,[f.value,m],!0):f.value);else for(_=l(t.length),y=new n(_);_>m;m++)d(y,m,u?p(t[m],m):t[m]);return y.length=m,y}})},function(e,t,n){'use strict';var o=n(0),s=n(92);o(o.S+o.F*n(4)(function(){function e(){}return!(Array.of.call(e)instanceof e)}),'Array',{of:function(){for(var e=0,t=arguments.length,n=new('function'==typeof this?this:Array)(t);t>e;)s(n,e,arguments[e++]);return n.length=t,n}})},function(e,t,n){'use strict';var o=n(0),s=n(16),r=[].join;o(o.P+o.F*(n(50)!=Object||!n(21)(r)),'Array',{join:function(e){return r.call(s(this),e===void 0?',':e)}})},function(e,t,n){'use strict';var o=n(0),s=n(79),r=n(20),a=n(36),l=n(9),d=[].slice;o(o.P+o.F*n(4)(function(){s&&d.call(s)}),'Array',{slice:function(e,t){var n=l(this.length),o=r(this);if(t=void 0===t?n:t,'Array'==o)return d.call(this,e,t);for(var s=a(e,n),c=a(t,n),p=l(c-s),u=Array(p),m=0;m<p;m++)u[m]='String'==o?this.charAt(s+m):this[s+m];return u}})},function(e,t,n){'use strict';var o=n(0),s=n(11),r=n(10),a=n(4),i=[].sort,l=[1,2,3];o(o.P+o.F*(a(function(){l.sort(void 0)})||!a(function(){l.sort(null)})||!n(21)(i)),'Array',{sort:function(e){return e===void 0?i.call(r(this)):i.call(r(this),s(e))}})},function(e,t,n){'use strict';var o=n(0),s=n(27)(0),r=n(21)([].forEach,!0);o(o.P+o.F*!r,'Array',{forEach:function(e){return s(this,e,arguments[1])}})},function(e,t,n){var o=n(5),s=n(60),r=n(6)('species');e.exports=function(e){var t;return s(e)&&(t=e.constructor,'function'==typeof t&&(t===Array||s(t.prototype))&&(t=void 0),o(t)&&(t=t[r],null===t&&(t=void 0))),void 0===t?Array:t}},function(e,t,n){'use strict';var o=n(0),s=n(27)(1);o(o.P+o.F*!n(21)([].map,!0),'Array',{map:function(e){return s(this,e,arguments[1])}})},function(e,t,n){'use strict';var o=n(0),s=n(27)(2);o(o.P+o.F*!n(21)([].filter,!0),'Array',{filter:function(e){return s(this,e,arguments[1])}})},function(e,t,n){'use strict';var o=n(0),s=n(27)(3);o(o.P+o.F*!n(21)([].some,!0),'Array',{some:function(e){return s(this,e,arguments[1])}})},function(e,t,n){'use strict';var o=n(0),s=n(27)(4);o(o.P+o.F*!n(21)([].every,!0),'Array',{every:function(e){return s(this,e,arguments[1])}})},function(e,t,n){'use strict';var o=n(0),s=n(127);o(o.P+o.F*!n(21)([].reduce,!0),'Array',{reduce:function(e){return s(this,e,arguments.length,arguments[1],!1)}})},function(e,t,n){'use strict';var o=n(0),s=n(127);o(o.P+o.F*!n(21)([].reduceRight,!0),'Array',{reduceRight:function(e){return s(this,e,arguments.length,arguments[1],!0)}})},function(e,t,n){'use strict';var o=n(0),s=n(58)(!1),r=[].indexOf,a=!!r&&0>1/[1].indexOf(1,-0);o(o.P+o.F*(a||!n(21)(r)),'Array',{indexOf:function(e){return a?r.apply(this,arguments)||0:s(this,e,arguments[1])}})},function(e,t,n){'use strict';var o=n(0),s=n(16),r=n(25),a=n(9),i=[].lastIndexOf,l=!!i&&0>1/[1].lastIndexOf(1,-0);o(o.P+o.F*(l||!n(21)(i)),'Array',{lastIndexOf:function(e){if(l)return i.apply(this,arguments)||0;var t=s(this),n=a(t.length),o=n-1;for(1<arguments.length&&(o=m(o,r(arguments[1]))),0>o&&(o=n+o);0<=o;o--)if(o in t&&t[o]===e)return o||0;return-1}})},function(e,t,n){var o=n(0);o(o.P,'Array',{copyWithin:n(128)}),n(31)('copyWithin')},function(e,t,n){var o=n(0);o(o.P,'Array',{fill:n(95)}),n(31)('fill')},function(e,t,n){'use strict';var o=n(0),s=n(27)(5),r='find',a=!0;r in[]&&[,][r](function(){a=!1}),o(o.P+o.F*a,'Array',{find:function(e){return s(this,e,1<arguments.length?arguments[1]:void 0)}}),n(31)(r)},function(e,t,n){'use strict';var o=n(0),s=n(27)(6),r='findIndex',a=!0;r in[]&&[,][r](function(){a=!1}),o(o.P+o.F*a,'Array',{findIndex:function(e){return s(this,e,1<arguments.length?arguments[1]:void 0)}}),n(31)(r)},function(e,t,n){n(39)('Array')},function(e,t,n){var o=n(3),s=n(82),r=n(8).f,a=n(38).f,l=n(61),d=n(63),c=o.RegExp,u=c,m=c.prototype,p=/a/g,g=/a/g,_=new c(p)!==p;if(n(7)&&(!_||n(4)(function(){return g[n(6)('match')]=!1,c(p)!=p||c(g)==g||'/a/i'!=c(p,'i')}))){c=function(e,t){var n=this instanceof c,o=l(e),r=t===void 0;return!n&&o&&e.constructor===c&&r?e:s(_?new u(o&&!r?e.source:e,t):u((o=e instanceof c)?e.source:e,o&&r?d.call(e):t),n?this:m,c)};for(var y=function(e){(e in c)||r(c,e,{configurable:!0,get:function(){return u[e]},set:function(t){u[e]=t}})},f=a(u),h=0;f.length>h;)y(f[h++]);m.constructor=c,c.prototype=m,n(14)(o,'RegExp',c)}n(39)('RegExp')},function(e,t,n){'use strict';n(130);var o=n(2),s=n(63),r=n(7),a='toString',i=/./[a],l=function(e){n(14)(RegExp.prototype,a,e,!0)};n(4)(function(){return'/a/b'!=i.call({source:'a',flags:'b'})})?l(function(){var e=o(this);return'/'.concat(e.source,'/','flags'in e?e.flags:!r&&e instanceof RegExp?s.call(e):void 0)}):i.name!=a&&l(function(){return i.call(this)})},function(e,t,n){n(64)('match',1,function(e,t,n){return[function(n){'use strict';var o=e(this),s=n==void 0?void 0:n[t];return s===void 0?new RegExp(n)[t](o+''):s.call(n,o)},n]})},function(e,t,n){n(64)('replace',2,function(e,t,n){return[function(o,s){'use strict';var r=e(this),a=o==void 0?void 0:o[t];return a===void 0?n.call(r+'',o,s):a.call(o,r,s)},n]})},function(e,t,n){n(64)('search',1,function(e,t,n){return[function(n){'use strict';var o=e(this),s=n==void 0?void 0:n[t];return s===void 0?new RegExp(n)[t](o+''):s.call(n,o)},n]})},function(e,t,n){n(64)('split',2,function(e,t,o){'use strict';var s=n(61),r=o,a=[].push,i='split',l='length',d='lastIndex';if('c'=='abbc'[i](/(b)*/)[1]||4!='test'[i](/(?:)/,-1)[l]||2!='ab'[i](/(?:ab)*/)[l]||4!='.'[i](/(.?)(.?)/)[l]||1<'.'[i](/()()/)[l]||''[i](/.?/)[l]){var c=/()??/.exec('')[1]===void 0;o=function(e,t){var n=this+'';if(void 0===e&&0===t)return[];if(!s(e))return r.call(n,e,t);var o=[],p=(e.ignoreCase?'i':'')+(e.multiline?'m':'')+(e.unicode?'u':'')+(e.sticky?'y':''),u=0,m=void 0===t?4294967295:t>>>0,g=new RegExp(e.source,p+'g'),_,y,f,h,v;for(c||(_=new RegExp('^'+g.source+'$(?!\\s)',p));(y=g.exec(n))&&(f=y.index+y[0][l],!(f>u&&(o.push(n.slice(u,y.index)),!c&&1<y[l]&&y[0].replace(_,function(){for(v=1;v<arguments[l]-2;v++)void 0===arguments[v]&&(y[v]=void 0)}),1<y[l]&&y.index<n[l]&&a.apply(o,y.slice(1)),h=y[0][l],u=f,o[l]>=m)));)g[d]===y.index&&g[d]++;return u===n[l]?(h||!g.test(''))&&o.push(''):o.push(n.slice(u)),o[l]>m?o.slice(0,m):o}}else'0'[i](void 0,0)[l]&&(o=function(e,t){return void 0===e&&0===t?[]:r.call(this,e,t)});return[function(n,s){var r=e(this),a=n==void 0?void 0:n[t];return a===void 0?o.call(r+'',n,s):a.call(n,r,s)},o]})},function(e,t,n){'use strict';var o=n(34),s=n(3),r=n(19),a=n(52),i=n(0),l=n(5),d=n(11),c=n(40),p=n(41),u=n(65),m=n(97).set,g=n(98)(),_=n(99),y=n(131),f=n(132),h='Promise',v=s.TypeError,T=s.process,b=s[h],x='process'==a(T),S=function(){},k=N=_.f,I=!!function(){try{var e=b.resolve(1),t=(e.constructor={})[n(6)('species')]=function(e){e(S,S)};return(x||'function'==typeof PromiseRejectionEvent)&&e.then(S)instanceof t}catch(t){}}(),E=function(e){var t;return l(e)&&'function'==typeof(t=e.then)&&t},M=function(e,t){if(!e._n){e._n=!0;var n=e._c;g(function(){for(var o=e._v,s=1==e._s,r=0,a=function(t){var n=s?t.ok:t.fail,r=t.resolve,a=t.reject,i=t.domain,l,d;try{n?(!s&&(2==e._h&&P(e),e._h=1),!0===n?l=o:(i&&i.enter(),l=n(o),i&&i.exit()),l===t.promise?a(v('Promise-chain cycle')):(d=E(l))?d.call(l,r,a):r(l)):a(o)}catch(t){a(t)}};n.length>r;)a(n[r++]);e._c=[],e._n=!1,t&&!e._h&&O(e)})}},O=function(e){m.call(s,function(){var t=e._v,n=A(e),o,r,a;if(n&&(o=y(function(){x?T.emit('unhandledRejection',t,e):(r=s.onunhandledrejection)?r({promise:e,reason:t}):(a=s.console)&&a.error&&a.error('Unhandled promise rejection',t)}),e._h=x||A(e)?2:1),e._a=void 0,n&&o.e)throw o.v})},A=function(e){if(1==e._h)return!1;for(var t=e._a||e._c,n=0,o;t.length>n;)if(o=t[n++],o.fail||!A(o.promise))return!1;return!0},P=function(e){m.call(s,function(){var t;x?T.emit('rejectionHandled',e):(t=s.onrejectionhandled)&&t({promise:e,reason:e._v})})},R=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,!t._a&&(t._a=t._c.slice()),M(t,!0))},C=function(e){var t=this,n;if(!t._d){t._d=!0,t=t._w||t;try{if(t===e)throw v('Promise can\'t be resolved itself');(n=E(e))?g(function(){var o={_w:t,_d:!1};try{n.call(e,r(C,o,1),r(R,o,1))}catch(t){R.call(o,t)}}):(t._v=e,t._s=1,M(t,!1))}catch(n){R.call({_w:t,_d:!1},n)}}},D,N,L,w;I||(b=function(e){c(this,b,h,'_h'),d(e),D.call(this);try{e(r(C,this,1),r(R,this,1))}catch(e){R.call(this,e)}},D=function(){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},D.prototype=n(42)(b.prototype,{then:function(e,t){var n=k(u(this,b));return n.ok='function'!=typeof e||e,n.fail='function'==typeof t&&t,n.domain=x?T.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&M(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),L=function(){var e=new D;this.promise=e,this.resolve=r(C,e,1),this.reject=r(R,e,1)},_.f=k=function(e){return e===b||e===w?new L(e):N(e)}),i(i.G+i.W+i.F*!I,{Promise:b}),n(46)(b,h),n(39)(h),w=n(22)[h],i(i.S+i.F*!I,h,{reject:function(e){var t=k(this),n=t.reject;return n(e),t.promise}}),i(i.S+i.F*(o||!I),h,{resolve:function(e){return f(o&&this===w?b:this,e)}}),i(i.S+i.F*!(I&&n(62)(function(e){b.all(e)['catch'](S)})),h,{all:function(e){var t=this,n=k(t),o=n.resolve,s=n.reject,r=y(function(){var n=[],r=0,a=1;p(e,!1,function(e){var i=r++,l=!1;n.push(void 0),a++,t.resolve(e).then(function(e){l||(l=!0,n[i]=e,--a||o(n))},s)}),--a||o(n)});return r.e&&s(r.v),n.promise},race:function(e){var t=this,n=k(t),o=n.reject,s=y(function(){p(e,!1,function(e){t.resolve(e).then(n.resolve,o)})});return s.e&&o(s.v),n.promise}})},function(e,t,n){'use strict';var o=n(137),s=n(49),r='WeakSet';n(66)(r,function(e){return function(){return e(this,0<arguments.length?arguments[0]:void 0)}},{add:function(e){return o.def(s(this,r),e,!0)}},o,!1,!0)},function(e,t,n){'use strict';var o=n(0),s=n(67),r=n(100),a=n(2),i=n(36),l=n(9),d=n(5),c=n(3).ArrayBuffer,p=n(65),u=r.ArrayBuffer,m=r.DataView,g=s.ABV&&c.isView,_=u.prototype.slice,y=s.VIEW,f='ArrayBuffer';o(o.G+o.W+o.F*(c!==u),{ArrayBuffer:u}),o(o.S+o.F*!s.CONSTR,f,{isView:function(e){return g&&g(e)||d(e)&&y in e}}),o(o.P+o.U+o.F*n(4)(function(){return!new u(2).slice(1,void 0).byteLength}),f,{slice:function(e,t){if(_!==void 0&&t===void 0)return _.call(a(this),e);for(var n=a(this).byteLength,o=i(e,n),s=i(void 0===t?n:t,n),r=new(p(this,u))(l(s-o)),d=new m(this),c=new m(r),g=0;o<s;)c.setUint8(g++,d.getUint8(o++));return r}}),n(39)(f)},function(e,t,n){var o=n(0);o(o.G+o.W+o.F*!n(67).ABV,{DataView:n(100).DataView})},function(e,t,n){n(28)('Int8',1,function(e){return function(t,n,o){return e(this,t,n,o)}})},function(e,t,n){n(28)('Uint8',1,function(e){return function(t,n,o){return e(this,t,n,o)}})},function(e,t,n){n(28)('Uint8',1,function(e){return function(t,n,o){return e(this,t,n,o)}},!0)},function(e,t,n){n(28)('Int16',2,function(e){return function(t,n,o){return e(this,t,n,o)}})},function(e,t,n){n(28)('Uint16',2,function(e){return function(t,n,o){return e(this,t,n,o)}})},function(e,t,n){n(28)('Int32',4,function(e){return function(t,n,o){return e(this,t,n,o)}})},function(e,t,n){n(28)('Uint32',4,function(e){return function(t,n,o){return e(this,t,n,o)}})},function(e,t,n){n(28)('Float32',4,function(e){return function(t,n,o){return e(this,t,n,o)}})},function(e,t,n){n(28)('Float64',8,function(e){return function(t,n,o){return e(this,t,n,o)}})},function(e,t,n){var o=n(0),s=n(11),r=n(2),a=(n(3).Reflect||{}).apply,i=Function.apply;o(o.S+o.F*!n(4)(function(){a(function(){})}),'Reflect',{apply:function(e,t,n){var o=s(e),l=r(n);return a?a(o,t,l):i.call(o,t,l)}})},function(e,t,n){var o=n(0),s=n(37),r=n(11),a=n(2),i=n(5),l=n(4),d=n(118),c=(n(3).Reflect||{}).construct,p=l(function(){function e(){}return!(c(function(){},[],e)instanceof e)}),u=!l(function(){c(function(){})});o(o.S+o.F*(p||u),'Reflect',{construct:function(e,t){r(e),a(t);var n=3>arguments.length?e:r(arguments[2]);if(u&&!p)return c(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);}var o=[null];return o.push.apply(o,t),new(d.apply(e,o))}var l=n.prototype,m=s(i(l)?l:Object.prototype),g=Function.apply.call(e,m,t);return i(g)?g:m}})},function(e,t,n){var o=n(8),s=n(0),r=n(2),a=n(23);s(s.S+s.F*n(4)(function(){Reflect.defineProperty(o.f({},1,{value:1}),1,{value:2})}),'Reflect',{defineProperty:function(e,t,n){r(e),t=a(t,!0),r(n);try{return o.f(e,t,n),!0}catch(t){return!1}}})},function(e,t,n){var o=n(0),s=n(17).f,r=n(2);o(o.S,'Reflect',{deleteProperty:function(e,t){var n=s(r(e),t);return n&&!n.configurable?!1:delete e[t]}})},function(e,t,n){'use strict';var o=n(0),s=n(2),r=function(e){this._t=s(e),this._i=0;var t=this._k=[],n;for(n in e)t.push(n)};n(88)(r,'Object',function(){var e=this,t=e._k,n;do if(e._i>=t.length)return{value:void 0,done:!0};while(!((n=t[e._i++])in e._t));return{value:n,done:!1}}),o(o.S,'Reflect',{enumerate:function(e){return new r(e)}})},function(e,t,n){function o(e,t){var n=3>arguments.length?e:arguments[2],i,c;return d(e)===n?e[t]:(i=s.f(e,t))?a(i,'value')?i.value:void 0===i.get?void 0:i.get.call(n):l(c=r(e))?o(c,t,n):void 0}var s=n(17),r=n(18),a=n(12),i=n(0),l=n(5),d=n(2);i(i.S,'Reflect',{get:o})},function(e,t,n){var o=n(17),s=n(0),r=n(2);s(s.S,'Reflect',{getOwnPropertyDescriptor:function(e,t){return o.f(r(e),t)}})},function(e,t,n){var o=n(0),s=n(18),r=n(2);o(o.S,'Reflect',{getPrototypeOf:function(e){return s(r(e))}})},function(e,t,n){var o=n(0);o(o.S,'Reflect',{has:function(e,t){return t in e}})},function(e,t,n){var o=n(0),s=n(2),r=Object.isExtensible;o(o.S,'Reflect',{isExtensible:function(e){return s(e),!r||r(e)}})},function(e,t,n){var o=n(0);o(o.S,'Reflect',{ownKeys:n(139)})},function(e,t,n){var o=n(0),s=n(2),r=Object.preventExtensions;o(o.S,'Reflect',{preventExtensions:function(e){s(e);try{return r&&r(e),!0}catch(t){return!1}}})},function(e,t,n){function o(e,t,n){var l=4>arguments.length?e:arguments[3],u=r.f(c(e),t),m,g;if(!u){if(p(g=a(e)))return o(g,t,n,l);u=d(0)}return i(u,'value')?!1!==u.writable&&p(l)&&(m=r.f(l,t)||d(0),m.value=n,s.f(l,t,m),!0):void 0!==u.set&&(u.set.call(l,n),!0)}var s=n(8),r=n(17),a=n(18),i=n(12),l=n(0),d=n(32),c=n(2),p=n(5);l(l.S,'Reflect',{set:o})},function(e,t,n){var o=n(0),s=n(80);s&&o(o.S,'Reflect',{setPrototypeOf:function(e,t){s.check(e,t);try{return s.set(e,t),!0}catch(t){return!1}}})},function(e,t,n){'use strict';var o=n(0),s=n(58)(!0);o(o.P,'Array',{includes:function(e){return s(this,e,1<arguments.length?arguments[1]:void 0)}}),n(31)('includes')},function(e,t,n){'use strict';var o=n(0),s=n(140),r=n(10),a=n(9),i=n(11),l=n(94);o(o.P,'Array',{flatMap:function(e){var t=r(this),n,o;return i(e),n=a(t.length),o=l(t,0),s(o,t,t,n,0,1,e,arguments[1]),o}}),n(31)('flatMap')},function(e,t,n){'use strict';var o=n(0),s=n(140),r=n(10),a=n(9),i=n(25),l=n(94);o(o.P,'Array',{flatten:function(){var e=arguments[0],t=r(this),n=a(t.length),o=l(t,0);return s(o,t,t,n,0,void 0===e?1:i(e)),o}}),n(31)('flatten')},function(e,t,n){'use strict';var o=n(0),s=n(86)(!0);o(o.P,'String',{at:function(e){return s(this,e)}})},function(e,t,n){'use strict';var o=n(0),s=n(141);o(o.P,'String',{padStart:function(e){return s(this,e,1<arguments.length?arguments[1]:void 0,!0)}})},function(e,t,n){'use strict';var o=n(0),s=n(141);o(o.P,'String',{padEnd:function(e){return s(this,e,1<arguments.length?arguments[1]:void 0,!1)}})},function(e,t,n){'use strict';n(47)('trimLeft',function(e){return function(){return e(this,1)}},'trimStart')},function(e,t,n){'use strict';n(47)('trimRight',function(e){return function(){return e(this,2)}},'trimEnd')},function(e,t,n){'use strict';var o=n(0),s=n(24),r=n(9),a=n(61),i=n(63),l=RegExp.prototype,d=function(e,t){this._r=e,this._s=t};n(88)(d,'RegExp String',function(){var e=this._r.exec(this._s);return{value:e,done:null===e}}),o(o.P,'String',{matchAll:function(e){if(s(this),!a(e))throw TypeError(e+' is not a regexp!');var t=this+'',n='flags'in l?e.flags+'':i.call(e),o=new RegExp(e.source,~n.indexOf('g')?n:'g'+n);return o.lastIndex=r(e.lastIndex),new d(o,t)}})},function(e,t,n){n(76)('asyncIterator')},function(e,t,n){n(76)('observable')},function(e,t,n){var o=n(0),s=n(139),r=n(16),a=n(17),l=n(92);o(o.S,'Object',{getOwnPropertyDescriptors:function(e){for(var t=r(e),n=a.f,o=s(t),d={},c=0,i,p;o.length>c;)p=n(t,i=o[c++]),void 0!==p&&l(d,i,p);return d}})},function(e,t,n){var o=n(0),s=n(142)(!1);o(o.S,'Object',{values:function(e){return s(e)}})},function(e,t,n){var o=n(0),s=n(142)(!0);o(o.S,'Object',{entries:function(e){return s(e)}})},function(e,t,n){'use strict';var o=n(0),s=n(10),r=n(11),a=n(8);n(7)&&o(o.P+n(68),'Object',{__defineGetter__:function(e,t){a.f(s(this),e,{get:r(t),enumerable:!0,configurable:!0})}})},function(e,t,n){'use strict';var o=n(0),s=n(10),r=n(11),a=n(8);n(7)&&o(o.P+n(68),'Object',{__defineSetter__:function(e,t){a.f(s(this),e,{set:r(t),enumerable:!0,configurable:!0})}})},function(e,t,n){'use strict';var o=n(0),s=n(10),r=n(23),a=n(18),i=n(17).f;n(7)&&o(o.P+n(68),'Object',{__lookupGetter__:function(e){var t=s(this),n=r(e,!0),o;do if(o=i(t,n))return o.get;while(t=a(t))}})},function(e,t,n){'use strict';var o=n(0),s=n(10),r=n(23),a=n(18),i=n(17).f;n(7)&&o(o.P+n(68),'Object',{__lookupSetter__:function(e){var t=s(this),n=r(e,!0),o;do if(o=i(t,n))return o.set;while(t=a(t))}})},function(e,t,n){var o=n(0);o(o.P+o.R,'Map',{toJSON:n(143)('Map')})},function(e,t,n){var o=n(0);o(o.P+o.R,'Set',{toJSON:n(143)('Set')})},function(e,t,n){n(69)('Map')},function(e,t,n){n(69)('Set')},function(e,t,n){n(69)('WeakMap')},function(e,t,n){n(69)('WeakSet')},function(e,t,n){n(70)('Map')},function(e,t,n){n(70)('Set')},function(e,t,n){n(70)('WeakMap')},function(e,t,n){n(70)('WeakSet')},function(e,t,n){var o=n(0);o(o.G,{global:n(3)})},function(e,t,n){var o=n(0);o(o.S,'System',{global:n(3)})},function(e,t,n){var o=n(0),s=n(20);o(o.S,'Error',{isError:function(e){return'Error'===s(e)}})},function(e,t,n){var o=n(0);o(o.S,'Math',{clamp:function(e,t,n){return m(n,d(t,e))}})},function(t,n,o){var s=o(0);s(s.S,'Math',{DEG_PER_RAD:e/180})},function(t,n,o){var s=o(0);s(s.S,'Math',{degrees:function(t){return t*(180/e)}})},function(e,t,n){var o=n(0),s=n(145),r=n(125);o(o.S,'Math',{fscale:function(e,t,n,o,a){return r(s(e,t,n,o,a))}})},function(e,t,n){var o=n(0);o(o.S,'Math',{iaddh:function(e,t,n,o){var s=e>>>0,r=n>>>0;return 0|(t>>>0)+(o>>>0)+((s&r|(s|r)&~(s+r>>>0))>>>31)}})},function(e,t,n){var o=n(0);o(o.S,'Math',{isubh:function(e,t,n,o){var s=e>>>0,r=n>>>0;return 0|(t>>>0)-(o>>>0)-((~s&r|~(s^r)&s-r>>>0)>>>31)}})},function(e,t,n){var o=n(0);o(o.S,'Math',{imulh:function(e,n){var o=65535,s=+e,r=+n,a=s&o,i=r&o,l=s>>16,d=r>>16,c=(l*i>>>0)+(a*i>>>16);return l*d+(c>>16)+((a*d>>>0)+(c&o)>>16)}})},function(t,n,o){var s=o(0);s(s.S,'Math',{RAD_PER_DEG:180/e})},function(t,n,o){var s=o(0);s(s.S,'Math',{radians:function(t){return t*(e/180)}})},function(e,t,n){var o=n(0);o(o.S,'Math',{scale:n(145)})},function(e,t,n){var o=n(0);o(o.S,'Math',{umulh:function(e,n){var o=65535,s=+e,r=+n,a=s&o,i=r&o,l=s>>>16,d=r>>>16,c=(l*i>>>0)+(a*i>>>16);return l*d+(c>>>16)+((a*d>>>0)+(c&o)>>>16)}})},function(e,t,n){var o=n(0);o(o.S,'Math',{signbit:function(e){return(e=+e)==e?0==e?1/e==Infinity:0<e:e}})},function(e,t,n){'use strict';var o=n(0),s=n(22),r=n(3),a=n(65),i=n(132);o(o.P+o.R,'Promise',{finally:function(t){var n=a(this,s.Promise||r.Promise),e='function'==typeof t;return this.then(e?function(e){return i(n,t()).then(function(){return e})}:t,e?function(o){return i(n,t()).then(function(){throw o})}:t)}})},function(e,t,n){'use strict';var o=n(0),s=n(99),r=n(131);o(o.S,'Promise',{try:function(e){var t=s.f(this),n=r(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},function(e,t,n){var o=n(29),s=n(2),r=o.key,a=o.set;o.exp({defineMetadata:function(e,t,n,o){a(e,t,s(n),r(o))}})},function(e,t,n){var o=n(29),s=n(2),r=o.key,a=o.map,i=o.store;o.exp({deleteMetadata:function(e,t){var n=3>arguments.length?void 0:r(arguments[2]),o=a(s(t),n,!1);if(void 0===o||!o['delete'](e))return!1;if(o.size)return!0;var l=i.get(t);return l['delete'](n),!!l.size||i['delete'](t)}})},function(e,t,n){var o=n(29),s=n(2),r=n(18),a=o.has,i=o.get,l=o.key,d=function(e,t,n){var o=a(e,t,n);if(o)return i(e,t,n);var s=r(t);return null===s?void 0:d(e,s,n)};o.exp({getMetadata:function(e,t){return d(e,s(t),3>arguments.length?void 0:l(arguments[2]))}})},function(e,t,n){var o=n(135),s=n(144),r=n(29),a=n(2),i=n(18),l=r.keys,d=r.key,c=function(e,t){var n=l(e,t),r=i(e);if(null===r)return n;var a=c(r,t);return a.length?n.length?s(new o(n.concat(a))):a:n};r.exp({getMetadataKeys:function(e){return c(a(e),2>arguments.length?void 0:d(arguments[1]))}})},function(e,t,n){var o=n(29),s=n(2),r=o.get,a=o.key;o.exp({getOwnMetadata:function(e,t){return r(e,s(t),3>arguments.length?void 0:a(arguments[2]))}})},function(e,t,n){var o=n(29),s=n(2),r=o.keys,a=o.key;o.exp({getOwnMetadataKeys:function(e){return r(s(e),2>arguments.length?void 0:a(arguments[1]))}})},function(e,t,n){var o=n(29),s=n(2),r=n(18),a=o.has,i=o.key,l=function(e,t,n){var o=a(e,t,n);if(o)return!0;var s=r(t);return null!==s&&l(e,s,n)};o.exp({hasMetadata:function(e,t){return l(e,s(t),3>arguments.length?void 0:i(arguments[2]))}})},function(e,t,n){var o=n(29),s=n(2),r=o.has,a=o.key;o.exp({hasOwnMetadata:function(e,t){return r(e,s(t),3>arguments.length?void 0:a(arguments[2]))}})},function(e,t,n){var o=n(29),s=n(2),r=n(11),a=o.key,i=o.set;o.exp({metadata:function(e,t){return function(n,o){i(e,t,(o===void 0?r:s)(n),a(o))}}})},function(e,t,n){var o=n(0),s=n(98)(),r=n(3).process,a='process'==n(20)(r);o(o.G,{asap:function(e){var t=a&&r.domain;s(t?t.bind(e):e)}})},function(e,t,n){'use strict';var o=n(0),s=n(3),r=n(22),a=n(98)(),i=n(6)('observable'),l=n(11),d=n(2),c=n(40),p=n(42),u=n(13),m=n(41),g=m.RETURN,_=function(e){return null==e?void 0:l(e)},y=function(e){var t=e._c;t&&(e._c=void 0,t())},f=function(e){return e._o===void 0},h=function(e){f(e)||(e._o=void 0,y(e))},v=function(t,e){d(t),this._c=void 0,this._o=t,t=new T(this);try{var n=e(t),o=n;null!=n&&('function'==typeof n.unsubscribe?n=function(){o.unsubscribe()}:l(n),this._c=n)}catch(n){return void t.error(n)}f(this)&&y(this)};v.prototype=p({},{unsubscribe:function(){h(this)}});var T=function(e){this._s=e};T.prototype=p({},{next:function(e){var t=this._s;if(!f(t)){var n=t._o;try{var o=_(n.next);if(o)return o.call(n,e)}catch(n){try{h(t)}finally{throw n}}}},error:function(e){var t=this._s;if(f(t))throw e;var n=t._o;t._o=void 0;try{var o=_(n.error);if(!o)throw e;e=o.call(n,e)}catch(n){try{y(t)}finally{throw n}}return y(t),e},complete:function(e){var t=this._s;if(!f(t)){var n=t._o;t._o=void 0;try{var o=_(n.complete);e=o?o.call(n,e):void 0}catch(n){try{y(t)}finally{throw n}}return y(t),e}}});var b=function(e){c(this,b,'Observable','_f')._f=l(e)};p(b.prototype,{subscribe:function(e){return new v(e,this._f)},forEach:function(e){var t=this;return new(r.Promise||s.Promise)(function(n,o){l(e);var s=t.subscribe({next:function(t){try{return e(t)}catch(t){o(t),s.unsubscribe()}},error:o,complete:n})})}}),p(b,{from:function(e){var t='function'==typeof this?this:b,n=_(d(e)[i]);if(n){var o=d(n.call(e));return o.constructor===t?o:new t(function(e){return o.subscribe(e)})}return new t(function(t){var n=!1;return a(function(){if(!n){try{if(m(e,!1,function(e){if(t.next(e),n)return g})===g)return}catch(o){if(n)throw o;return void t.error(o)}t.complete()}}),function(){n=!0}})},of:function(){for(var e=0,t=arguments.length,n=Array(t);e<t;)n[e]=arguments[e++];return new('function'==typeof this?this:b)(function(e){var t=!1;return a(function(){if(!t){for(var o=0;o<n.length;++o)if(e.next(n[o]),t)return;e.complete()}}),function(){t=!0}})}}),u(b.prototype,i,function(){return this}),o(o.G,{Observable:b}),n(39)('Observable')},function(e,t,n){var o=n(3),s=n(0),r=o.navigator,a=[].slice,i=!!r&&/MSIE .\./.test(r.userAgent),l=function(e){return function(t,n){var o=2<arguments.length,s=!!o&&a.call(arguments,2);return e(o?function(){('function'==typeof t?t:Function(t)).apply(this,s)}:t,n)}};s(s.G+s.B+s.F*i,{setTimeout:l(o.setTimeout),setInterval:l(o.setInterval)})},function(e,t,n){var o=n(0),s=n(97);o(o.G+o.B,{setImmediate:s.set,clearImmediate:s.clear})},function(e,t,n){for(var o=n(96),s=n(35),r=n(14),a=n(3),l=n(13),d=n(48),c=n(6),p=c('iterator'),u=c('toStringTag'),m=d.Array,g={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},_=s(g),y=0;y<_.length;y++){var i=_[y],f=g[i],h=a[i],v=h&&h.prototype,T;if(v&&(v[p]||l(v,p,m),v[u]||l(v,u,i),d[i]=m,f))for(T in o)v[T]||r(v,T,o[T],!0)}},function(e,t,n){(function(t){!function(t){'use strict';function n(e,t,n,o){var r=t&&t.prototype instanceof s?t:s,a=Object.create(r.prototype),i=new m(o||[]);return a._invoke=d(e,n,i),a}function o(e,t,n){try{return{type:'normal',arg:e.call(t,n)}}catch(e){return{type:'throw',arg:e}}}function s(){}function r(){}function a(){}function i(e){['next','throw','return'].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function l(e){function n(t,s,r,a){var i=o(e[t],e,s);if('throw'===i.type)a(i.arg);else{var l=i.arg,d=l.value;return d&&'object'==typeof d&&f.call(d,'__await')?Promise.resolve(d.__await).then(function(e){n('next',e,r,a)},function(e){n('throw',e,r,a)}):Promise.resolve(d).then(function(e){l.value=e,r(l)},a)}}'object'==typeof t.process&&t.process.domain&&(n=t.process.domain.bind(n));var s;this._invoke=function(e,t){function o(){return new Promise(function(o,s){n(e,t,o,s)})}return s=s?s.then(o,o):o()}}function d(e,t,n){var s=k;return function(r,a){if(s==E)throw new Error('Generator is already running');if(s==M){if('throw'===r)throw a;return _()}for(n.method=r,n.arg=a;;){var i=n.delegate;if(i){var l=c(i,n);if(l){if(l===O)continue;return l}}if('next'===n.method)n.sent=n._sent=n.arg;else if('throw'===n.method){if(s==k)throw s=M,n.arg;n.dispatchException(n.arg)}else'return'===n.method&&n.abrupt('return',n.arg);s=E;var d=o(e,t,n);if('normal'===d.type){if(s=n.done?M:I,d.arg===O)continue;return{value:d.arg,done:n.done}}'throw'===d.type&&(s=M,n.method='throw',n.arg=d.arg)}}}function c(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,'throw'===t.method){if(e.iterator.return&&(t.method='return',t.arg=void 0,c(e,t),'throw'===t.method))return O;t.method='throw',t.arg=new TypeError('The iterator does not provide a \'throw\' method')}return O}var s=o(n,e.iterator,t.arg);if('throw'===s.type)return t.method='throw',t.arg=s.arg,t.delegate=null,O;var r=s.arg;if(!r)return t.method='throw',t.arg=new TypeError('iterator result is not an object'),t.delegate=null,O;if(r.done)t[e.resultName]=r.value,t.next=e.nextLoc,'return'!==t.method&&(t.method='next',t.arg=void 0);else return r;return t.delegate=null,O}function p(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function u(e){var t=e.completion||{};t.type='normal',delete t.arg,e.completion=t}function m(e){this.tryEntries=[{tryLoc:'root'}],e.forEach(p,this),this.reset(!0)}function g(e){if(e){var t=e[v];if(t)return t.call(e);if('function'==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(f.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:_}}function _(){return{value:void 0,done:!0}}var y=Object.prototype,f=y.hasOwnProperty,h='function'==typeof Symbol?Symbol:{},v=h.iterator||'@@iterator',T=h.asyncIterator||'@@asyncIterator',b=h.toStringTag||'@@toStringTag',x='object'==typeof e,S=t.regeneratorRuntime;if(S)return void(x&&(e.exports=S));S=t.regeneratorRuntime=x?e.exports:{},S.wrap=n;var k='suspendedStart',I='suspendedYield',E='executing',M='completed',O={},A={};A[v]=function(){return this};var P=Object.getPrototypeOf,R=P&&P(P(g([])));R&&R!==y&&f.call(R,v)&&(A=R);var C=a.prototype=s.prototype=Object.create(A);r.prototype=C.constructor=a,a.constructor=r,a[b]=r.displayName='GeneratorFunction',S.isGeneratorFunction=function(e){var t='function'==typeof e&&e.constructor;return!!t&&(t===r||'GeneratorFunction'===(t.displayName||t.name))},S.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,a):(e.__proto__=a,!(b in e)&&(e[b]='GeneratorFunction')),e.prototype=Object.create(C),e},S.awrap=function(e){return{__await:e}},i(l.prototype),l.prototype[T]=function(){return this},S.AsyncIterator=l,S.async=function(e,t,o,s){var r=new l(n(e,t,o,s));return S.isGeneratorFunction(t)?r:r.next().then(function(e){return e.done?e.value:r.next()})},i(C),C[b]='Generator',C[v]=function(){return this},C.toString=function(){return'[object Generator]'},S.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var o=t.pop();if(o in e)return n.value=o,n.done=!1,n}return n.done=!0,n}},S.values=g,m.prototype={constructor:m,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method='next',this.arg=void 0,this.tryEntries.forEach(u),!e)for(var t in this)'t'===t.charAt(0)&&f.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if('throw'===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,o){return r.type='throw',r.arg=e,n.next=t,o&&(n.method='next',n.arg=void 0),!!o}if(this.done)throw e;for(var n=this,o=this.tryEntries.length-1;0<=o;--o){var s=this.tryEntries[o],r=s.completion;if('root'===s.tryLoc)return t('end');if(s.tryLoc<=this.prev){var a=f.call(s,'catchLoc'),i=f.call(s,'finallyLoc');if(a&&i){if(this.prev<s.catchLoc)return t(s.catchLoc,!0);if(this.prev<s.finallyLoc)return t(s.finallyLoc)}else if(a){if(this.prev<s.catchLoc)return t(s.catchLoc,!0);}else if(!i)throw new Error('try statement without catch or finally');else if(this.prev<s.finallyLoc)return t(s.finallyLoc)}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1,o;0<=n;--n)if(o=this.tryEntries[n],o.tryLoc<=this.prev&&f.call(o,'finallyLoc')&&this.prev<o.finallyLoc){var s=o;break}s&&('break'===e||'continue'===e)&&s.tryLoc<=t&&t<=s.finallyLoc&&(s=null);var r=s?s.completion:{};return r.type=e,r.arg=t,s?(this.method='next',this.next=s.finallyLoc,O):this.complete(r)},complete:function(e,t){if('throw'===e.type)throw e.arg;return'break'===e.type||'continue'===e.type?this.next=e.arg:'return'===e.type?(this.rval=this.arg=e.arg,this.method='return',this.next='end'):'normal'===e.type&&t&&(this.next=t),O},finish:function(e){for(var t=this.tryEntries.length-1,n;0<=t;--t)if(n=this.tryEntries[t],n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),u(n),O},catch:function(e){for(var t=this.tryEntries.length-1,n;0<=t;--t)if(n=this.tryEntries[t],n.tryLoc===e){var o=n.completion;if('throw'===o.type){var s=o.arg;u(n)}return s}throw new Error('illegal catch attempt')},delegateYield:function(e,t,n){return this.delegate={iterator:g(e),resultName:t,nextLoc:n},'next'===this.method&&(this.arg=void 0),O}}}('object'==typeof t?t:'object'==typeof window?window:'object'==typeof self?self:this)}).call(t,n(111))},function(e,t,n){n(389),e.exports=n(22).RegExp.escape},function(e,t,n){var o=n(0),s=n(390)(/[\\^$*+?.()|[\]{}]/g,'\\$&');o(o.S,'RegExp',{escape:function(e){return s(e)}})},function(e){e.exports=function(e,t){var n=t===Object(t)?function(e){return t[e]}:t;return function(t){return(t+'').replace(e,n)}}},function(e,t,n){'use strict';function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function o(s,r){try{var a=t[s](r),i=a.value}catch(e){return void n(e)}return a.done?void e(i):Promise.resolve(i).then(function(e){o('next',e)},function(e){o('throw',e)})}return o('next')})}}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function i(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=function(){function e(e,t){for(var n=0,o;n<t.length;n++)o=t[n],o.enumerable=o.enumerable||!1,o.configurable=!0,'value'in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),p=n(146),u=o(p),m=n(397),g=n(148),_=o(g),y=n(152),f=o(y),h=n(155),v=o(h),T=n(497),b=o(T),x=n(498),S=o(x),k=n(499),I=o(k),E=n(500),M=o(E),O=n(501),A=o(O),P=n(502),R=o(P),C=n(504),D=o(C),N=n(187),L=n(505),w=o(L),F=function(e){function t(){a(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.rooms=[],e.selected=null,e.room_name_id_map={},e.pendingCommentId=0,e.uploadedFiles=[],e.chatmateStatus=null,e.version='WEB_'+w.default.version,e.userData={},e.AppId=null,e.baseURL='https://api.qiscus.com',e.mqttURL='wss://mqtt.qisc.us:1900/mqtt',e.HTTPAdapter=null,e.realtimeAdapter=null,e.isInit=!1,e.isSynced=!1,e.sync='socket',e.httpsync=null,e.eventsync=null,e.extras=null,e.last_received_comment_id=0,e.options={avatar:!0},e.UI={},e.mode='widget',e.avatar=!0,e.plugins=[],e.isLogin=!1,e.isLoading=!1,e.isInit=!1,e.emoji=!1,e.isTypingStatus='',e.customTemplate=!1,e.templateFunction=null,e.debugMode=!1,e.debugMQTTMode=!1,e.lastReceiveMessages=[],e}return l(t,e),d(t,[{key:'init',value:function(e){if(!e.AppId)throw new Error('Please provide valid AppId');this.AppId=e.AppId,e.baseURL&&(this.baseURL=e.baseURL),e.mqttURL&&(this.mqttURL=e.mqttURL),e.sync&&(this.sync=e.sync),e.mode&&(this.mode=e.mode),e.allowedFileTypes&&(this.allowedFileTypes=e.allowedFileTypes),e.options&&(this.options=Object.assign({},this.options,e.options)),e.customTemplate&&(this.customTemplate=e.customTemplate),e.templateFunction&&(this.templateFunction=e.templateFunction),this.setEventListeners()}},{key:'readComment',value:function(e,t){var n=this,o=n.selected||n.selected.id!==e,s=n.selected.isChannel;return!o||s?!1:void n.userAdapter.updateCommentStatus(e,t,null).then(function(){n.sortComments()})}},{key:'receiveComment',value:function(e,t){var n=this,o=null!=n.selected,s=!!n.selected&&n.selected.isChannel;return!o||s?!1:void n.userAdapter.updateCommentStatus(e,null,t).then(function(){n.sortComments()})}},{key:'setEventListeners',value:function(){var e=this,t=this;t.on('start-init',function(){t.HTTPAdapter=new S.default({baseURL:t.baseURL,AppId:t.AppId,userId:t.user_id,version:t.version}),t.HTTPAdapter.setToken(t.userData.token),t.authAdapter=new I.default(t.HTTPAdapter)}),t.on('room-changed',function(e){this.logging('room changed',e),t.options.roomChangedCallback&&t.options.roomChangedCallback(e)}),t.on('file-uploaded',function(e){t.options.fileUploadedCallback&&t.options.fileUploadedCallback(e)}),t.on('newmessages',function(e){var n=this;return this.logging('newmessages',e),0<this.lastReceiveMessages.length&&this.lastReceiveMessages[0].unique_temp_id==e[0].unique_temp_id?void this.logging('lastReceiveMessages double',e):void(this.lastReceiveMessages=e,t._callNewMessagesCallback(e),e.map(function(e){var o=t.rooms.find(function(t){return t.id==e.room_id}),s=!!(e.id<=t.last_received_comment_id);if(!o)return s||(t.user_id!=e.email&&t.receiveComment(e.room_id,e.id),t.updateLastReceivedComment(e.id)),!1;var r=0<o.comments.length?o.comments[o.comments.length-1].id:t.last_received_comment_id,a=o.comments.find(function(t){return t.id==e.comment_before_id});a||e.room_id!=t.selected.id||(n.logging('comment before id not found! ',e.comment_before_id),n.chatGroup(e.room_id));var i=o.comments.find(function(t){return t.id==e.id}),l=new v.default(e),d=!!t.selected&&o.isCurrentlySelected(t.selected);o.receiveComment(l),o.last_comment_id=l.id,o.last_comment_message=l.message,s||t.user_id==e.email||t.receiveComment(e.room_id,e.id),t.updateLastReceivedComment(e.id),n.sortComments()}))}),t.on('login-success',function(n){e.logging('login-success',n);var o=t.mqttURL;t.isLogin=!0,t.userData=n.user,t.last_received_comment_id=t.userData.last_comment_id,t.HTTPAdapter=new S.default({baseURL:t.baseURL,AppId:t.AppId,userId:t.user_id,version:t.version}),t.HTTPAdapter.setToken(t.userData.token),t.userAdapter=new M.default(t.HTTPAdapter),t.roomAdapter=new A.default(t.HTTPAdapter),t.realtimeAdapter=new R.default(o,D.default,t),window.setInterval(function(){return e.realtimeAdapter.publishPresence(e.user_id)},3500),('http'==t.sync||'both'==t.sync)&&t.activateSync(),t.options.loginSuccessCallback&&t.options.loginSuccessCallback(n)}),t.on('login-error',function(e){t.options.loginErrorCallback&&t.options.loginErrorCallback(e)}),t.on('room-cleared',function(e){var n=t.rooms.find(function(t){return t.unique_id==e.unique_id});n&&(n.comments.length=0,n.id==t.selected.id&&(t.selected=null,t.selected=n)),t.options.roomClearedCallback&&t.options.roomClearedCallback(e)}),t.on('comment-deleted',function(e){var n=e.roomId,o=e.commentUniqueIds,s=e.isForEveryone,r=e.isHard,a=t.rooms.find(function(e){return e.id==n});a&&o.map(function(e){var t=a.comments.findIndex(function(t){return t.unique_id==e});-1<t&&(r?a.comments.splice(t,1):a.comments[t].message='this message has been deleted')}),t.options.commentDeletedCallback&&t.options.commentDeletedCallback(e)}),t.on('comment-delivered',function(e){t.options.commentDeliveredCallback&&t.options.commentDeliveredCallback(e)}),t.on('chat-room-created',function(e){t.isLoading=!1,t.options.chatRoomCreatedCallback&&t.options.chatRoomCreatedCallback(e)}),t.on('group-room-created',function(e){t.isLoading=!1,t.options.groupRoomCreatedCallback&&t.options.groupRoomCreatedCallback(e)}),t.on('header-clicked',function(e){t.options.headerClickedCallback&&t.options.headerClickedCallback(e)}),t.on('comment-read',function(e){t.options.commentReadCallback&&t.options.commentReadCallback(e)}),t.on('presence',function(e){var n=e.split(':');t.chatmateStatus!=n[0]&&(t.chatmateStatus=1==n[0]?'Online':'Last seen '+(0,f.default)(+n[1].substring(0,13))),t.options.presenceCallback&&t.options.presenceCallback(e)}),t.on('typing',function(e){t.options.typingCallback&&t.options.typingCallback(e)}),t.on('message-info',function(e){t.options.messageInfoCallback&&t.options.messageInfoCallback(e)}),t.on('participants-added',function(e){var t=this;if(e){var n=t.selected.participants.concat(e);t.selected.participants=n}}),t.on('participants-removed',function(e){if(e){var t=this.selected.participants.filter(function(t){return-1>=e.indexOf(t.email)});this.selected.participants=t}})}},{key:'_callNewMessagesCallback',value:function(e){this.options.newMessagesCallback&&this.options.newMessagesCallback(e)}},{key:'updateLastReceivedComment',value:function(e){this.last_received_comment_id<e&&(this.last_received_comment_id=e)}},{key:'setUser',value:function(e,t,n,o){var s=this;s.emit('start-init'),s.user_id=e,s.key=t,s.username=n,s.avatar_url=o;var r={email:this.user_id,password:this.key,username:this.username};return this.avatar_url&&(r.avatar_url=this.avatar_url),s.authAdapter.loginOrRegister(r).then(function(e){s.isInit=!0,s.emit('login-success',e)},function(e){return s.emit('login-error',e)})}},{key:'setUserWithIdentityToken',value:function(e){return!e||!1 in e?this.emit('login-error',e):void(this.email=e.user.email,this.user_id=e.user.email,this.key=e.identity_token,this.username=e.user.username,this.avatar_url=e.user.avatar_url,this.isInit=!0,this.emit('login-success',e))}},{key:'logout',value:function(){this.selected=null,this.isInit=!1,this.isLogin=!1,this.userData=null}},{key:'activateSync',value:function(){var e=this;return!e.isSynced&&void(e.isSynced=!0,e.httpsync=window.setInterval(function(){return e.synchronize()},3500),e.eventsync=window.setInterval(function(){return e.synchronizeEvent()},3500))}},{key:'disableSync',value:function(){var e=this;e.isSynced=!1,window.clearInterval(e.httpsync),window.clearInterval(e.eventsync)}},{key:'synchronize',value:function(e){var t=this,n=e||this.last_received_comment_id;this.userAdapter.sync(n).then(function(e){0<e.length&&t.emit('newmessages',e)})}},{key:'synchronizeEvent',value:function(e){var t=this,n=e||this.last_received_comment_id;this.userAdapter.syncEvent(n).then(function(e){e.events.map(function(n){'deleted_messages'in n.payload.data?n.payload.data.deleted_messages.map(function(e){t.emit('comment-deleted',{roomId:e.room_id,commentUniqueIds:e.message_unique_ids,isForEveryone:!0,isHard:n.payload.data.is_hard_delete})}):'deleted_rooms'in n.payload.data&&n.payload.data.deleted_rooms.forEach(function(e){t.emit('room-cleared',e)})})})}},{key:'disconnect',value:function(){this.isInit=!1,this.userData={},this.selected=null}},{key:'setActiveRoom',value:function(e){var t=this;if(this.selected&&(this.realtimeAdapter.unsubscribeTyping(),'single'==this.selected.room_type)){var n=this.selected.participants.filter(function(e){return e.email!=t.user_id});0<n.length&&this.realtimeAdapter.unsubscribeRoomPresence(n[0].email)}null==e.participants&&(e.participants=[]);var o=e.participants.filter(function(e){return e.email!=t.user_id});this.chatmateStatus=null,this.isTypingStatus=null,this.selected=e,window.setTimeout(function(){console.info('mqtt connected:',t.realtimeAdapter.mqtt.isConnected()),'single'===e.room_type&&0<o.length&&t.realtimeAdapter.subscribeRoomPresence(o[0].email),t.selected.isChannel||(t.realtimeAdapter.subscribeTyping(e.id),t.emit('room-changed',t.selected))},3e3)}},{key:'chatTarget',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(null!=this.userData.length)return!1;var n=this,o=t?t.message:null,s=t.distinctId;n.isLoading=!0,n.isTypingStatus='';var a=n.room_name_id_map[e]||null,r=n.rooms.find(function(e){return e.id==a});if(r){r.last_comment_id=0>=r.comments.length?null:r.comments[r.comments.length-1].id,n.setActiveRoom(r),n.last_received_comment_id=n.last_received_comment_id<r.last_comment_id?r.last_comment_id:n.last_received_comment_id,n.isLoading=!1,n.emit('chat-room-created',{room:r});var i=r.comments[r.comments.length-1];return i&&n.readComment(r.id,i.id),this.roomAdapter.getOrCreateRoom(e,t,s).then(function(e){var t=new b.default(e);return r.comments=t.comments,r.participants=t.participants,r.options=t.options,Promise.resolve(r)},function(e){return console.error('Error when creating room',e),n.isLoading=!1,Promise.reject(e)})}return this.roomAdapter.getOrCreateRoom(e,t,s).then(function(t){r=new b.default(t),n.room_name_id_map[e]=r.id,n.last_received_comment_id=n.last_received_comment_id<r.last_comment_id?r.last_comment_id:n.last_received_comment_id,n.rooms.push(r),n.isLoading=!1,n.setActiveRoom(r);var s=r.comments[r.comments.length-1];if(s&&n.readComment(r.id,s.id),n.emit('chat-room-created',{room:r}),!o)return r;var a=r.id;return n.sendComment(a,o).then().catch(function(e){console.error('Error when submit comment',e)}),Promise.resolve(r)},function(e){return console.error('Error when creating room',e),n.isLoading=!1,Promise.reject(e)})}},{key:'chatGroup',value:function(e){var t=this;return t.isInit?t.getRoomById(e).then(function(e){return Promise.resolve(e)},function(e){return Promise.reject(e)}):void 0}},{key:'getRoomById',value:function(e){var t=this;return t.isLoading=!0,t.isTypingStatus='',t.roomAdapter.getRoomById(e).then(function(n){var o=t.rooms.find(function(t){return t.id==e}),s=n.results.room,r;s.name=s.room_name,s.comments=n.results.comments.reverse(),r=new b.default(s),o?(0<o.comments.length&&(o.last_comment_id=o.comments[o.comments.length-1].id),o.comments=r.comments,r=o):(t.room_name_id_map[r.name]=r.id,t.rooms.push(r)),t.last_received_comment_id=t.last_received_comment_id<r.last_comment_id?r.last_comment_id:t.last_received_comment_id;var a=r||roomFind;t.setActiveRoom(a),t.isLoading=!1;var i=r.comments[r.comments.length-1];return i&&t.readComment(r.id,i.id),Promise.resolve(r)},function(e){return console.error('Error getting room by id',e),Promise.reject(e)})}},{key:'getOrCreateRoomByUniqueId',value:function(e,t,n){var o=this,s=this;return s.isLoading=!0,s.isTypingStatus='',s.roomAdapter.getOrCreateRoomByUniqueId(e,t,n).then(function(e){var t=s.rooms.find(function(){id:;}),n;t?n=t:(n=new b.default(e),s.room_name_id_map[n.name]=n.id,s.rooms.push(n)),s.last_received_comment_id=s.last_received_comment_id<n.last_comment_id?n.last_comment_id:s.last_received_comment_id,s.setActiveRoom(n),s.isLoading=!1;var r=n.comments[n.comments.length-1];return r&&s.readComment(n.id,r.id),o.realtimeAdapter.subscribeChannel(o.AppId,n.unique_id),Promise.resolve(n)},function(e){return Promise.reject(e)})}},{key:'getOrCreateRoomByChannel',value:function(e,t,n){return this.getOrCreateRoomByUniqueId(e,t,n)}},{key:'sortComments',value:function(){this.selected&&this.selected.comments.sort(function(e,t){return e.unix_timestamp-t.unix_timestamp})}},{key:'loadRoomList',value:function(){var e=r(regeneratorRuntime.mark(function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.userAdapter.loadRoomList(t);case 2:return n=e.sent,e.abrupt('return',n.map(function(e){return e.last_comment_id=e.last_comment.id,e.last_comment_message=e.last_comment.message,e.last_comment_message_created_at=e.last_comment.timestamp,e.room_type=e.chat_type,e.comments=[],new b.default(e)}));case 4:case'end':return e.stop();}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:'loadComments',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=this;return n.userAdapter.loadComments(e,t).then(function(e){return n.selected.receiveComments(e.reverse()),n.sortComments(),new Promise(function(t){return t(e)})},function(e){return console.error('Error loading comments',e),new Promise(function(t){return t(e)})})}},{key:'loadMore',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return t.last_comment_id=e,t.after=!1,this.loadComments(this.selected.id,t)}},{key:'searchMessages',value:function(){var e=r(regeneratorRuntime.mark(function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.userAdapter.searchMessages(t);case 2:return n=e.sent,e.abrupt('return',n.map(function(e){return new v.default(e)}));case 4:case'end':return e.stop();}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:'getNonce',value:function(){return u.default.post(this.baseURL+'/api/v2/sdk/auth/nonce').send().set('qiscus_sdk_app_id',''+this.AppId).set('qiscus_sdk_version',''+this.version).then(function(e){return Promise.resolve(e.body.results)},function(e){return Promise.reject(e)})}},{key:'verifyIdentityToken',value:function(e){return u.default.post(this.baseURL+'/api/v2/sdk/auth/verify_identity_token').send({identity_token:e}).set('qiscus_sdk_app_id',''+this.AppId).set('qiscus_sdk_version',''+this.version).then(function(e){return Promise.resolve(e.body.results)},function(e){return Promise.reject(e)})}},{key:'sendComment',value:function(e,t,n){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:'text',s=this,r=arguments[4],a=arguments[5],i=this;i.options.prePostCommentCallback&&i.options.prePostCommentCallback(t),i.pendingCommentId--;var l=new Date,d={message:t,username_as:this.username,username_real:this.user_id,user_avatar_url:this.userData.avatar_url,id:parseInt(1e8*Math.random()),type:o||'text',timestamp:(0,_.default)(new Date),unique_id:n};'text'!=o&&(d.payload=JSON.parse(r));var c=i.prepareCommentToBeSubmitted(d);if('reply'==o){var p=JSON.parse(r),u=i.selected.comments.find(function(e){return e.id==p.replied_comment_id});p.replied_comment_message='reply'==u.type?u.payload.text:u.message,p.replied_comment_sender_username=u.username_as,c.payload=p}i.selected.comments.push(c);var m=a||i.extras;return this.userAdapter.postComment(e,t,c.unique_id,o,r,m).then(function(e){c.markAsSent(),c.id=e.id,c.before_id=e.comment_before_id,c.unix_timestamp=e.unix_timestamp,i.sortComments();var t=i.selected.comments.find(function(t){return t.id==e.comment_before_id});return t||e.room_id!=i.selected.id||(s.logging('comment before id not found! ',e.comment_before_id),s.chatGroup(e.room_id)),new Promise(function(t){return t(e)})},function(e){return c.markAsFailed(),new Promise(function(t,n){return n(e)})})}},{key:'resendComment',value:function(e){var t=this,n=t.selected,o=new Date,s={message:e.message,username_as:t.username,username_real:t.email,user_avatar:t.avatar_url,id:e.id,unique_id:e.unique_id},r=n.comments.find(function(t){return t.id==e.id}),a=t.extras;return this.userAdapter.postComment(n.id,r.message,r.unique_id,e.type,e.payload,a).then(function(e){return r.markAsSent(),r.id=e.id,r.before_id=e.comment_before_id,new Promise(function(e){return e(t.selected)})},function(e){return r.markAsFailed(),new Promise(function(t,n){return n(e)})})}},{key:'prepareCommentToBeSubmitted',value:function(e){var t,n;return t=new v.default(e),n='bq'+Date.now(),e.unique_id&&(n=e.unique_id),t.attachUniqueId(n),t.markAsPending(),t.isDelivered=!1,t.isSent=!1,t.isRead=!1,t.unix_timestamp=c(new Date().getTime()/1e3),t}},{key:'updateRoom',value:function(e){return this.roomAdapter.updateRoom(e)}},{key:'removeSelectedRoomParticipants',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'id';if(!e)return Promise.reject({message:'Please gives an array values.'});var n=this.selected.participants;if(!n)return Promise.reject({message:'Nothing selected room chat.'});var o=n;return'id'===t&&(o=n.filter(function(t){return-1>=e.indexOf(t.id)})),'email'===t&&(o=n.filter(function(t){return-1>=e.indexOf(t.email)})),'username'===t&&(o=n.filter(function(t){return-1>=e.indexOf(t.username)})),this.selected.participants=o,Promise.resolve(n)}},{key:'createGroupRoom',value:function(e,t,n){var o=this;if(!this.isLogin)throw new Error('Please initiate qiscus SDK first');return new N.GroupChatBuilder(this.roomAdapter).withName(e).withOptions(n).addParticipants(t).create().then(function(e){return o.emit('group-room-created',e),Promise.resolve(e)})}},{key:'addParticipantsToGroup',value:function(e,t){var n=this;if(!Array.isArray(t))throw new Error('emails\' must be type of Array');return n.roomAdapter.addParticipantsToGroup(e,t).then(function(e){return n.emit('participants-added',e),Promise.resolve(e)},function(e){return Promise.reject(e)})}},{key:'removeParticipantsFromGroup',value:function(e,t){var n=this;if(!Array.isArray(t))throw new Error('emails\' must be type of Array');return n.roomAdapter.removeParticipantsFromGroup(e,t).then(function(e){return n.emit('participants-removed',t),Promise.resolve(e)},function(e){return Promise.reject(e)})}},{key:'uploadFile',value:function(e,t){var n=this,o=new FormData;o.append('file',t),o.append('token',n.userData.token);var s=new XMLHttpRequest;s.open('POST',n.baseURL+'/api/v2/sdk/upload',!0),s.setRequestHeader('qiscus_sdk_app_id',''+n.AppId),s.setRequestHeader('qiscus_sdk_user_id',''+n.user_id),s.setRequestHeader('qiscus_sdk_token',''+n.userData.token),s.onload=function(){if(200===s.status){var t=JSON.parse(s.response).results.file.url;return n.emit('fileupload',t),n.sendComment(e,'[file] '+t+' [/file]')}return Promise.reject(s)},s.send(o)}},{key:'addUploadedFile',value:function(e,t){this.uploadedFiles.push(new U(e,t))}},{key:'removeUploadedFile',value:function(e,t){var n=this.uploadedFiles.findIndex(function(n){return n.name===e&&n.roomId===t});this.uploadedFiles.splice(n,1)}},{key:'publishTyping',value:function(e){this.realtimeAdapter.publishTyping(e)}},{key:'getRoomsInfo',value:function(e){return this.userAdapter.getRoomsInfo(e)}},{key:'deleteComment',value:function(e,t,n,o){var s=this;if(!Array.isArray(t))throw new Error('unique ids\' must be type of Array');return this.userAdapter.deleteComment(e,t,n,o).then(function(r){return s.emit('comment-deleted',{roomId:e,commentUniqueIds:t,isForEveryone:n,isHard:o}),Promise.resolve(r)},function(e){return Promise.reject(e)})}},{key:'clearRoomsCache',value:function(){var e=this;if(this.selected){this.room_name_id_map=s({},this.selected.name,this.selected.id);var t=this.rooms.length,n=this.rooms.findIndex(function(t){return t.id==e.selected.id});n+1==t||this.rooms.splice(n+1,t-(n+1)),n=this.rooms.findIndex(function(t){return t.id==e.selected.id}),0<n&&1<this.rooms.length&&this.rooms.splice(1,this.rooms.length-1)}}},{key:'exitChatRoom',value:function(){this.realtimeAdapter.unsubscribeTyping(),this.realtimeAdapter.unsubscribeRoomPresence(),this.selected=null}},{key:'clearRoomMessages',value:function(e){if(!Array.isArray(e))throw new Error('room_ids must be type of array');return this.userAdapter.clearRoomMessages(e)}},{key:'logging',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.debugMode&&console.log(e,t)}},{key:'getTotalUnreadCount',value:function(){return this.roomAdapter.getTotalUnreadCount().then(function(e){return Promise.resolve(e)},function(e){return Promise.reject(e)})}}]),t}(m.EventEmitter),U=function e(t,n){a(this,e),this.name=t,this.roomId=n,this.progress=0};e.exports=F},function(e){function t(e){if(e)return n(e)}function n(e){for(var n in t.prototype)e[n]=t.prototype[n];return e}e.exports=t;t.prototype.on=t.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks['$'+e]=this._callbacks['$'+e]||[]).push(t),this},t.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks['$'+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks['$'+e],this;for(var o=0,s;o<n.length;o++)if(s=n[o],s===t||s.fn===t){n.splice(o,1);break}return this},t.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks['$'+e];if(n){n=n.slice(0);for(var o=0,s=n.length;o<s;++o)n[o].apply(this,t)}return this},t.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks['$'+e]||[]},t.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,n){function o(e){if(e)return s(e)}function s(e){for(var t in o.prototype)e[t]=o.prototype[t];return e}var r=n(147);e.exports=o,o.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,this},o.prototype.parse=function(e){return this._parser=e,this},o.prototype.responseType=function(e){return this._responseType=e,this},o.prototype.serialize=function(e){return this._serializer=e,this},o.prototype.timeout=function(e){if(!e||'object'!=typeof e)return this._timeout=e,this._responseTimeout=0,this;for(var t in e)'deadline'===t?this._timeout=e.deadline:'response'===t?this._responseTimeout=e.response:console.warn('Unknown timeout option',t);return this},o.prototype.retry=function(e){return(0===arguments.length||!0===e)&&(e=1),0>=e&&(e=0),this._maxRetries=e,this._retries=0,this},o.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this._end()},o.prototype.then=function(e,t){if(!this._fullfilledPromise){var n=this;this._endCalled&&console.warn('Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises'),this._fullfilledPromise=new Promise(function(e,t){n.end(function(n,o){n?t(n):e(o)})})}return this._fullfilledPromise.then(e,t)},o.prototype.catch=function(e){return this.then(void 0,e)},o.prototype.use=function(e){return e(this),this},o.prototype.ok=function(e){if('function'!=typeof e)throw Error('Callback required');return this._okCallback=e,this},o.prototype._isResponseOK=function(e){return!!e&&(this._okCallback?this._okCallback(e):200<=e.status&&300>e.status)},o.prototype.get=function(e){return this._header[e.toLowerCase()]},o.prototype.getHeader=o.prototype.get,o.prototype.set=function(e,t){if(r(e)){for(var n in e)this.set(n,e[n]);return this}return this._header[e.toLowerCase()]=t,this.header[e]=t,this},o.prototype.unset=function(e){return delete this._header[e.toLowerCase()],delete this.header[e],this},o.prototype.field=function(e,t){if(null===e||void 0===e)throw new Error('.field(name, val) name can not be empty');if(this._data&&console.error('.field() can\'t be used if .send() is used. Please use only .send() or only .field() & .attach()'),r(e)){for(var n in e)this.field(n,e[n]);return this}if(Array.isArray(t)){for(var o in t)this.field(e,t[o]);return this}if(null===t||void 0===t)throw new Error('.field(name, val) val can not be empty');return'boolean'==typeof t&&(t=''+t),this._getFormData().append(e,t),this},o.prototype.abort=function(){return this._aborted?this:(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit('abort'),this)},o.prototype.withCredentials=function(e){return void 0==e&&(e=!0),this._withCredentials=e,this},o.prototype.redirects=function(e){return this._maxRedirects=e,this},o.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},o.prototype.send=function(e){var t=r(e),n=this._header['content-type'];if(this._formData&&console.error('.send() can\'t be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()'),t&&!this._data)Array.isArray(e)?this._data=[]:!this._isHost(e)&&(this._data={});else if(e&&this._data&&this._isHost(this._data))throw Error('Can\'t merge these send calls');if(t&&r(this._data))for(var o in e)this._data[o]=e[o];else'string'==typeof e?(n||this.type('form'),n=this._header['content-type'],this._data='application/x-www-form-urlencoded'==n?this._data?this._data+'&'+e:e:(this._data||'')+e):this._data=e;return!t||this._isHost(e)?this:(n||this.type('json'),this)},o.prototype.sortQuery=function(e){return this._sort='undefined'==typeof e||e,this},o.prototype._finalizeQueryString=function(){var e=this._query.join('&');if(e&&(this.url+=(0<=this.url.indexOf('?')?'&':'?')+e),this._query.length=0,this._sort){var t=this.url.indexOf('?');if(0<=t){var n=this.url.substring(t+1).split('&');'function'==typeof this._sort?n.sort(this._sort):n.sort(),this.url=this.url.substring(0,t)+'?'+n.join('&')}}},o.prototype._appendQueryString=function(){console.trace('Unsupported')},o.prototype._timeoutError=function(e,t,n){if(!this._aborted){var o=new Error(e+t+'ms exceeded');o.timeout=t,o.code='ECONNABORTED',o.errno=n,this.timedout=!0,this.abort(),this.callback(o)}},o.prototype._setTimeouts=function(){var e=this;this._timeout&&!this._timer&&(this._timer=setTimeout(function(){e._timeoutError('Timeout of ',e._timeout,'ETIME')},this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout(function(){e._timeoutError('Response timeout of ',e._responseTimeout,'ETIMEDOUT')},this._responseTimeout))}},function(e,t,n){function o(e){if(e)return s(e)}function s(e){for(var t in o.prototype)e[t]=o.prototype[t];return e}var r=n(395);e.exports=o,o.prototype.get=function(e){return this.header[e.toLowerCase()]},o.prototype._setHeaderProperties=function(e){var t=e['content-type']||'';this.type=r.type(t);var n=r.params(t);for(var o in n)this[o]=n[o];this.links={};try{e.link&&(this.links=r.parseLinks(e.link))}catch(e){}},o.prototype._setStatusProperties=function(e){var t=0|e/100;this.status=this.statusCode=e,this.statusType=t,this.info=1==t,this.ok=2==t,this.redirect=3==t,this.clientError=4==t,this.serverError=5==t,this.error=(4==t||5==t)&&this.toError(),this.accepted=202==e,this.noContent=204==e,this.badRequest=400==e,this.unauthorized=401==e,this.notAcceptable=406==e,this.forbidden=403==e,this.notFound=404==e}},function(e,t){t.type=function(e){return e.split(/ *; */).shift()},t.params=function(e){return e.split(/ *; */).reduce(function(e,t){var n=t.split(/ *= */),o=n.shift(),s=n.shift();return o&&s&&(e[o]=s),e},{})},t.parseLinks=function(e){return e.split(/ *, */).reduce(function(e,t){var n=t.split(/ *; */),o=n[0].slice(1,-1),s=n[1].split(/ *= */)[1].slice(1,-1);return e[s]=o,e},{})},t.cleanHeader=function(e,t){return delete e['content-type'],delete e['content-length'],delete e['transfer-encoding'],delete e.host,t&&delete e.cookie,e}},function(e){var t=['ECONNRESET','ETIMEDOUT','EADDRINFO','ESOCKETTIMEDOUT'];e.exports=function(e,n){return e&&e.code&&~t.indexOf(e.code)||n&&n.status&&500<=n.status||e&&'timeout'in e&&'ECONNABORTED'==e.code||e&&'crossDomain'in e}},function(e){function t(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(e){return'function'==typeof e}function o(e){return'number'==typeof e}function s(e){return'object'==typeof e&&null!==e}function r(e){return void 0===e}e.exports=t,t.EventEmitter=t,t.prototype._events=void 0,t.prototype._maxListeners=void 0,t.defaultMaxListeners=10,t.prototype.setMaxListeners=function(e){if(!o(e)||0>e||isNaN(e))throw TypeError('n must be a positive number');return this._maxListeners=e,this},t.prototype.emit=function(e){var t,o,a,l,d,i;if(this._events||(this._events={}),'error'===e&&(!this._events.error||s(this._events.error)&&!this._events.error.length))if(t=arguments[1],t instanceof Error)throw t;else{var c=new Error('Uncaught, unspecified "error" event. ('+t+')');throw c.context=t,c}if(o=this._events[e],r(o))return!1;if(n(o))switch(arguments.length){case 1:o.call(this);break;case 2:o.call(this,arguments[1]);break;case 3:o.call(this,arguments[1],arguments[2]);break;default:l=Array.prototype.slice.call(arguments,1),o.apply(this,l);}else if(s(o))for(l=Array.prototype.slice.call(arguments,1),i=o.slice(),a=i.length,d=0;d<a;d++)i[d].apply(this,l);return!0},t.prototype.addListener=function(e,o){var a;if(!n(o))throw TypeError('listener must be a function');return this._events||(this._events={}),this._events.newListener&&this.emit('newListener',e,n(o.listener)?o.listener:o),this._events[e]?s(this._events[e])?this._events[e].push(o):this._events[e]=[this._events[e],o]:this._events[e]=o,s(this._events[e])&&!this._events[e].warned&&(a=r(this._maxListeners)?t.defaultMaxListeners:this._maxListeners,a&&0<a&&this._events[e].length>a&&(this._events[e].warned=!0,console.error('(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.',this._events[e].length),'function'==typeof console.trace&&console.trace())),this},t.prototype.on=t.prototype.addListener,t.prototype.once=function(e,t){function o(){this.removeListener(e,o),s||(s=!0,t.apply(this,arguments))}if(!n(t))throw TypeError('listener must be a function');var s=!1;return o.listener=t,this.on(e,o),this},t.prototype.removeListener=function(e,t){var o,r,a,l;if(!n(t))throw TypeError('listener must be a function');if(!this._events||!this._events[e])return this;if(o=this._events[e],a=o.length,r=-1,o===t||n(o.listener)&&o.listener===t)delete this._events[e],this._events.removeListener&&this.emit('removeListener',e,t);else if(s(o)){for(l=a;0<l--;)if(o[l]===t||o[l].listener&&o[l].listener===t){r=l;break}if(0>r)return this;1===o.length?(o.length=0,delete this._events[e]):o.splice(r,1),this._events.removeListener&&this.emit('removeListener',e,t)}return this},t.prototype.removeAllListeners=function(e){var t,o;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)'removeListener'!==t&&this.removeAllListeners(t);return this.removeAllListeners('removeListener'),this._events={},this}if(o=this._events[e],n(o))this.removeListener(e,o);else if(o)for(;o.length;)this.removeListener(e,o[o.length-1]);return delete this._events[e],this},t.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?n(this._events[e])?[this._events[e]]:this._events[e].slice():[],t},t.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(n(t))return 1;if(t)return t.length}return 0},t.listenerCount=function(e,t){return e.listenerCount(t)}},function(e){e.exports=function(){var e={lessThanXSeconds:{one:'less than a second',other:'less than {{count}} seconds'},xSeconds:{one:'1 second',other:'{{count}} seconds'},halfAMinute:'half a minute',lessThanXMinutes:{one:'less than a minute',other:'less than {{count}} minutes'},xMinutes:{one:'1 minute',other:'{{count}} minutes'},aboutXHours:{one:'about 1 hour',other:'about {{count}} hours'},xHours:{one:'1 hour',other:'{{count}} hours'},xDays:{one:'1 day',other:'{{count}} days'},aboutXMonths:{one:'about 1 month',other:'about {{count}} months'},xMonths:{one:'1 month',other:'{{count}} months'},aboutXYears:{one:'about 1 year',other:'about {{count}} years'},xYears:{one:'1 year',other:'{{count}} years'},overXYears:{one:'over 1 year',other:'over {{count}} years'},almostXYears:{one:'almost 1 year',other:'almost {{count}} years'}};return{localize:function(t,n,o){o=o||{};var s;return s='string'==typeof e[t]?e[t]:1===n?e[t].one:e[t].other.replace('{{count}}',n),o.addSuffix?0<o.comparison?'in '+s:s+' ago':s}}}},function(e,t,n){function o(e){var t=e%100;if(20<t||10>t)switch(t%10){case 1:return e+'st';case 2:return e+'nd';case 3:return e+'rd';}return e+'th'}var s=n(400);e.exports=function(){var e=['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'],t=['January','February','March','April','May','June','July','August','September','October','November','December'],n=['Su','Mo','Tu','We','Th','Fr','Sa'],r=['Sun','Mon','Tue','Wed','Thu','Fri','Sat'],a=['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],i=['AM','PM'],l=['am','pm'],d=['a.m.','p.m.'],c={MMM:function(t){return e[t.getMonth()]},MMMM:function(e){return t[e.getMonth()]},dd:function(e){return n[e.getDay()]},ddd:function(e){return r[e.getDay()]},dddd:function(e){return a[e.getDay()]},A:function(e){return 1<=e.getHours()/12?i[1]:i[0]},a:function(e){return 1<=e.getHours()/12?l[1]:l[0]},aa:function(e){return 1<=e.getHours()/12?d[1]:d[0]}};return['M','D','DDD','d','Q','W'].forEach(function(e){c[e+'o']=function(t,n){return o(n[e](t))}}),{formatters:c,formattingTokensRegExp:s(c)}}},function(e){var t=['M','MM','Q','D','DD','DDD','DDDD','d','E','W','WW','YY','YYYY','GG','GGGG','H','HH','h','hh','m','mm','s','ss','S','SS','SSS','Z','ZZ','X','x'];e.exports=function(e){var n=[];for(var o in e)e.hasOwnProperty(o)&&n.push(o);var s=t.concat(n).sort().reverse(),r=new RegExp('(\\[[^\\[]*\\])|(\\\\)?('+s.join('|')+'|.)','g');return r}},function(e,t,n){var o=n(1);e.exports=function(e,t,n,s){var r=o(e).getTime(),a=o(t).getTime(),i=o(n).getTime(),l=o(s).getTime();if(r>a||i>l)throw new Error('The start of the range cannot be after the end of the range');return r<l&&i<a}},function(e,t,n){var o=n(1);e.exports=function(e,t){if(!(t instanceof Array))throw new TypeError(toString.call(t)+' is not an instance of Array');var n=o(e),s=n.getTime(),r,a;return t.forEach(function(e,t){var n=o(e),i=l(s-n.getTime());(void 0==r||i<a)&&(r=t,a=i)}),r}},function(e,t,n){var o=n(1);e.exports=function(e,t){if(!(t instanceof Array))throw new TypeError(toString.call(t)+' is not an instance of Array');var n=o(e),s=n.getTime(),r,a;return t.forEach(function(e){var t=o(e),n=l(s-t.getTime());(void 0==r||n<a)&&(r=t,a=n)}),r}},function(e,t,n){var o=n(44),s=6e4;e.exports=function(e,t){var n=o(e),r=o(t),a=n.getTime()-n.getTimezoneOffset()*s,i=r.getTime()-r.getTimezoneOffset()*s;return c((a-i)/6.048e8)}},function(e,t,n){var o=n(165),s=n(1);e.exports=function(e,t){var n=s(e),r=s(t),a=n.getFullYear()-r.getFullYear(),i=o(n)-o(r);return 4*a+i}},function(e,t,n){var o=n(72),s=6e4;e.exports=function(e,t,n){var r=o(e,n),a=o(t,n),i=r.getTime()-r.getTimezoneOffset()*s,l=a.getTime()-a.getTimezoneOffset()*s;return c((i-l)/6.048e8)}},function(e,t,n){var o=n(73);e.exports=function(e,t){var n=o(e,t)/3.6e6;return 0<n?p(n):u(n)}},function(e,t,n){var o=n(1),s=n(164),r=n(54),a=n(168);e.exports=function(e,t){var n=o(e),i=o(t),d=r(n,i),c=l(s(n,i));n=a(n,d*c);var p=r(n,i)===-d;return d*(c-p)}},function(e,t,n){var o=n(73);e.exports=function(e,t){var n=o(e,t)/6e4;return 0<n?p(n):u(n)}},function(e,t,n){var o=n(106);e.exports=function(e,t){var n=o(e,t)/3;return 0<n?p(n):u(n)}},function(e,t,n){var o=n(167);e.exports=function(e,t){var n=o(e,t)/7;return 0<n?p(n):u(n)}},function(e,t,n){var o=n(1),s=n(166),r=n(54);e.exports=function(e,t){var n=o(e),a=o(t),i=r(n,a),d=l(s(n,a));n.setFullYear(n.getFullYear()-i*d);var c=r(n,a)===-i;return i*(d-c)}},function(e,t,n){var o=n(104),s=n(1),r=n(105),a=n(103),i=1440,l=43200,d=525600;e.exports=function(e,t,n){var c=n||{},p=o(e,t),u=c.locale,m=a.distanceInWords.localize;u&&u.distanceInWords&&u.distanceInWords.localize&&(m=u.distanceInWords.localize);var g={addSuffix:!!c.addSuffix,comparison:p},_,y;0<p?(_=s(e),y=s(t)):(_=s(t),y=s(e));var f=Math[c.partialMethod?c.partialMethod+'':'floor'],h=r(y,_),v=y.getTimezoneOffset()-_.getTimezoneOffset(),T=f(h/60)-v,b,x,S,k,I;if(b=c.unit?c.unit+'':1>T?'s':60>T?'m':T<i?'h':T<l?'d':T<d?'M':'Y','s'===b)return m('xSeconds',h,g);if('m'===b)return m('xMinutes',T,g);if('h'===b)return x=f(T/60),m('xHours',x,g);if('d'===b)return S=f(T/i),m('xDays',S,g);if('M'===b)return k=f(T/l),m('xMonths',k,g);if('Y'===b)return I=f(T/d),m('xYears',I,g);throw new Error('Unknown unit: '+b)}},function(e,t,n){var o=n(1);e.exports=function(e,t){var n=o(e),s=o(t),r=s.getTime();if(n.getTime()>r)throw new Error('The first date cannot be after the second date');var a=[],i=n;for(i.setHours(0,0,0,0);i.getTime()<=r;)a.push(o(i)),i.setDate(i.getDate()+1);return a}},function(e,t,n){var o=n(1);e.exports=function(e){var t=o(e);return t.setMinutes(59,59,999),t}},function(e,t,n){var o=n(169);e.exports=function(e){return o(e,{weekStartsOn:1})}},function(e,t,n){var o=n(45),s=n(44);e.exports=function(e){var t=o(e),n=new Date(0);n.setFullYear(t+1,0,4),n.setHours(0,0,0,0);var r=s(n);return r.setMilliseconds(r.getMilliseconds()-1),r}},function(e,t,n){var o=n(1);e.exports=function(e){var t=o(e);return t.setSeconds(59,999),t}},function(e,t,n){var o=n(1);e.exports=function(e){var t=o(e),n=t.getMonth();return t.setMonth(n-n%3+3,0),t.setHours(23,59,59,999),t}},function(e,t,n){var o=n(1);e.exports=function(e){var t=o(e);return t.setMilliseconds(999),t}},function(e,t,n){var o=n(109);e.exports=function(){return o(new Date)}},function(e){e.exports=function(){var e=new Date,t=e.getFullYear(),n=e.getMonth(),o=e.getDate(),s=new Date(0);return s.setFullYear(t,n,o+1),s.setHours(23,59,59,999),s}},function(e,t,n){var o=n(1);e.exports=function(e){var t=o(e),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t}},function(e){e.exports=function(){var e=new Date,t=e.getFullYear(),n=e.getMonth(),o=e.getDate(),s=new Date(0);return s.setFullYear(t,n,o-1),s.setHours(23,59,59,999),s}},function(e,t,n){var o=n(1);e.exports=function(e){var t=o(e),n=t.getDate();return n}},function(e,t,n){var o=n(1);e.exports=function(e){var t=o(e),n=t.getDay();return n}},function(e,t,n){var o=n(171);e.exports=function(e){return o(e)?366:365}},function(e,t,n){var o=n(1);e.exports=function(e){var t=o(e),n=t.getHours();return n}},function(e,t,n){var o=n(53),s=n(108);e.exports=function(e){var t=o(e),n=o(s(t,60)),r=n.valueOf()-t.valueOf();return c(r/6.048e8)}},function(e,t,n){var o=n(1);e.exports=function(e){var t=o(e),n=t.getMilliseconds();return n}},function(e,t,n){var o=n(1);e.exports=function(e){var t=o(e),n=t.getMinutes();return n}},function(e,t,n){var o=n(1);e.exports=function(e){var t=o(e),n=t.getMonth();return n}},function(e,t,n){var o=n(1);e.exports=function(e,t,n,s){var r=o(e).getTime(),a=o(t).getTime(),i=o(n).getTime(),l=o(s).getTime();if(r>a||i>l)throw new Error('The start of the range cannot be after the end of the range');if(!(r<l&&i<a))return 0;var d=i<r?r:i,c=l>a?a:l;return u((c-d)/86400000)}},function(e,t,n){var o=n(1);e.exports=function(e){var t=o(e),n=t.getSeconds();return n}},function(e,t,n){var o=n(1);e.exports=function(e){var t=o(e),n=t.getTime();return n}},function(e,t,n){var o=n(1);e.exports=function(e){var t=o(e),n=t.getFullYear();return n}},function(e,t,n){var o=n(1);e.exports=function(e,t){var n=o(e),s=o(t);return n.getTime()>s.getTime()}},function(e,t,n){var o=n(1);e.exports=function(e,t){var n=o(e),s=o(t);return n.getTime()<s.getTime()}},function(e,t,n){var o=n(1);e.exports=function(e,t){var n=o(e),s=o(t);return n.getTime()===s.getTime()}},function(e,t,n){var o=n(1);e.exports=function(e){return 1===o(e).getDate()}},function(e,t,n){var o=n(1);e.exports=function(e){return 5===o(e).getDay()}},function(e,t,n){var o=n(1);e.exports=function(e){return o(e).getTime()>new Date().getTime()}},function(e,t,n){var o=n(1),s=n(109),r=n(170);e.exports=function(e){var t=o(e);return s(t).getTime()===r(t).getTime()}},function(e,t,n){var o=n(1);e.exports=function(e){return 1===o(e).getDay()}},function(e,t,n){var o=n(1);e.exports=function(e){return o(e).getTime()<new Date().getTime()}},function(e,t,n){var o=n(43);e.exports=function(e,t){var n=o(e),s=o(t);return n.getTime()===s.getTime()}},function(e,t,n){var o=n(1);e.exports=function(e){return 6===o(e).getDay()}},function(e,t,n){var o=n(1);e.exports=function(e){return 0===o(e).getDay()}},function(e,t,n){var o=n(173);e.exports=function(e){return o(new Date,e)}},function(e,t,n){var o=n(175);e.exports=function(e){return o(new Date,e)}},function(e,t,n){var o=n(176);e.exports=function(e){return o(new Date,e)}},function(e,t,n){var o=n(177);e.exports=function(e){return o(new Date,e)}},function(e,t,n){var o=n(179);e.exports=function(e){return o(new Date,e)}},function(e,t,n){var o=n(180);e.exports=function(e){return o(new Date,e)}},function(e,t,n){var o=n(182);e.exports=function(e){return o(new Date,e)}},function(e,t,n){var o=n(110);e.exports=function(e,t){return o(new Date,e,t)}},function(e,t,n){var o=n(184);e.exports=function(e){return o(new Date,e)}},function(e,t,n){var o=n(1);e.exports=function(e){return 4===o(e).getDay()}},function(e,t,n){var o=n(43);e.exports=function(e){return o(e).getTime()===o(new Date).getTime()}},function(e,t,n){var o=n(43);e.exports=function(e){var t=new Date;return t.setDate(t.getDate()+1),o(e).getTime()===o(t).getTime()}},function(e,t,n){var o=n(1);e.exports=function(e){return 2===o(e).getDay()}},function(e,t,n){var o=n(1);e.exports=function(e){return 3===o(e).getDay()}},function(e,t,n){var o=n(1);e.exports=function(e){var t=o(e),n=t.getDay();return 0===n||6===n}},function(e,t,n){var o=n(1);e.exports=function(e,t,n){var s=o(e).getTime(),r=o(t).getTime(),a=o(n).getTime();if(r>a)throw new Error('The start of the range cannot be after the end of the range');return s>=r&&s<=a}},function(e,t,n){var o=n(43);e.exports=function(e){var t=new Date;return t.setDate(t.getDate()-1),o(e).getTime()===o(t).getTime()}},function(e,t,n){var o=n(185);e.exports=function(e){return o(e,{weekStartsOn:1})}},function(e,t,n){var o=n(45),s=n(44);e.exports=function(e){var t=o(e),n=new Date(0);n.setFullYear(t+1,0,4),n.setHours(0,0,0,0);var r=s(n);return r.setDate(r.getDate()-1),r}},function(e,t,n){var o=n(1);e.exports=function(e){var t=o(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}},function(e,t,n){var o=n(1);e.exports=function(e){var t=o(e),n=t.getMonth();return t.setMonth(n-n%3+3,0),t.setHours(0,0,0,0),t}},function(e,t,n){var o=n(1);e.exports=function(e){var t=o(e),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(0,0,0,0),t}},function(e,t,n){var o=n(1);e.exports=function(){var e=Array.prototype.slice.call(arguments),t=e.map(function(e){return o(e)}),n=d.apply(null,t);return new Date(n)}},function(e,t,n){var o=n(1);e.exports=function(){var e=Array.prototype.slice.call(arguments),t=e.map(function(e){return o(e)}),n=m.apply(null,t);return new Date(n)}},function(e,t,n){var o=n(1);e.exports=function(e,t){var n=o(e);return n.setDate(+t),n}},function(e,t,n){var o=n(1),s=n(55);e.exports=function(e,t,n){var r=n?+n.weekStartsOn||0:0,a=o(e),i=+t,l=a.getDay(),d=((i%7+7)%7<r?7:0)+i-l;return s(a,d)}},function(e,t,n){var o=n(1);e.exports=function(e,t){var n=o(e);return n.setMonth(0),n.setDate(+t),n}},function(e,t,n){var o=n(1);e.exports=function(e,t){var n=o(e);return n.setHours(+t),n}},function(e,t,n){var o=n(1),s=n(55),r=n(172);e.exports=function(e,t){var n=o(e),a=r(n);return s(n,+t-a)}},function(e,t,n){var o=n(1),s=n(102);e.exports=function(e,t){var n=o(e),r=s(n)-+t;return n.setDate(n.getDate()-7*r),n}},function(e,t,n){var o=n(1);e.exports=function(e,t){var n=o(e);return n.setMilliseconds(+t),n}},function(e,t,n){var o=n(1);e.exports=function(e,t){var n=o(e);return n.setMinutes(+t),n}},function(e,t,n){var o=n(1),s=n(186);e.exports=function(e,t){var n=o(e),r=p(n.getMonth()/3)+1;return s(n,n.getMonth()+3*(+t-r))}},function(e,t,n){var o=n(1);e.exports=function(e,t){var n=o(e);return n.setSeconds(+t),n}},function(e,t,n){var o=n(1);e.exports=function(e,t){var n=o(e);return n.setFullYear(+t),n}},function(e,t,n){var o=n(1);e.exports=function(e){var t=o(e);return t.setDate(1),t.setHours(0,0,0,0),t}},function(e,t,n){var o=n(43);e.exports=function(){return o(new Date)}},function(e){e.exports=function(){var e=new Date,t=e.getFullYear(),n=e.getMonth(),o=e.getDate(),s=new Date(0);return s.setFullYear(t,n,o+1),s.setHours(0,0,0,0),s}},function(e){e.exports=function(){var e=new Date,t=e.getFullYear(),n=e.getMonth(),o=e.getDate(),s=new Date(0);return s.setFullYear(t,n,o-1),s.setHours(0,0,0,0),s}},function(e,t,n){var o=n(55);e.exports=function(e,t){return o(e,-+t)}},function(e,t,n){var o=n(157);e.exports=function(e,t){return o(e,-+t)}},function(e,t,n){var o=n(56);e.exports=function(e,t){return o(e,-+t)}},function(e,t,n){var o=n(160);e.exports=function(e,t){return o(e,-+t)}},function(e,t,n){var o=n(74);e.exports=function(e,t){return o(e,-+t)}},function(e,t,n){var o=n(161);e.exports=function(e,t){return o(e,-+t)}},function(e,t,n){var o=n(162);e.exports=function(e,t){return o(e,-+t)}},function(e,t,n){var o=n(108);e.exports=function(e,t){return o(e,-+t)}},function(e,t,n){var o=n(163);e.exports=function(e,t){return o(e,-+t)}},function(e,t,n){'use strict';function o(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0}),t.Room=void 0;var s=function(){function e(e,t){for(var n=0,o;n<t.length;n++)o=t[n],o.enumerable=o.enumerable||!1,o.configurable=!0,'value'in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=n(155),a=function(e){return e&&e.__esModule?e:{default:e}}(r),i=t.Room=function(){function e(t){o(this,e),this.id=t.id,this.last_comment_id=t.last_comment_id,this.last_comment_message=t.last_comment_message,this.last_comment_message_created_at=t.last_comment_message_created_at,this.last_comment_topic_title=t.last_comment_topic_title,this.avatar=t.room_avatar||t.avatarURL||t.avatar_url,this.name=t.room_name,this.room_type=t.room_type||t.chat_type,this.secret_code=t.secret_code,this.participants=t.participants,this.options=t.options,this.topics=[],this.comments=[],this.count_notif=t.unread_count,this.isLoaded=!1,this.unread_comments=[],this.custom_title=null,this.custom_subtitle=null,this.options=t.options,this.unique_id=t.unique_id,this.isChannel=t.is_public_channel,this.participantNumber=t.room_total_participants,t.comments&&this.receiveComments(t.comments)}return s(e,[{key:'isCurrentlySelected',value:function(e){return this.id==e.id}},{key:'getParticipantCount',value:function(){return null==this.participants?this.participantNumber:this.participants.length}},{key:'setTitle',value:function(e){this.custom_title=e}},{key:'setSubTitle',value:function(e){this.custom_subtitle=e}},{key:'receiveComment',value:function(e){var t=this.comments.find(function(t){return t.unique_id==e.unique_id});t?(t.id=e.id,t.message=e.message,t.date=e.date,t.time=e.time,t.unix_timestamp=e.unix_timestamp):this.comments.push(e)}},{key:'receiveComments',value:function(e){var t=this;e.forEach(function(e){t.receiveComment(new a.default(e))})}},{key:'getParticipant',value:function(e){return this.participants.find(function(t){return t.email==e})||null}},{key:'addParticipant',value:function(e){var t=this.getParticipant(e.email);t||this.participants.push(e)}}]),e}();e.exports=i},function(e,t,n){'use strict';function o(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var s=function(){function e(e,t){for(var n=0,o;n<t.length;n++)o=t[n],o.enumerable=o.enumerable||!1,o.configurable=!0,'value'in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=n(146),a=function(e){return e&&e.__esModule?e:{default:e}}(r),i=function(){function e(t){var n=t.baseURL,s=t.AppId,r=t.userId,a=t.version;o(this,e),this.baseURL=n,this.token=null,this.userId=r,this.AppId=s,this.version=a}return s(e,[{key:'setToken',value:function(e){this.token=e}},{key:'get',value:function(e){var t=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},o=arguments[2];return new Promise(function(s,r){var i=a.default.get(t.baseURL+'/'+e);o&&o.baseURL&&(i=a.default.get(o.baseURL+'/'+e)),i=t.setupHeaders(i,n),i.end(function(e,t){return e?r(e):s(t)})})}},{key:'post',value:function(e){var t=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return new Promise(function(s,r){var i=a.default.post(t.baseURL+'/'+e);i=t.setupHeaders(i,o),i.send(n).set('Content-Type','application/x-www-form-urlencoded').end(function(e,t){return e?r(e):s(t)})})}},{key:'post_json',value:function(e){var t=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return new Promise(function(s,r){var i=a.default.post(t.baseURL+'/'+e);i=t.setupHeaders(i,o),i.send(n).set('Content-Type','application/json').end(function(e,t){return e?r(e):s(t)})})}},{key:'put',value:function(e){var t=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return new Promise(function(s,r){var i=a.default.put(t.baseURL+'/'+e);i=t.setupHeaders(i,o),i.send(n).set('Content-Type','application/x-www-form-urlencoded').end(function(e,t){return e?r(e):s(t)})})}},{key:'del',value:function(e){var t=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return new Promise(function(s,r){var i=a.default.del(t.baseURL+'/'+e);i=t.setupHeaders(i,o),i.send(n).set('Content-Type','application/json').end(function(e,t){return e?r(e):s(t)})})}},{key:'setupHeaders',value:function(e,t){if(e.set('QISCUS_SDK_APP_ID',''+this.AppId),e.set('QISCUS_SDK_USER_ID',''+this.userId),e.set('QISCUS_SDK_TOKEN',''+this.token),e.set('QISCUS_SDK_VERSION',''+this.version),1>Object.keys(t).length)return e;for(var n in t)e.set(n,t[n]);return e}}]),e}();t.default=i},function(e,t){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var o=function(){function e(e,t){for(var n=0,o;n<t.length;n++)o=t[n],o.enumerable=o.enumerable||!1,o.configurable=!0,'value'in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=function(){function e(t){n(this,e),this.HTTPAdapter=t,this.token=t.token}return o(e,[{key:'getNonce',value:function(){return this.HTTPAdapter.post('api/v2/sdk/auth/nonce').then(function(e){return Promise.resolve(e.body.results)},function(e){return Promise.reject(e)})}},{key:'loginOrRegister',value:function(e){return this.HTTPAdapter.post('api/v2/sdk/login_or_register',e).then(function(e){return new Promise(function(t,n){return 200===e.body.status?t(e.body.results):n(e)})},function(e){return Promise.reject(e)})}},{key:'verifyIdentityToken',value:function(e){return this.HTTPAdapter.post('api/v2/sdk/auth/verify_identity_token',{identity_token:e}).then(function(e){return Promise.resolve(e.body.results)},function(e){return Promise.reject(e)})}}]),e}();t.default=s},function(e,t){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var o=function(){function e(e,t){for(var n=0,o;n<t.length;n++)o=t[n],o.enumerable=o.enumerable||!1,o.configurable=!0,'value'in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=function(){function e(t){n(this,e),this.HTTPAdapter=t,this.token=t.token}return o(e,[{key:'postComment',value:function(e,t,n,o,s,r){return this.HTTPAdapter.post('api/v2/sdk/post_comment',{token:this.token,comment:t,topic_id:e,unique_temp_id:n,type:o,payload:s,extras:r}).then(function(e){return new Promise(function(t,n){if(200!==e.body.status)return n(e);var o=e.body.results.comment;return t(o)})},function(e){return Promise.reject(e)})}},{key:'sync',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return this.HTTPAdapter.get('api/v2/sdk/sync?token='+this.token+'&last_received_comment_id='+e).then(function(e){return new Promise(function(t,n){if(200!==e.body.status)return n(e);var o=e.body.results.comments;return t(o)})},function(e){return Promise.reject(e)})}},{key:'syncEvent',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return this.HTTPAdapter.get('api/v2/sdk/sync_event?token='+this.token+'&start_event_id='+e).then(function(e){return new Promise(function(t,n){if(200!==e.statusCode)return n(e);var o=e.body;return t(o)})},function(e){return Promise.reject(e)})}},{key:'updateCommentStatus',value:function(e,t,n){var o={token:this.token,room_id:e};return t&&(o.last_comment_read_id=t),n&&(o.last_comment_received_id=n),this.HTTPAdapter.post('api/v2/mobile/update_comment_status',o).then(function(e){return Promise.resolve(e)}).catch(function(e){return Promise.reject(e)})}},{key:'loadRoomList',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t='?token='+this.token;return e.page?t+='&page='+e.page:null,e.show_participants&&(t+='&show_participants='+e.show_participants),e.limit?t+='&limit='+e.limit:null,this.HTTPAdapter.get('api/v2/sdk/user_rooms'+t).then(function(e){return new Promise(function(t,n){if(200!==e.body.status)return n(e);var o=e.body.results.rooms_info;return t(o)})},function(e){return Promise.reject(e)})}},{key:'searchMessages',value:function(e){var t={token:this.token,query:e.query||null,room_id:e.room_id||null,last_comment_id:e.last_comment_id||null};return this.HTTPAdapter.post('api/v2/sdk/search_messages',t).then(function(e){return Promise.resolve(e.body.results.comments)}).catch(function(e){return Promise.reject(e)})}},{key:'uploadFile',value:function(e){var t={token:this.token,file:e};return this.HTTPAdapter.post('api/v2/sdk/upload',t).then(function(e){return Promise.resolve(e.body)}).catch(function(e){return Promise.reject(e)})}},{key:'getRoomsInfo',value:function(e){var t={token:this.token,show_participants:!0,show_removed:!1};return e.room_ids&&(t.room_id=e.room_ids),e.room_unique_ids&&(t.room_unique_id=e.room_unique_ids),e.show_participants&&(t.show_participants=e.show_participants),e.show_removed&&(t.show_removed=e.show_removed),this.HTTPAdapter.post_json('api/v2/mobile/rooms_info',t).then(function(e){return Promise.resolve(e.body)}).catch(function(e){return Promise.reject(e)})}},{key:'loadComments',value:function(e,t){var n='token='+this.token+'&topic_id='+e;return t.last_comment_id&&(n+='&last_comment_id='+t.last_comment_id),t.timestamp&&(n+='&timestamp='+t.timestamp),t.after&&(n+='&after='+t.after),t.limit&&(n+='&limit='+t.limit),this.HTTPAdapter.get('api/v2/sdk/load_comments?'+n).then(function(e){return new Promise(function(t){if(200!=e.status)return new Promise(function(t,n){return n(e)});var n=e.body.results.comments;return t(n)})},function(e){return new Promise(function(t,n){return n(e)})})}},{key:'deleteComment',value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],o=3<arguments.length&&void 0!==arguments[3]&&arguments[3],s={token:this.token,unique_ids:t,is_delete_for_everyone:n,is_hard_delete:o};return this.HTTPAdapter.del('api/v2/sdk/delete_messages',s).then(function(e){return Promise.resolve(e.body)}).catch(function(e){return Promise.reject(e)})}},{key:'clearRoomMessages',value:function(e){var t={token:this.token,room_channel_ids:e};return this.HTTPAdapter.del('api/v2/sdk/clear_room_messages',t).then(function(e){return Promise.resolve(e.body)}).catch(function(e){return Promise.reject(e)})}},{key:'getCommentReceiptStatus',value:function(e){return this.HTTPAdapter.get('/api/v2/sdk/comment_receipt?token='+this.token+'&comment_id='+e).then(function(e){return Promise.resolve(e.body)}).catch(function(e){return Promise.reject(e)})}}]),e}();t.default=s},function(e,t){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var o=function(){function e(e,t){for(var n=0,o;n<t.length;n++)o=t[n],o.enumerable=o.enumerable||!1,o.configurable=!0,'value'in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=function(){function e(t){n(this,e),this.HTTPAdapter=t,this.token=t.token}return o(e,[{key:'getOrCreateRoom',value:function(e,t,n){var o={token:this.token,emails:e};return n&&(o[n]=n),t&&(o.options=JSON.stringify(t)),this.HTTPAdapter.post('api/v2/sdk/get_or_create_room_with_target',o).then(function(t){if(200!==t.body.status)return Promise.reject(t);var n=t.body.results.room;n.avatar=n.avatar_url,n.comments=t.body.results.comments.reverse();var o=n.participants.find(function(t){return t.email===e});return n.name=o?o.username:'Room name',Promise.resolve(n)},function(e){return Promise.reject(e)})}},{key:'getRoomById',value:function(e){return this.HTTPAdapter.get('api/v2/mobile/get_room_by_id?token='+this.token+'&id='+e).then(function(e){return Promise.resolve(e.body)},function(e){return Promise.reject(e)})}},{key:'getOrCreateRoomByUniqueId',value:function(e,t,n){var o={token:this.token,unique_id:e,name:t,avatar_url:n};return this.HTTPAdapter.post('api/v2/mobile/get_or_create_room_with_unique_id',o).then(function(e){if(200!==e.body.status)return Promise.reject(e);var t=e.body.results.room;return t.avatar=t.avatar_url,t.comments=e.body.results.comments.reverse(),t.name=t.room_name,Promise.resolve(t)},function(e){return Promise.reject(e)})}},{key:'createRoom',value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},o={token:this.token,name:e,"participants[]":t,avatar_url:n.avatarURL};return this.HTTPAdapter.post('api/v2/mobile/create_room',o).then(function(e){if(200!==e.body.status)return Promise.reject(e);var t=e.body.results.room;return t.comments=e.body.results.comments,Promise.resolve({id:t.id,name:t.room_name,lastCommentId:t.last_comment_id,lastCommentMessage:t.last_comment_message,lastTopicId:t.last_topic_id,avatarURL:t.avatar_url,options:t.options,participants:t.participants.map(function(e){return{id:e.id,email:e.email,username:e.username,avatarURL:e.avatar_url}})})}).catch(function(e){return console.error('Error when creating room',e),Promise.reject('Error when creating room')})}},{key:'updateRoom',value:function(e){if(!e.id)throw new Error('id is required');var t={token:this.token,id:e.id};return e.room_name&&(t.room_name=e.room_name),e.avatar_url&&(t.avatar_url=e.avatar_url),e.options&&(t.options=JSON.stringify(e.options)),this.HTTPAdapter.post('api/v2/mobile/update_room',t).then(function(e){return 200===e.body.status?Promise.resolve(e.body.results.room):Promise.reject(e)},function(e){return Promise.reject(e)})}},{key:'getTotalUnreadCount',value:function(){return this.HTTPAdapter.get('api/v2/sdk/total_unread_count?token='+this.token).then(function(e){return Promise.resolve(e.body.results.total_unread_count)},function(e){return Promise.reject(e)})}},{key:'addParticipantsToGroup',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];if(!e||!t)throw new Error('room_id and emails is required');var n={token:this.token,room_id:e,"emails[]":t};return this.HTTPAdapter.post('api/v2/mobile/add_room_participants',n).then(function(e){return 200===e.body.status?Promise.resolve(e.body.results.participants_added):Promise.reject(e)},function(e){return Promise.reject(e)})}},{key:'removeParticipantsFromGroup',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];if(!e||!t)throw new Error('room_id and emails is required');var n={token:this.token,room_id:e,"emails[]":t};return this.HTTPAdapter.post('api/v2/mobile/remove_room_participants',n).then(function(e){return 200===e.body.status?Promise.resolve(e.body.results.participants_removed):Promise.reject(e)},function(e){return Promise.reject(e)})}}]),e}();t.default=s},function(e,t,n){'use strict';function o(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function s(e,t,n){var o=JSON.parse(t);'deleted_messages'in o.payload.data?o.payload.data.deleted_messages.map(function(e){n.emit('comment-deleted',{roomId:e.room_id,commentUniqueIds:e.message_unique_ids,isForEveryone:!0,isHard:o.payload.data.is_hard_delete})}):'deleted_rooms'in o.payload.data&&o.payload.data.deleted_rooms.forEach(function(e){n.emit('room-cleared',e)})}Object.defineProperty(t,'__esModule',{value:!0});var r=function(){function e(e,t){for(var n=0,o;n<t.length;n++)o=t[n],o.enumerable=o.enumerable||!1,o.configurable=!0,'value'in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(503),i=function(e){return e&&e.__esModule?e:{default:e}}(a),l=n(156);window.Paho={MQTT:i.default};var d=function(){function e(t,n,s){o(this,e);var r=this;this.context=s,this.context.mqttURL&&(t=this.context.mqttURL),this.mqtt=new i.default.Client(t,this.context.userData.token);var a=new i.default.Message('0');a.destinationName='u/'+r.context.userData.email+'/s',a.retained=!0,this.mqtt.connect({reconnect:!0}),this.mqtt.onConnected=this.onConnected.bind(this),this.mqtt.onConnectionLost=this.onConnectionLost.bind(this),this.mqtt.onMessageArrived=this.onMessageArrived.bind(this)}return r(e,[{key:'onConnected',value:function(e){if(!e)this.log('Successfully connected to '+this.context.mqttURL),this.subscribeUserChannel();else{if(this.log('Successfully reconnected to '+this.context.mqttURL),this.context.disableSync(),!this.context.selected)return;this.context.loadComments(this.context.selected.id),this.context.options.onReconnectCallback&&this.options.onReconnectedCallback()}}},{key:'log',value:function(e){this.context.debugMQTTMode&&console.log(e)}},{key:'onConnectionLost',value:function(e){this.log('activating http sync due to connection lost'),this.log(e),this.context.activateSync()}},{key:'onMessageArrived',value:function(e){var t=e.destinationName.split('/'),n=this;if(2==t.length)'c'==t[1]?n.context.emit('newmessages',[JSON.parse(e.payloadString)]):'n'==t[1]&&s(t,e.payloadString,n.context);else if(3==t.length){e.payloadString.split(':');n.context.emit('presence',e.payloadString)}else if('r'==t[0]&&'t'==t[4]){if(!n.context.selected)return!1;if(t[3]!=n.context.user_id)if(n.context.emit('typing',{message:e.payloadString,username:t[3],room_id:t[1]}),'1'==e.payloadString&&t[1]==n.context.selected.id){var o=n.context.selected.participants.findIndex(function(e){return e.email===t[3]});if(0>o)return;var r=n.context.selected.participants[o].username;n.context.isTypingStatus=r+' is typing ...'}else n.context.isTypingStatus=null}else if('r'==t[0]&&'r'==t[4]){if(!n.context.selected)return!1;var a=n.context.selected.comments.find(function(t){return e.payloadString.split(':')[1]?t.unique_id===e.payloadString.split(':')[1]:t.id===e.payloadString.split(':')[0]});if(a){if(t[3]==a.username_real)return!1;var i={participants:n.context.selected.participants,actor:t[3],comment_id:e.payloadString.split(':')[0]};n.context.selected.comments.forEach(function(e){e.status='read',e.markAsRead(i)}),n.context.emit('comment-read',{comment:a})}}else if('r'==t[0]&&'d'==t[4]){if(!n.context.selected)return!1;var l=n.context.selected.comments.find(function(t){return e.payloadString.split(':')[1]?t.unique_id===e.payloadString.split(':')[1]:t.id===e.payloadString.split(':')[0]});if(l){if(t[3]==l.username_real)return!1;var d={participants:n.context.selected.participants,actor:t[3],comment_id:e.payloadString.split(':')[0]};n.context.selected.comments.forEach(function(e){'read'!=e.status&&e.id<=l.id&&e.markAsDelivered(d)})}n.context.emit('comment-delivered',{comment:l})}}},{key:'subscribe',value:function(e,t){console.info('topic',e),this.mqtt.subscribe(e,t)}},{key:'unsubscribe',value:function(e){this.mqtt.unsubscribe(e)}},{key:'subscribeChannel',value:function(e,t){this.subscribe(e+'/'+t+'/c')}},{key:'subscribeTyping',value:function(e){this.subscribe('r/'+e+'/'+e+'/+/t'),this.subscribe('r/'+e+'/'+e+'/+/d'),this.subscribe('r/'+e+'/'+e+'/+/r')}},{key:'unsubscribeTyping',value:function(){if(!this.context.selected)return!1;var e=this.context.selected.id;this.unsubscribe('r/'+e+'/'+e+'/+/t'),this.unsubscribe('r/'+e+'/'+e+'/+/d'),this.unsubscribe('r/'+e+'/'+e+'/+/r')}},{key:'publish',value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!0;console.info('topic',e,t),this.mqtt.publish(e,t.toString(),n,o)}},{key:'subscribeUserChannel',value:function(){this.subscribe(this.context.userData.token+'/c'),this.subscribe(this.context.userData.token+'/n')}},{key:'publishPresence',value:function(e){this.context.logging('emitting presence status for user',e),this.publish('u/'+e+'/s',1,0,!0)}},{key:'subscribeRoomPresence',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(){};this.subscribe('u/'+e+'/s',{onFailure:t})}},{key:'unsubscribeRoomPresence',value:function(e){this.unsubscribe('u/'+e+'/s')}},{key:'publishTyping',value:function(e){this.publish('r/'+this.context.selected.id+'/'+this.context.selected.id+'/'+this.context.user_id+'/t',e)}}]),e}();t.default=d},function(e,n){(function(t,n){e.exports=n()})(this,function(){var e=function(e){function n(e,t){var n=t,o=e[t],s=o>>4,a=o&=15;t+=1;var i=0,l=1,p;do{if(t==e.length)return[null,n];p=e[t++],i+=(127&p)*l,l*=128}while(0!=(128&p));var u=t+i;if(u>e.length)return[null,n];var m=new h(s);switch(s){case c.CONNACK:var g=e[t++];1&g&&(m.sessionPresent=!0),m.returnCode=e[t++];break;case c.PUBLISH:var _=3&a>>1,y=r(e,t);t+=2;var f=d(e,t,y);t+=y,0<_&&(m.messageIdentifier=r(e,t),t+=2);var v=new Paho.MQTT.Message(e.subarray(t,u));1==(1&a)&&(v.retained=!0),8==(8&a)&&(v.duplicate=!0),v.qos=_,v.destinationName=f,m.payloadMessage=v;break;case c.PUBACK:case c.PUBREC:case c.PUBREL:case c.PUBCOMP:case c.UNSUBACK:m.messageIdentifier=r(e,t);break;case c.SUBACK:m.messageIdentifier=r(e,t),t+=2,m.returnCode=e.subarray(t,u);break;default:}return[m,u]}function o(e,t,n){return t[n++]=e>>8,t[n++]=e%256,n}function s(e,t,n,s){return s=o(t,n,s),i(e,n,s),s+t}function r(e,t){return 256*e[t]+e[t+1]}function a(e){var t=[,],n=0;do{var o=e%128;e>>=7,0<e&&(o|=128),t[n++]=o}while(0<e&&4>n);return t}function l(e){for(var t=0,n=0,o;n<e.length;n++)o=e.charCodeAt(n),2047<o?(55296<=o&&56319>=o&&(n++,t++),t+=3):127<o?t+=2:t++;return t}function i(e,t,n){for(var o=n,s=0,r;s<e.length;s++){if(r=e.charCodeAt(s),55296<=r&&56319>=r){var a=e.charCodeAt(++s);if(isNaN(a))throw new Error(_(m.MALFORMED_UNICODE,[r,a]));r=(r-55296<<10)+(a-56320)+65536}127>=r?t[o++]=r:2047>=r?(t[o++]=192|31&r>>6,t[o++]=128|63&r):65535>=r?(t[o++]=224|15&r>>12,t[o++]=128|63&r>>6,t[o++]=128|63&r):(t[o++]=240|7&r>>18,t[o++]=128|63&r>>12,t[o++]=128|63&r>>6,t[o++]=128|63&r)}return t}function d(e,n,o){for(var s='',r=n,a,i;r<n+o;){if(i=e[r++],128>i)a=i;else{var l=e[r++]-128;if(0>l)throw new Error(_(m.MALFORMED_UTF,[i.toString(16),l.toString(16),'']));if(224>i)a=64*(i-192)+l;else{var d=e[r++]-128;if(0>d)throw new Error(_(m.MALFORMED_UTF,[i.toString(16),l.toString(16),d.toString(16)]));if(240>i)a=4096*(i-224)+64*l+d;else{var c=e[r++]-128;if(0>c)throw new Error(_(m.MALFORMED_UTF,[i.toString(16),l.toString(16),d.toString(16),c.toString(16)]));if(248>i)a=262144*(i-240)+4096*l+64*d+c;else throw new Error(_(m.MALFORMED_UTF,[i.toString(16),l.toString(16),d.toString(16),c.toString(16)]))}}}65535<a&&(a-=65536,s+=t(55296+(a>>10)),a=56320+(1023&a)),s+=t(a)}return s}var c={CONNECT:1,CONNACK:2,PUBLISH:3,PUBACK:4,PUBREC:5,PUBREL:6,PUBCOMP:7,SUBSCRIBE:8,SUBACK:9,UNSUBSCRIBE:10,UNSUBACK:11,PINGREQ:12,PINGRESP:13,DISCONNECT:14},p=function(e,t){for(var n in e)if(e.hasOwnProperty(n))if(!t.hasOwnProperty(n)){var o='Unknown property, '+n+'. Valid properties are:';for(var s in t)t.hasOwnProperty(s)&&(o=o+' '+s);throw new Error(o)}else if(typeof e[n]!==t[n])throw new Error(_(m.INVALID_TYPE,[typeof e[n],n]))},u=function(e,t){return function(){return e.apply(t,arguments)}},m={OK:{code:0,text:'AMQJSC0000I OK.'},CONNECT_TIMEOUT:{code:1,text:'AMQJSC0001E Connect timed out.'},SUBSCRIBE_TIMEOUT:{code:2,text:'AMQJS0002E Subscribe timed out.'},UNSUBSCRIBE_TIMEOUT:{code:3,text:'AMQJS0003E Unsubscribe timed out.'},PING_TIMEOUT:{code:4,text:'AMQJS0004E Ping timed out.'},INTERNAL_ERROR:{code:5,text:'AMQJS0005E Internal error. Error Message: {0}, Stack trace: {1}'},CONNACK_RETURNCODE:{code:6,text:'AMQJS0006E Bad Connack return code:{0} {1}.'},SOCKET_ERROR:{code:7,text:'AMQJS0007E Socket error:{0}.'},SOCKET_CLOSE:{code:8,text:'AMQJS0008I Socket closed.'},MALFORMED_UTF:{code:9,text:'AMQJS0009E Malformed UTF data:{0} {1} {2}.'},UNSUPPORTED:{code:10,text:'AMQJS0010E {0} is not supported by this browser.'},INVALID_STATE:{code:11,text:'AMQJS0011E Invalid state {0}.'},INVALID_TYPE:{code:12,text:'AMQJS0012E Invalid type {0} for {1}.'},INVALID_ARGUMENT:{code:13,text:'AMQJS0013E Invalid argument {0} for {1}.'},UNSUPPORTED_OPERATION:{code:14,text:'AMQJS0014E Unsupported operation.'},INVALID_STORED_DATA:{code:15,text:'AMQJS0015E Invalid data in local storage key={0} value={1}.'},INVALID_MQTT_MESSAGE_TYPE:{code:16,text:'AMQJS0016E Invalid MQTT message type {0}.'},MALFORMED_UNICODE:{code:17,text:'AMQJS0017E Malformed Unicode string:{0} {1}.'},BUFFER_FULL:{code:18,text:'AMQJS0018E Message buffer is full, maximum buffer size: {0}.'}},g={0:'Connection Accepted',1:'Connection Refused: unacceptable protocol version',2:'Connection Refused: identifier rejected',3:'Connection Refused: server unavailable',4:'Connection Refused: bad user name or password',5:'Connection Refused: not authorized'},_=function(e,t){var n=e.text;if(t)for(var o=0,s,r;o<t.length;o++)if(s='{'+o+'}',r=n.indexOf(s),0<r){var a=n.substring(0,r),i=n.substring(r+s.length);n=a+t[o]+i}return n},y=[0,6,77,81,73,115,100,112,3],f=[0,4,77,81,84,84,4],h=function(e,t){for(var n in this.type=e,t)t.hasOwnProperty(n)&&(this[n]=t[n])};h.prototype.encode=function(){var e=(15&this.type)<<4,t=0,n=[],r=0,d;switch(void 0!==this.messageIdentifier&&(t+=2),this.type){case c.CONNECT:switch(this.mqttVersion){case 3:t+=y.length+3;break;case 4:t+=f.length+3;}t+=l(this.clientId)+2,void 0!==this.willMessage&&(t+=l(this.willMessage.destinationName)+2,d=this.willMessage.payloadBytes,!(d instanceof Uint8Array)&&(d=new Uint8Array(i)),t+=d.byteLength+2),void 0!==this.userName&&(t+=l(this.userName)+2),void 0!==this.password&&(t+=l(this.password)+2);break;case c.SUBSCRIBE:e|=2;for(var p=0;p<this.topics.length;p++)n[p]=l(this.topics[p]),t+=n[p]+2;t+=this.requestedQos.length;break;case c.UNSUBSCRIBE:e|=2;for(var p=0;p<this.topics.length;p++)n[p]=l(this.topics[p]),t+=n[p]+2;break;case c.PUBREL:e|=2;break;case c.PUBLISH:this.payloadMessage.duplicate&&(e|=8),e=e|=this.payloadMessage.qos<<1,this.payloadMessage.retained&&(e|=1),r=l(this.payloadMessage.destinationName),t+=r+2;var i=this.payloadMessage.payloadBytes;t+=i.byteLength,i instanceof ArrayBuffer?i=new Uint8Array(i):!(i instanceof Uint8Array)&&(i=new Uint8Array(i.buffer));break;case c.DISCONNECT:break;default:}var u=a(t),m=u.length+1,g=new ArrayBuffer(t+m),_=new Uint8Array(g);if(_[0]=e,_.set(u,1),this.type==c.PUBLISH)m=s(this.payloadMessage.destinationName,r,_,m);else if(this.type==c.CONNECT){switch(this.mqttVersion){case 3:_.set(y,m),m+=y.length;break;case 4:_.set(f,m),m+=f.length;}var h=0;this.cleanSession&&(h=2),void 0!==this.willMessage&&(h|=4,h|=this.willMessage.qos<<3,this.willMessage.retained&&(h|=32)),void 0!==this.userName&&(h|=128),void 0!==this.password&&(h|=64),_[m++]=h,m=o(this.keepAliveInterval,_,m)}switch(void 0!==this.messageIdentifier&&(m=o(this.messageIdentifier,_,m)),this.type){case c.CONNECT:m=s(this.clientId,l(this.clientId),_,m),void 0!==this.willMessage&&(m=s(this.willMessage.destinationName,l(this.willMessage.destinationName),_,m),m=o(d.byteLength,_,m),_.set(d,m),m+=d.byteLength),void 0!==this.userName&&(m=s(this.userName,l(this.userName),_,m)),void 0!==this.password&&(m=s(this.password,l(this.password),_,m));break;case c.PUBLISH:_.set(i,m);break;case c.SUBSCRIBE:for(var p=0;p<this.topics.length;p++)m=s(this.topics[p],n[p],_,m),_[m++]=this.requestedQos[p];break;case c.UNSUBSCRIBE:for(var p=0;p<this.topics.length;p++)m=s(this.topics[p],n[p],_,m);break;default:}return g};var v=function(e,t,n){this._client=e,this._window=t,this._keepAliveInterval=1e3*n,this.isReset=!1;var o=new h(c.PINGREQ).encode(),s=function(e){return function(){return r.apply(e)}},r=function(){this.isReset?(this.isReset=!1,this._client._trace('Pinger.doPing','send PINGREQ'),this._client.socket.send(o),this.timeout=this._window.setTimeout(s(this),this._keepAliveInterval)):(this._client._trace('Pinger.doPing','Timed out'),this._client._disconnected(m.PING_TIMEOUT.code,_(m.PING_TIMEOUT)))};this.reset=function(){this.isReset=!0,this._window.clearTimeout(this.timeout),0<this._keepAliveInterval&&(this.timeout=setTimeout(s(this),this._keepAliveInterval))},this.cancel=function(){this._window.clearTimeout(this.timeout)}},T=function(e,t,n,o,s){this._window=t,n||(n=30);this.timeout=setTimeout(function(e,t,n){return function(){return e.apply(t,n)}}(o,e,s),1e3*n),this.cancel=function(){this._window.clearTimeout(this.timeout)}},b=function(t,n,o,s,r){if(!('WebSocket'in e&&null!==e.WebSocket))throw new Error(_(m.UNSUPPORTED,['WebSocket']));if(!('localStorage'in e&&null!==e.localStorage))throw new Error(_(m.UNSUPPORTED,['localStorage']));if(!('ArrayBuffer'in e&&null!==e.ArrayBuffer))throw new Error(_(m.UNSUPPORTED,['ArrayBuffer']));for(var a in this._trace('Paho.MQTT.Client',t,n,o,s,r),this.host=n,this.port=o,this.path=s,this.uri=t,this.clientId=r,this._wsuri=null,this._localKey=n+':'+o+('/mqtt'==s?'':':'+s)+':'+r+':',this._msg_queue=[],this._buffered_msg_queue=[],this._sentMessages={},this._receivedMessages={},this._notify_msg_sent={},this._message_identifier=1,this._sequence=0,localStorage)(0===a.indexOf('Sent:'+this._localKey)||0===a.indexOf('Received:'+this._localKey))&&this.restore(a)};b.prototype.host=null,b.prototype.port=null,b.prototype.path=null,b.prototype.uri=null,b.prototype.clientId=null,b.prototype.socket=null,b.prototype.connected=!1,b.prototype.maxMessageIdentifier=65536,b.prototype.connectOptions=null,b.prototype.hostIndex=null,b.prototype.onConnected=null,b.prototype.onConnectionLost=null,b.prototype.onMessageDelivered=null,b.prototype.onMessageArrived=null,b.prototype.traceFunction=null,b.prototype._msg_queue=null,b.prototype._buffered_msg_queue=null,b.prototype._connectTimeout=null,b.prototype.sendPinger=null,b.prototype.receivePinger=null,b.prototype._reconnectInterval=1,b.prototype._reconnecting=!1,b.prototype._reconnectTimeout=null,b.prototype.disconnectedPublishing=!1,b.prototype.disconnectedBufferSize=5e3,b.prototype.receiveBuffer=null,b.prototype._traceBuffer=null,b.prototype._MAX_TRACE_ENTRIES=100,b.prototype.connect=function(e){var t=this._traceMask(e,'password');if(this._trace('Client.connect',t,this.socket,this.connected),this.connected)throw new Error(_(m.INVALID_STATE,['already connected']));if(this.socket)throw new Error(_(m.INVALID_STATE,['already connected']));this._reconnecting&&(this._reconnectTimeout.cancel(),this._reconnectTimeout=null,this._reconnecting=!1),this.connectOptions=e,this._reconnectInterval=1,this._reconnecting=!1,e.uris?(this.hostIndex=0,this._doConnect(e.uris[0])):this._doConnect(this.uri)},b.prototype.subscribe=function(e,t){if(this._trace('Client.subscribe',e,t),!this.connected)throw new Error(_(m.INVALID_STATE,['not connected']));var n=new h(c.SUBSCRIBE);n.topics=[e],n.requestedQos=void 0===t.qos?[0]:[t.qos],t.onSuccess&&(n.onSuccess=function(e){t.onSuccess({invocationContext:t.invocationContext,grantedQos:e})}),t.onFailure&&(n.onFailure=function(e){t.onFailure({invocationContext:t.invocationContext,errorCode:e,errorMessage:_(e)})}),t.timeout&&(n.timeOut=new T(this,window,t.timeout,t.onFailure,[{invocationContext:t.invocationContext,errorCode:m.SUBSCRIBE_TIMEOUT.code,errorMessage:_(m.SUBSCRIBE_TIMEOUT)}])),this._requires_ack(n),this._schedule_message(n)},b.prototype.unsubscribe=function(e,t){if(this._trace('Client.unsubscribe',e,t),!this.connected)throw new Error(_(m.INVALID_STATE,['not connected']));var n=new h(c.UNSUBSCRIBE);n.topics=[e],t.onSuccess&&(n.callback=function(){t.onSuccess({invocationContext:t.invocationContext})}),t.timeout&&(n.timeOut=new T(this,window,t.timeout,t.onFailure,[{invocationContext:t.invocationContext,errorCode:m.UNSUBSCRIBE_TIMEOUT.code,errorMessage:_(m.UNSUBSCRIBE_TIMEOUT)}])),this._requires_ack(n),this._schedule_message(n)},b.prototype.send=function(e){if(this._trace('Client.send',e),wireMessage=new h(c.PUBLISH),wireMessage.payloadMessage=e,this.connected)0<e.qos?this._requires_ack(wireMessage):this.onMessageDelivered&&(this._notify_msg_sent[wireMessage]=this.onMessageDelivered(wireMessage.payloadMessage)),this._schedule_message(wireMessage);else if(this._reconnecting&&this.disconnectedPublishing){var t=Object.keys(this._sentMessages).length+this._buffered_msg_queue.length;if(t>this.disconnectedBufferSize)throw new Error(_(m.BUFFER_FULL,[this.disconnectedBufferSize]));else 0<e.qos?this._requires_ack(wireMessage):(wireMessage.sequence=++this._sequence,this._buffered_msg_queue.push(wireMessage))}else throw new Error(_(m.INVALID_STATE,['not connected']))},b.prototype.disconnect=function(){if(this._trace('Client.disconnect'),this._reconnecting&&(this._reconnectTimeout.cancel(),this._reconnectTimeout=null,this._reconnecting=!1),!this.socket)throw new Error(_(m.INVALID_STATE,['not connecting or connected']));wireMessage=new h(c.DISCONNECT),this._notify_msg_sent[wireMessage]=u(this._disconnected,this),this._schedule_message(wireMessage)},b.prototype.getTraceLog=function(){if(null!==this._traceBuffer){for(var e in this._trace('Client.getTraceLog',new Date),this._trace('Client.getTraceLog in flight messages',this._sentMessages.length),this._sentMessages)this._trace('_sentMessages ',e,this._sentMessages[e]);for(var e in this._receivedMessages)this._trace('_receivedMessages ',e,this._receivedMessages[e]);return this._traceBuffer}},b.prototype.startTrace=function(){null===this._traceBuffer&&(this._traceBuffer=[]),this._trace('Client.startTrace',new Date,'@VERSION@')},b.prototype.stopTrace=function(){delete this._traceBuffer},b.prototype._doConnect=function(e){if(this.connectOptions.useSSL){var t=e.split(':');t[0]='wss',e=t.join(':')}this._wsuri=e,this.connected=!1,this.socket=4>this.connectOptions.mqttVersion?new WebSocket(e,['mqttv3.1']):new WebSocket(e,['mqtt']),this.socket.binaryType='arraybuffer',this.socket.onopen=u(this._on_socket_open,this),this.socket.onmessage=u(this._on_socket_message,this),this.socket.onerror=u(this._on_socket_error,this),this.socket.onclose=u(this._on_socket_close,this),this.sendPinger=new v(this,window,this.connectOptions.keepAliveInterval),this.receivePinger=new v(this,window,this.connectOptions.keepAliveInterval),this._connectTimeout&&(this._connectTimeout.cancel(),this._connectTimeout=null),this._connectTimeout=new T(this,window,this.connectOptions.timeout,this._disconnected,[m.CONNECT_TIMEOUT.code,_(m.CONNECT_TIMEOUT)])},b.prototype._schedule_message=function(e){this._msg_queue.push(e),this.connected&&this._process_queue()},b.prototype.store=function(e,t){var n={type:t.type,messageIdentifier:t.messageIdentifier,version:1};switch(t.type){case c.PUBLISH:t.pubRecReceived&&(n.pubRecReceived=!0),n.payloadMessage={};for(var o='',s=t.payloadMessage.payloadBytes,r=0;r<s.length;r++)15>=s[r]?o=o+'0'+s[r].toString(16):o+=s[r].toString(16);n.payloadMessage.payloadHex=o,n.payloadMessage.qos=t.payloadMessage.qos,n.payloadMessage.destinationName=t.payloadMessage.destinationName,t.payloadMessage.duplicate&&(n.payloadMessage.duplicate=!0),t.payloadMessage.retained&&(n.payloadMessage.retained=!0),0===e.indexOf('Sent:')&&(void 0===t.sequence&&(t.sequence=++this._sequence),n.sequence=t.sequence);break;default:throw Error(_(m.INVALID_STORED_DATA,[key,n]));}localStorage.setItem(e+this._localKey+t.messageIdentifier,JSON.stringify(n))},b.prototype.restore=function(e){var t=localStorage.getItem(e),n=JSON.parse(t),o=new h(n.type,n);switch(n.type){case c.PUBLISH:for(var s=n.payloadMessage.payloadHex,r=new ArrayBuffer(s.length/2),a=new Uint8Array(r),l=0,i;2<=s.length;)i=parseInt(s.substring(0,2),16),s=s.substring(2,s.length),a[l++]=i;var d=new Paho.MQTT.Message(a);d.qos=n.payloadMessage.qos,d.destinationName=n.payloadMessage.destinationName,n.payloadMessage.duplicate&&(d.duplicate=!0),n.payloadMessage.retained&&(d.retained=!0),o.payloadMessage=d;break;default:throw Error(_(m.INVALID_STORED_DATA,[e,t]));}0===e.indexOf('Sent:'+this._localKey)?(o.payloadMessage.duplicate=!0,this._sentMessages[o.messageIdentifier]=o):0===e.indexOf('Received:'+this._localKey)&&(this._receivedMessages[o.messageIdentifier]=o)},b.prototype._process_queue=function(){for(var e=null,t=this._msg_queue.reverse();e=t.pop();)this._socket_send(e),this._notify_msg_sent[e]&&(this._notify_msg_sent[e](),delete this._notify_msg_sent[e])},b.prototype._requires_ack=function(e){var t=Object.keys(this._sentMessages).length;if(t>this.maxMessageIdentifier)throw Error('Too many messages:'+t);for(;void 0!==this._sentMessages[this._message_identifier];)this._message_identifier++;e.messageIdentifier=this._message_identifier,this._sentMessages[e.messageIdentifier]=e,e.type===c.PUBLISH&&this.store('Sent:',e),this._message_identifier===this.maxMessageIdentifier&&(this._message_identifier=1)},b.prototype._on_socket_open=function(){var e=new h(c.CONNECT,this.connectOptions);e.clientId=this.clientId,this._socket_send(e)},b.prototype._on_socket_message=function(e){this._trace('Client._on_socket_message',e.data);for(var t=this._deframeMessages(e.data),n=0;n<t.length;n+=1)this._handleMessage(t[n])},b.prototype._deframeMessages=function(e){var t=new Uint8Array(e),o=[];if(this.receiveBuffer){var s=new Uint8Array(this.receiveBuffer.length+t.length);s.set(this.receiveBuffer),s.set(t,this.receiveBuffer.length),t=s,delete this.receiveBuffer}try{for(var r=0;r<t.length;){var a=n(t,r),i=a[0];if(r=a[1],null!==i)o.push(i);else break}r<t.length&&(this.receiveBuffer=t.subarray(r))}catch(e){var l='undefined'==e.hasOwnProperty('stack')?e.stack.toString():'No Error Stack Available';return void this._disconnected(m.INTERNAL_ERROR.code,_(m.INTERNAL_ERROR,[e.message,l]))}return o},b.prototype._handleMessage=function(e){this._trace('Client._handleMessage',e);try{switch(e.type){case c.CONNACK:if(this._connectTimeout.cancel(),this._reconnectTimeout&&this._reconnectTimeout.cancel(),this.connectOptions.cleanSession){for(var t in this._sentMessages){var n=this._sentMessages[t];localStorage.removeItem('Sent:'+this._localKey+n.messageIdentifier)}for(var t in this._sentMessages={},this._receivedMessages){var o=this._receivedMessages[t];localStorage.removeItem('Received:'+this._localKey+o.messageIdentifier)}this._receivedMessages={}}if(0===e.returnCode)this.connected=!0,this.connectOptions.uris&&(this.hostIndex=this.connectOptions.uris.length);else{this._disconnected(m.CONNACK_RETURNCODE.code,_(m.CONNACK_RETURNCODE,[e.returnCode,g[e.returnCode]]));break}var s=[];for(var r in this._sentMessages)this._sentMessages.hasOwnProperty(r)&&s.push(this._sentMessages[r]);if(0<this._buffered_msg_queue.length)for(var a=null,l=this._buffered_msg_queue.reverse();a=l.pop();)s.push(a),this.onMessageDelivered&&(this._notify_msg_sent[a]=this.onMessageDelivered(a.payloadMessage));for(var s=s.sort(function(e,t){return e.sequence-t.sequence}),d=0,i=s.length,n;d<i;d++)if(n=s[d],n.type==c.PUBLISH&&n.pubRecReceived){var p=new h(c.PUBREL,{messageIdentifier:n.messageIdentifier});this._schedule_message(p)}else this._schedule_message(n);this.connectOptions.onSuccess&&this.connectOptions.onSuccess({invocationContext:this.connectOptions.invocationContext});var u=!1;this._reconnecting&&(u=!0,this._reconnectInterval=1,this._reconnecting=!1),this._connected(u,this._wsuri),this._process_queue();break;case c.PUBLISH:this._receivePublish(e);break;case c.PUBACK:var n=this._sentMessages[e.messageIdentifier];n&&(delete this._sentMessages[e.messageIdentifier],localStorage.removeItem('Sent:'+this._localKey+e.messageIdentifier),this.onMessageDelivered&&this.onMessageDelivered(n.payloadMessage));break;case c.PUBREC:var n=this._sentMessages[e.messageIdentifier];if(n){n.pubRecReceived=!0;var p=new h(c.PUBREL,{messageIdentifier:e.messageIdentifier});this.store('Sent:',n),this._schedule_message(p)}break;case c.PUBREL:var o=this._receivedMessages[e.messageIdentifier];localStorage.removeItem('Received:'+this._localKey+e.messageIdentifier),o&&(this._receiveMessage(o),delete this._receivedMessages[e.messageIdentifier]);var y=new h(c.PUBCOMP,{messageIdentifier:e.messageIdentifier});this._schedule_message(y);break;case c.PUBCOMP:var n=this._sentMessages[e.messageIdentifier];delete this._sentMessages[e.messageIdentifier],localStorage.removeItem('Sent:'+this._localKey+e.messageIdentifier),this.onMessageDelivered&&this.onMessageDelivered(n.payloadMessage);break;case c.SUBACK:var n=this._sentMessages[e.messageIdentifier];n&&(n.timeOut&&n.timeOut.cancel(),128===e.returnCode[0]?n.onFailure&&n.onFailure(e.returnCode):n.onSuccess&&n.onSuccess(e.returnCode),delete this._sentMessages[e.messageIdentifier]);break;case c.UNSUBACK:var n=this._sentMessages[e.messageIdentifier];n&&(n.timeOut&&n.timeOut.cancel(),n.callback&&n.callback(),delete this._sentMessages[e.messageIdentifier]);break;case c.PINGRESP:this.sendPinger.reset();break;case c.DISCONNECT:this._disconnected(m.INVALID_MQTT_MESSAGE_TYPE.code,_(m.INVALID_MQTT_MESSAGE_TYPE,[e.type]));break;default:this._disconnected(m.INVALID_MQTT_MESSAGE_TYPE.code,_(m.INVALID_MQTT_MESSAGE_TYPE,[e.type]));}}catch(e){var f='undefined'==e.hasOwnProperty('stack')?e.stack.toString():'No Error Stack Available';return void this._disconnected(m.INTERNAL_ERROR.code,_(m.INTERNAL_ERROR,[e.message,f]))}},b.prototype._on_socket_error=function(e){this._reconnecting||this._disconnected(m.SOCKET_ERROR.code,_(m.SOCKET_ERROR,[e.data]))},b.prototype._on_socket_close=function(){this._reconnecting||this._disconnected(m.SOCKET_CLOSE.code,_(m.SOCKET_CLOSE))},b.prototype._socket_send=function(e){if(1==e.type){var t=this._traceMask(e,'password');this._trace('Client._socket_send',t)}else this._trace('Client._socket_send',e);this.socket.send(e.encode()),this.sendPinger.reset()},b.prototype._receivePublish=function(e){switch(e.payloadMessage.qos){case'undefined':case 0:this._receiveMessage(e);break;case 1:var t=new h(c.PUBACK,{messageIdentifier:e.messageIdentifier});this._schedule_message(t),this._receiveMessage(e);break;case 2:this._receivedMessages[e.messageIdentifier]=e,this.store('Received:',e);var n=new h(c.PUBREC,{messageIdentifier:e.messageIdentifier});this._schedule_message(n);break;default:throw Error('Invaild qos='+wireMmessage.payloadMessage.qos);}},b.prototype._receiveMessage=function(e){this.onMessageArrived&&this.onMessageArrived(e.payloadMessage)},b.prototype._connected=function(e,t){this.onConnected&&this.onConnected(e,t)},b.prototype._reconnect=function(){this._trace('Client._reconnect'),this.connected||(this._reconnecting=!0,this.sendPinger.cancel(),this.receivePinger.cancel(),128>this._reconnectInterval&&(this._reconnectInterval*=2),this.connectOptions.uris?(this.hostIndex=0,this._doConnect(this.connectOptions.uris[0])):this._doConnect(this.uri))},b.prototype._disconnected=function(e,t){if(this._trace('Client._disconnected',e,t),void 0!==e&&this._reconnecting)return void(this._reconnectTimeout=new T(this,window,this._reconnectInterval,this._reconnect));if(this.sendPinger.cancel(),this.receivePinger.cancel(),this._connectTimeout&&(this._connectTimeout.cancel(),this._connectTimeout=null),this._msg_queue=[],this._buffered_msg_queue=[],this._notify_msg_sent={},this.socket&&(this.socket.onopen=null,this.socket.onmessage=null,this.socket.onerror=null,this.socket.onclose=null,1===this.socket.readyState&&this.socket.close(),delete this.socket),this.connectOptions.uris&&this.hostIndex<this.connectOptions.uris.length-1)this.hostIndex++,this._doConnect(this.connectOptions.uris[this.hostIndex]);else if(void 0===e&&(e=m.OK.code,t=_(m.OK)),!this.connected)4===this.connectOptions.mqttVersion&&!1===this.connectOptions.mqttVersionExplicit?(this._trace('Failed to connect V4, dropping back to V3'),this.connectOptions.mqttVersion=3,this.connectOptions.uris?(this.hostIndex=0,this._doConnect(this.connectOptions.uris[0])):this._doConnect(this.uri)):this.connectOptions.onFailure&&this.connectOptions.onFailure({invocationContext:this.connectOptions.invocationContext,errorCode:e,errorMessage:t});else if(this.connected=!1,this.onConnectionLost&&this.onConnectionLost({errorCode:e,errorMessage:t,reconnect:this.connectOptions.reconnect,uri:this._wsuri}),e!==m.OK.code&&this.connectOptions.reconnect)return this._reconnectInterval=1,void this._reconnect()},b.prototype._trace=function(){if(this.traceFunction){for(var e in arguments)'undefined'!=typeof arguments[e]&&arguments.splice(e,1,JSON.stringify(arguments[e]));var t=Array.prototype.slice.call(arguments).join('');this.traceFunction({severity:'Debug',message:t})}if(null!==this._traceBuffer)for(var e=0,n=arguments.length;e<n;e++)this._traceBuffer.length==this._MAX_TRACE_ENTRIES&&this._traceBuffer.shift(),0===e?this._traceBuffer.push(arguments[e]):'undefined'==typeof arguments[e]?this._traceBuffer.push(arguments[e]):this._traceBuffer.push('  '+JSON.stringify(arguments[e]))},b.prototype._traceMask=function(e,t){var n={};for(var o in e)e.hasOwnProperty(o)&&(n[o]=o==t?'******':e[o]);return n};var x=function(e,t,n,o){var s;if('string'!=typeof e)throw new Error(_(m.INVALID_TYPE,[typeof e,'host']));if(2==arguments.length){o=t,s=e;var r=s.match(/^(wss?):\/\/((\[(.+)\])|([^\/]+?))(:(\d+))?(\/.*)$/);if(r)e=r[4]||r[2],t=parseInt(r[7]),n=r[8];else throw new Error(_(m.INVALID_ARGUMENT,[e,'host']))}else{if(3==arguments.length&&(o=n,n='/mqtt'),'number'!=typeof t||0>t)throw new Error(_(m.INVALID_TYPE,[typeof t,'port']));if('string'!=typeof n)throw new Error(_(m.INVALID_TYPE,[typeof n,'path']));var a=-1!==e.indexOf(':')&&'['!==e.slice(0,1)&&']'!==e.slice(-1);s='ws://'+(a?'['+e+']':e)+':'+t+n}for(var l=0,d=0,i;d<o.length;d++)i=o.charCodeAt(d),55296<=i&&56319>=i&&d++,l++;if('string'!=typeof o||65535<l)throw new Error(_(m.INVALID_ARGUMENT,[o,'clientId']));var c=new b(s,e,t,n,o);this._getHost=function(){return e},this._setHost=function(){throw new Error(_(m.UNSUPPORTED_OPERATION))},this._getPort=function(){return t},this._setPort=function(){throw new Error(_(m.UNSUPPORTED_OPERATION))},this._getPath=function(){return n},this._setPath=function(){throw new Error(_(m.UNSUPPORTED_OPERATION))},this._getURI=function(){return s},this._setURI=function(){throw new Error(_(m.UNSUPPORTED_OPERATION))},this._getClientId=function(){return c.clientId},this._setClientId=function(){throw new Error(_(m.UNSUPPORTED_OPERATION))},this._getOnConnected=function(){return c.onConnected},this._setOnConnected=function(e){if('function'==typeof e)c.onConnected=e;else throw new Error(_(m.INVALID_TYPE,[typeof e,'onConnected']))},this._getDisconnectedPublishing=function(){return c.disconnectedPublishing},this._setDisconnectedPublishing=function(e){c.disconnectedPublishing=e},this._getDisconnectedBufferSize=function(){return c.disconnectedBufferSize},this._setDisconnectedBufferSize=function(e){c.disconnectedBufferSize=e},this._getOnConnectionLost=function(){return c.onConnectionLost},this._setOnConnectionLost=function(e){if('function'==typeof e)c.onConnectionLost=e;else throw new Error(_(m.INVALID_TYPE,[typeof e,'onConnectionLost']))},this._getOnMessageDelivered=function(){return c.onMessageDelivered},this._setOnMessageDelivered=function(e){if('function'==typeof e)c.onMessageDelivered=e;else throw new Error(_(m.INVALID_TYPE,[typeof e,'onMessageDelivered']))},this._getOnMessageArrived=function(){return c.onMessageArrived},this._setOnMessageArrived=function(e){if('function'==typeof e)c.onMessageArrived=e;else throw new Error(_(m.INVALID_TYPE,[typeof e,'onMessageArrived']))},this._getTrace=function(){return c.traceFunction},this._setTrace=function(e){if('function'==typeof e)c.traceFunction=e;else throw new Error(_(m.INVALID_TYPE,[typeof e,'onTrace']))},this.connect=function(e){if(e=e||{},p(e,{timeout:'number',userName:'string',password:'string',willMessage:'object',keepAliveInterval:'number',cleanSession:'boolean',useSSL:'boolean',invocationContext:'object',onSuccess:'function',onFailure:'function',hosts:'object',ports:'object',reconnect:'boolean',mqttVersion:'number',mqttVersionExplicit:'boolean',uris:'object'}),void 0===e.keepAliveInterval&&(e.keepAliveInterval=60),4<e.mqttVersion||3>e.mqttVersion)throw new Error(_(m.INVALID_ARGUMENT,[e.mqttVersion,'connectOptions.mqttVersion']));if(void 0===e.mqttVersion?(e.mqttVersionExplicit=!1,e.mqttVersion=4):e.mqttVersionExplicit=!0,void 0!==e.password&&void 0===e.userName)throw new Error(_(m.INVALID_ARGUMENT,[e.password,'connectOptions.password']));if(e.willMessage){if(!(e.willMessage instanceof S))throw new Error(_(m.INVALID_TYPE,[e.willMessage,'connectOptions.willMessage']));if(e.willMessage.stringPayload=null,'undefined'==typeof e.willMessage.destinationName)throw new Error(_(m.INVALID_TYPE,[typeof e.willMessage.destinationName,'connectOptions.willMessage.destinationName']))}if('undefined'==typeof e.cleanSession&&(e.cleanSession=!0),e.hosts){if(!(e.hosts instanceof Array))throw new Error(_(m.INVALID_ARGUMENT,[e.hosts,'connectOptions.hosts']));if(1>e.hosts.length)throw new Error(_(m.INVALID_ARGUMENT,[e.hosts,'connectOptions.hosts']));for(var t=!1,o=0;o<e.hosts.length;o++){if('string'!=typeof e.hosts[o])throw new Error(_(m.INVALID_TYPE,[typeof e.hosts[o],'connectOptions.hosts['+o+']']));if(/^(wss?):\/\/((\[(.+)\])|([^\/]+?))(:(\d+))?(\/.*)$/.test(e.hosts[o])){if(0===o)t=!0;else if(!t)throw new Error(_(m.INVALID_ARGUMENT,[e.hosts[o],'connectOptions.hosts['+o+']']));}else if(t)throw new Error(_(m.INVALID_ARGUMENT,[e.hosts[o],'connectOptions.hosts['+o+']']))}if(!t){if(!e.ports)throw new Error(_(m.INVALID_ARGUMENT,[e.ports,'connectOptions.ports']));if(!(e.ports instanceof Array))throw new Error(_(m.INVALID_ARGUMENT,[e.ports,'connectOptions.ports']));if(e.hosts.length!==e.ports.length)throw new Error(_(m.INVALID_ARGUMENT,[e.ports,'connectOptions.ports']));e.uris=[];for(var o=0;o<e.hosts.length;o++){if('number'!=typeof e.ports[o]||0>e.ports[o])throw new Error(_(m.INVALID_TYPE,[typeof e.ports[o],'connectOptions.ports['+o+']']));var r=e.hosts[o],a=e.ports[o],i=-1!==r.indexOf(':');s='ws://'+(i?'['+r+']':r)+':'+a+n,e.uris.push(s)}}else e.uris=e.hosts}c.connect(e)},this.subscribe=function(e,t){if('string'!=typeof e)throw new Error('Invalid argument:'+e);if(t=t||{},p(t,{qos:'number',invocationContext:'object',onSuccess:'function',onFailure:'function',timeout:'number'}),t.timeout&&!t.onFailure)throw new Error('subscribeOptions.timeout specified with no onFailure callback.');if('undefined'!=typeof t.qos&&0!==t.qos&&1!==t.qos&&2!==t.qos)throw new Error(_(m.INVALID_ARGUMENT,[t.qos,'subscribeOptions.qos']));c.subscribe(e,t)},this.unsubscribe=function(e,t){if('string'!=typeof e)throw new Error('Invalid argument:'+e);if(t=t||{},p(t,{invocationContext:'object',onSuccess:'function',onFailure:'function',timeout:'number'}),t.timeout&&!t.onFailure)throw new Error('unsubscribeOptions.timeout specified with no onFailure callback.');c.unsubscribe(e,t)},this.send=function(e,t,n,o){var s;if(0===arguments.length)throw new Error('Invalid argument.length');else if(1==arguments.length){if(!(e instanceof S)&&'string'!=typeof e)throw new Error('Invalid argument:'+typeof e);if(s=e,'undefined'==typeof s.destinationName)throw new Error(_(m.INVALID_ARGUMENT,[s.destinationName,'Message.destinationName']));c.send(s)}else s=new S(t),s.destinationName=e,3<=arguments.length&&(s.qos=n),4<=arguments.length&&(s.retained=o),c.send(s)},this.publish=function(e,t,n,o){console.log('Publising message to: ',e);var s;if(0===arguments.length)throw new Error('Invalid argument.length');else if(1==arguments.length){if(!(e instanceof S)&&'string'!=typeof e)throw new Error('Invalid argument:'+typeof e);if(s=e,'undefined'==typeof s.destinationName)throw new Error(_(m.INVALID_ARGUMENT,[s.destinationName,'Message.destinationName']));c.send(s)}else s=new S(t),s.destinationName=e,3<=arguments.length&&(s.qos=n),4<=arguments.length&&(s.retained=o),c.send(s)},this.disconnect=function(){c.disconnect()},this.getTraceLog=function(){return c.getTraceLog()},this.startTrace=function(){c.startTrace()},this.stopTrace=function(){c.stopTrace()},this.isConnected=function(){return c.connected}};x.prototype={get host(){return this._getHost()},set host(e){this._setHost(e)},get port(){return this._getPort()},set port(e){this._setPort(e)},get path(){return this._getPath()},set path(e){this._setPath(e)},get clientId(){return this._getClientId()},set clientId(e){this._setClientId(e)},get onConnected(){return this._getOnConnected()},set onConnected(e){this._setOnConnected(e)},get disconnectedPublishing(){return this._getDisconnectedPublishing()},set disconnectedPublishing(e){this._setDisconnectedPublishing(e)},get disconnectedBufferSize(){return this._getDisconnectedBufferSize()},set disconnectedBufferSize(e){this._setDisconnectedBufferSize(e)},get onConnectionLost(){return this._getOnConnectionLost()},set onConnectionLost(e){this._setOnConnectionLost(e)},get onMessageDelivered(){return this._getOnMessageDelivered()},set onMessageDelivered(e){this._setOnMessageDelivered(e)},get onMessageArrived(){return this._getOnMessageArrived()},set onMessageArrived(e){this._setOnMessageArrived(e)},get trace(){return this._getTrace()},set trace(e){this._setTrace(e)}};var S=function(e){var t;if('string'==typeof e||e instanceof ArrayBuffer||e instanceof Int8Array||e instanceof Uint8Array||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)t=e;else throw _(m.INVALID_ARGUMENT,[e,'newPayload']);this._getPayloadString=function(){return'string'==typeof t?t:d(t,0,t.length)},this._getPayloadBytes=function(){if('string'==typeof t){var e=new ArrayBuffer(l(t)),n=new Uint8Array(e);return i(t,n,0),n}return t};var n;this._getDestinationName=function(){return n},this._setDestinationName=function(e){if('string'==typeof e)n=e;else throw new Error(_(m.INVALID_ARGUMENT,[e,'newDestinationName']))};var o=0;this._getQos=function(){return o},this._setQos=function(e){if(0===e||1===e||2===e)o=e;else throw new Error('Invalid argument:'+e)};var s=!1;this._getRetained=function(){return s},this._setRetained=function(e){if('boolean'==typeof e)s=e;else throw new Error(_(m.INVALID_ARGUMENT,[e,'newRetained']))};var r=!1;this._getDuplicate=function(){return r},this._setDuplicate=function(e){r=e}};return S.prototype={get payloadString(){return this._getPayloadString()},get payloadBytes(){return this._getPayloadBytes()},get destinationName(){return this._getDestinationName()},set destinationName(e){this._setDestinationName(e)},get topic(){return this._getDestinationName()},set topic(e){this._setDestinationName(e)},get qos(){return this._getQos()},set qos(e){this._setQos(e)},get retained(){return this._getRetained()},set retained(e){this._setRetained(e)},get duplicate(){return this._getDuplicate()},set duplicate(e){this._setDuplicate(e)}},{Client:x,Message:S}}(window);return e})},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default={typing:function(e,t){vStore.dispatch('setTyping',{topic:e,message:t})},read:function(e,t){vStore.dispatch('setRead',{topic:e,message:t})},delivered:function(){}}},function(e){e.exports={name:'qiscus-sdk-core',version:'2.6.6-alpha1',description:'Qiscus Web SDK Core',license:'MIT',main:'dist/QiscusSDKCore.min.js',scripts:{build:'cross-env WEBPACK_ENV=build webpack',dev:'cross-env WEBPACK_ENV=dev webpack --progress --colors --watch',test:'mocha --compilers js:babel-core/register --colors -w test/test*.js'},devDependencies:{"babel-core":'^6.26.0',"babel-eslint":'^8.0.0',"babel-loader":'^7.1.2',"babel-minify-webpack-plugin":'^0.2.0',"babel-plugin-date-fns":'^0.1.0',"babel-polyfill":'^6.26.0',"babel-preset-env":'^1.6.0',"babel-preset-es2015":'^6.24.1',chai:'^4.1.2',"cross-env":'^5.1.4',esdoc:'^1.0.2',"esdoc-standard-plugin":'^1.0.0',eslint:'^4.7.0',"eslint-loader":'^1.9.0',mocha:'^3.5.3',webpack:'^3.6.0',"webpack-bundle-analyzer":'^2.10.1'},dependencies:{"date-fns":'^1.28.5',mqtt:'2.15.3',"paho-mqtt":'^1.0.4',r2:'^2.0.0',superagent:'^3.6.3'}}}])});
//# sourceMappingURL=QiscusSDKCore.min.js.map